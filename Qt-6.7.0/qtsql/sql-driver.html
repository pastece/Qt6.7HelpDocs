<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
<!-- sql-driver.qdoc -->
  <meta name="description" content="How to configure and install Qt SQL drivers for supported databases.">
  <title>SQL Database Drivers | Qt SQL 6.7.0</title>
  <link rel="stylesheet" type="text/css" href="style/offline-simple.css" />
  <script type="text/javascript">
    document.getElementsByTagName("link").item(0).setAttribute("href", "style/offline.css");
    // loading style sheet breaks anchors that were jumped to before
    // so force jumping to anchor again
    setTimeout(function() {
        var anchor = location.hash;
        // need to jump to different anchor first (e.g. none)
        location.hash = "#";
        setTimeout(function() {
            location.hash = anchor;
        }, 0);
    }, 0);
  </script>
</head>
<body>
<div class="header" id="qtdocheader">
    <div class="main">
    <div class="main-rounded">
        <div class="navigationbar">
        <ul>
<li><a href="../qtdoc/index.html" translate="no">Qt 6.7</a></li>
<li><a href="qtsql-index.html" translate="no">Qt SQL</a></li>
<li>SQL Database Drivers</li>
<li id="buildversion"><a href="qtsql-index.html" translate="no">Qt 6.7.0 Reference Documentation</a></li>
    </ul>
    </div>
</div>
<div class="content">
<div class="line">
<div class="content mainContent">
<div class="sidebar">
<div class="toc">
<h3 id="toc">Contents</h3>
<ul>
<li class="level1"><a href="#supported-databases">Supported Databases</a></li>
<li class="level1"><a href="#building-the-drivers">Building the Drivers</a></li>
<li class="level2"><a href="#compile-qt-with-a-specific-driver">Compile Qt with a specific driver</a></li>
<li class="level2"><a href="#compile-only-a-specific-sql-driver">Compile only a specific sql driver</a></li>
<li class="level1"><a href="#driver-specifics">Driver Specifics</a></li>
<li class="level2"><a href="#qmysql-for-mysql-or-mariadb-5-6-and-higher">QMYSQL for MySQL or MariaDB 5.6 and higher</a></li>
<li class="level2"><a href="#qoci-for-the-oracle-call-interface-oci">QOCI for the Oracle Call Interface (OCI)</a></li>
<li class="level2"><a href="#qodbc-for-open-database-connectivity-odbc">QODBC for Open Database Connectivity (ODBC)</a></li>
<li class="level2"><a href="#qpsql-for-postgresql-version-7-3-and-above">QPSQL for PostgreSQL (Version 7.3 and above)</a></li>
<li class="level2"><a href="#qdb2-for-ibm-db2-version-7-1-and-above">QDB2 for IBM DB2 (Version 7.1 and above)</a></li>
<li class="level2"><a href="#qsqlite-for-sqlite-version-3-and-above">QSQLITE for SQLite (Version 3 and above)</a></li>
<li class="level2"><a href="#qmimer-for-mimer-sql-version-11-and-higher">QMIMER for Mimer SQL version 11 and higher</a></li>
<li class="level2"><a href="#qibase-for-borland-interbase">QIBASE for Borland InterBase</a></li>
<li class="level1"><a href="#troubleshooting">Troubleshooting</a></li>
<li class="level1"><a href="#how-to-write-your-own-database-driver">How to Write Your Own Database Driver</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<h1 class="title">SQL Database Drivers</h1>
<!-- $$$sql-driver.html-description -->
<div class="descr" id="details">
<p>The Qt SQL module uses driver <a href="../qtdoc/plugins-howto.html" translate="no">plugins</a> to communicate with the different database APIs. Since Qt's SQL Module API is database-independent, all database-specific code is contained within these drivers. Several drivers are supplied with Qt, and other drivers can be added. The driver source code is supplied and can be used as a model for <a href="sql-driver.html#development" translate="no">writing your own drivers</a>.</p>
<h2 id="supported-databases">Supported Databases</h2>
<p>The table below lists the drivers included with Qt:</p>
<div class="table"><table class="generic">
 <thead><tr class="qt-style"><th >Driver name</th><th >DBMS</th></tr></thead>
<tr valign="top" class="odd"><td ><a href="sql-driver.html#qdb2" translate="no">QDB2</a></td><td >IBM DB2 (version 7.1 and above)</td></tr>
<tr valign="top" class="even"><td ><a href="sql-driver.html#qibase" translate="no">QIBASE</a></td><td >Borland InterBase / Firebird</td></tr>
<tr valign="top" class="odd"><td ><a href="sql-driver.html#qmysql" translate="no">QMYSQL / MARIADB</a></td><td >MySQL or MariaDB (version 5.6 and above)</td></tr>
<tr valign="top" class="even"><td ><a href="sql-driver.html#qoci" translate="no">QOCI</a></td><td >Oracle Call Interface Driver (version 12.1 and above)</td></tr>
<tr valign="top" class="odd"><td ><a href="sql-driver.html#qodbc" translate="no">QODBC</a></td><td >Open Database Connectivity (ODBC) - Microsoft SQL Server and other ODBC-compliant databases</td></tr>
<tr valign="top" class="even"><td ><a href="sql-driver.html#qpsql" translate="no">QPSQL</a></td><td >PostgreSQL (versions 7.3 and above)</td></tr>
<tr valign="top" class="odd"><td ><a href="sql-driver.html#qsqlite" translate="no">QSQLITE</a></td><td >SQLite version 3</td></tr>
<tr valign="top" class="even"><td ><a href="sql-driver.html#qmimer" translate="no">QMIMER</a></td><td >Mimer SQL (version 11 and above)</td></tr>
</table></div>
<p>SQLite is the in-process database system with the best test coverage and support on all platforms. Oracle via OCI, PostgreSQL, and MySQL through either ODBC or a native driver are well-tested on Windows and Linux. The completeness of the support for other systems depends on the availability and quality of client libraries.</p>
<div class="admonition note">
<p><b>Note: </b>To build a driver plugin you need to have the appropriate client library for your Database Management System (DBMS). This provides access to the API exposed by the DBMS, and is typically shipped with it. Most installation programs also allow you to install &quot;development libraries&quot;, and these are what you need. These libraries are responsible for the low-level communication with the DBMS. Also make sure to install the correct database libraries for your Qt architecture (32 or 64 bit).</p>
</div>
<div class="admonition note">
<p><b>Note: </b>When using Qt under Open Source terms but with a proprietary database, verify the client library's license compatibility with the LGPL.</p>
</div>
<span id="building"></span><h2 id="building-the-drivers">Building the Drivers</h2>
<span id="driverwithqt"></span><h3 id="compile-qt-with-a-specific-driver">Compile Qt with a specific driver</h3>
<p>The Qt <code translate="no">configure</code> script tries to automatically detect the available client libraries on your machine. Run <code translate="no">configure -help</code> to see what drivers can be built. You should get an output similar to this:</p>
<pre class="cpp" translate="no">
 <span class="operator">[</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">]</span>

 Database options:

   <span class="operator">-</span>sql<span class="operator">-</span><span class="operator">&lt;</span>driver<span class="operator">&gt;</span> <span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span> Enable SQL <span class="operator">&lt;</span>driver<span class="operator">&gt;</span> plugin<span class="operator">.</span> Supported drivers:
                          db2 ibase mysql oci odbc psql sqlite
                          <span class="operator">[</span>all <span class="keyword">auto</span><span class="operator">]</span>
   <span class="operator">-</span>sqlite <span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span> Select used sqlite <span class="operator">[</span>system<span class="operator">/</span>qt<span class="operator">]</span>

 <span class="operator">[</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">]</span>
</pre>
<p>The <code translate="no">configure</code> script cannot detect the necessary libraries and include files if they are not in the standard paths, so it may be necessary to specify these paths using either driver-specific include and library path variables or <code translate="no">CMAKE_INCLUDE_PATH</code> and <code translate="no">CMAKE_LIBRARY_PATH</code>. For example, if your MySQL files are installed in <code translate="no">C:\mysql-connector-c-6.1.11-winx64</code> on Windows, then pass the following parameter to double-dash part of configure line:</p>
<pre class="cpp" translate="no">
 C:\<span class="type"><a href="../qtcore/qt.html" translate="no">Qt</a></span>\<span class="number">6.0.0</span>\Src\configure<span class="operator">.</span>bat <span class="operator">-</span>sql<span class="operator">-</span>mysql <span class="operator">-</span><span class="operator">-</span> <span class="operator">-</span>DMySQL_INCLUDE_DIR<span class="operator">=</span><span class="string">&quot;C:\mysql-8.0.22-winx64\include&quot;</span> <span class="operator">-</span>DMySQL_LIBRARY<span class="operator">=</span><span class="string">&quot;C:\mysql-8.0.22-winx64\lib\libmysql.lib&quot;</span>
 Configure summary:

 <span class="operator">.</span><span class="operator">.</span><span class="operator">.</span>
 <span class="type"><a href="../qtcore/qt.html" translate="no">Qt</a></span> Sql Drivers:
   DB2 (IBM) <span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span> no
   InterBase <span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span> no
   Mimer SQL <span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span> yes
   MySql <span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span> yes
   OCI (Oracle) <span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span> no
   ODBC <span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span> yes
   PostgreSQL <span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span> no
   SQLite <span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span> yes
     Using system provided SQLite <span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span> no
 <span class="operator">.</span><span class="operator">.</span><span class="operator">.</span>
</pre>
<p>When you configure drivers in the manner described above, CMake skips any dependency checks and uses the provided paths as is. This is especially useful if the package provides its own set of system libraries that should not be recognized by the build routine.</p>
<p>In some cases it's more convenient to use <code translate="no">CMAKE_INCLUDE_PATH</code> and <code translate="no">CMAKE_LIBRARY_PATH</code> variables to locate required libraries. You should prefer this method if module needs to set properties for the provided target libraries (e.g. this is required for PostgreSQL and SQLite). For example, you can do this as follows, to locate MySQL:</p>
<pre class="cpp" translate="no">
 C:\<span class="type"><a href="../qtcore/qt.html" translate="no">Qt</a></span>\<span class="number">6.0.0</span>\Src\configure<span class="operator">.</span>bat <span class="operator">-</span>sql<span class="operator">-</span>mysql <span class="operator">-</span><span class="operator">-</span> <span class="operator">-</span>DCMAKE_INCLUDE_PATH<span class="operator">=</span><span class="string">&quot;C:\mysql-8.0.22-winx64\include&quot;</span> <span class="operator">-</span>DCMAKE_LIBRARY_PATH<span class="operator">=</span><span class="string">&quot;C:\mysql-8.0.22-winx64\lib&quot;</span>
 Configure summary:

 <span class="operator">.</span><span class="operator">.</span><span class="operator">.</span>
 <span class="type"><a href="../qtcore/qt.html" translate="no">Qt</a></span> Sql Drivers:
   DB2 (IBM) <span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span> no
   InterBase <span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span> no
   Mimer SQL <span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span> yes
   MySql <span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span> yes
   OCI (Oracle) <span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span> no
   ODBC <span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span> yes
   PostgreSQL <span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span> no
   SQLite <span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span> yes
     Using system provided SQLite <span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span> no
 <span class="operator">.</span><span class="operator">.</span><span class="operator">.</span>
</pre>
<p>The particulars for each driver are explained below.</p>
<div class="admonition note">
<p><b>Note: </b>If something goes wrong and you want CMake to recheck your available drivers, you might need to remove <i>CMakeCache.txt</i> from the build directory.</p>
</div>
<span id="driverstandalone"></span><h3 id="compile-only-a-specific-sql-driver">Compile only a specific sql driver</h3>
<p>A typical <code translate="no">qt-cmake</code> run (in this case to configure for MySQL) looks like this:</p>
<pre class="cpp" translate="no">
 C:\<span class="type"><a href="../qtcore/qt.html" translate="no">Qt</a></span>\<span class="number">6.0.0</span>\mingw81_64\bin\qt<span class="operator">-</span>cmake <span class="operator">-</span>G Ninja C:\<span class="type"><a href="../qtcore/qt.html" translate="no">Qt</a></span>\<span class="number">6.0.0</span>\Src\qtbase\src\plugins\sqldrivers <span class="operator">-</span>DMySQL_INCLUDE_DIR<span class="operator">=</span><span class="string">&quot;C:\mysql-8.0.22-winx64\include&quot;</span> <span class="operator">-</span>DMySQL_LIBRARY<span class="operator">=</span><span class="string">&quot;C:\mysql-8.0.22-winx64\lib\libmysql.lib&quot;</span> <span class="operator">-</span>DCMAKE_INSTALL_PREFIX<span class="operator">=</span><span class="string">&quot;C:\Qt\6.0.0\mingw81_64&quot;</span>
 Configure summary:

 <span class="type"><a href="../qtcore/qt.html" translate="no">Qt</a></span> Sql Drivers:
   DB2 (IBM) <span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span> no
   InterBase <span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span> no
   Mimer SQL <span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span> yes
   MySql <span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span> yes
   OCI (Oracle) <span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span> no
   ODBC <span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span> yes
   PostgreSQL <span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span> no
   SQLite <span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span> yes
     Using system provided SQLite <span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span> no

 <span class="operator">-</span><span class="operator">-</span> Configuring done
 <span class="operator">-</span><span class="operator">-</span> Generating done
 <span class="operator">-</span><span class="operator">-</span> Build files have been written to: C:<span class="operator">/</span>build<span class="operator">-</span>qt6<span class="operator">-</span>sqldrivers
</pre>
<div class="admonition note">
<p><b>Note: </b>As mentioned in <a href="sql-driver.html#driverwithqt" translate="no">Compile Qt with a specific driver</a>, if the driver could not be found or is not enabled, start over by removing <i>CMakeCache.txt</i>.</p>
</div>
<p>Due to the practicalities of dealing with external dependencies, only the SQLite plugin is shipped with binary builds of Qt. Binary builds of Qt for Windows also include the ODBC plugin. To be able to add additional drivers to the Qt installation without re-building all of Qt, it is possible to configure and build the <code translate="no">qtbase/src/plugins/sqldrivers</code> directory outside of a full Qt build directory. Note that it is not possible to <i>configure</i> each driver separately, only all of them at once. Drivers can be <i>built</i> separately, though.</p>
<div class="admonition note">
<p><b>Note: </b>You need to specify <code translate="no">CMAKE_INSTALL_PREFIX</code>, if you want to install plugins after the build is finished.</p>
</div>
<h2 id="driver-specifics">Driver Specifics</h2>
<span id="qmysql"></span><h3 id="qmysql-for-mysql-or-mariadb-5-6-and-higher">QMYSQL for MySQL or MariaDB 5.6 and higher</h3>
<p>MariaDB is a fork of MySQL intended to remain free and open-source software under the GNU General Public License. MariaDB intended to maintain high compatibility with MySQL, ensuring a drop-in replacement capability with library binary parity and exact matching with MySQL APIs and commands. Therefore the plugin for MySQL and MariaDB are combined into one Qt plugin.</p>
<h4 id="qmysql-stored-procedure-support">QMYSQL Stored Procedure Support</h4>
<p>MySQL has stored procedure support at the SQL level, but no API to control IN, OUT, and INOUT parameters. Therefore, parameters have to be set and read using SQL commands instead of <a href="qsqlquery.html#bindValue" translate="no">QSqlQuery::bindValue</a>().</p>
<p>Example stored procedure:</p>
<pre class="cpp" translate="no">
 create procedure qtestproc (OUT param1 INT<span class="operator">,</span> OUT param2 INT)
 BEGIN
     set param1 <span class="operator">=</span> <span class="number">42</span>;
     set param2 <span class="operator">=</span> <span class="number">43</span>;
 END
</pre>
<p>Source code to access the OUT values:</p>
<pre class="cpp" translate="no">
 <span class="type"><a href="qsqlquery.html" translate="no">QSqlQuery</a></span> q;
 q<span class="operator">.</span>exec(<span class="string">&quot;call qtestproc (@outval1, @outval2)&quot;</span>);
 q<span class="operator">.</span>exec(<span class="string">&quot;select @outval1, @outval2&quot;</span>);
 <span class="keyword">if</span> (q<span class="operator">.</span>next())
     <a href="../qtcore/qtlogging.html#qDebug" translate="no">qDebug</a>() <span class="operator">&lt;</span><span class="operator">&lt;</span> q<span class="operator">.</span>value(<span class="number">0</span>) <span class="operator">&lt;</span><span class="operator">&lt;</span> q<span class="operator">.</span>value(<span class="number">1</span>); <span class="comment">// outputs &quot;42&quot; and &quot;43&quot;</span>
</pre>
<div class="admonition note">
<p><b>Note: </b><code translate="no">@outval1</code> and <code translate="no">@outval2</code> are variables local to the current connection and will not be affected by queries sent from another host or connection.</p>
</div>
<h4 id="embedded-mysql-server">Embedded MySQL Server</h4>
<p>The MySQL embedded server is a drop-in replacement for the normal client library. With the embedded MySQL server, a MySQL server is not required to use MySQL functionality.</p>
<p>To use the embedded MySQL server, simply link the Qt plugin to <code translate="no">libmysqld</code> instead of <code translate="no">libmysqlclient</code>. This can be done by adding <code translate="no">-DMySQL_LIBRARY=&lt;path/to/mysqld/&gt;libmysqld.&lt;so|lib|dylib&gt;</code> to the configure command line.</p>
<p>Please refer to the MySQL documentation, chapter &quot;libmysqld, the Embedded MySQL Server Library&quot; for more information about the MySQL embedded server.</p>
<h4 id="connection-options">Connection options</h4>
<p>The Qt MySQL/MariaDB plugin honors the following connection options:</p>
<div class="table"><table class="generic">
 <thead><tr class="qt-style"><th >Attribute</th><th >Possible value</th></tr></thead>
<tr valign="top" class="odd"><td >CLIENT_COMPRESS</td><td >If set, switches to compressed protocol after successful authentication</td></tr>
<tr valign="top" class="even"><td >CLIENT_FOUND_ROWS</td><td >If set, send found rows instead of affected rows</td></tr>
<tr valign="top" class="odd"><td >CLIENT_IGNORE_SPACE</td><td >If set, ignore spaces before '('</td></tr>
<tr valign="top" class="even"><td >CLIENT_NO_SCHEMA</td><td >If set, don't allow database.table.column</td></tr>
<tr valign="top" class="odd"><td >CLIENT_INTERACTIVE</td><td >If set, client is treated as interactive</td></tr>
<tr valign="top" class="even"><td >MYSQL_OPT_PROTOCOL</td><td >explicitly specify the protocol to use:<br />
 MYSQL_PROTOCOL_TCP: use tcp connection (ip/hostname specified through setHostname()) MYSQL_PROTOCOL_SOCKET: connect through a socket specified in UNIX_SOCKET MYSQL_PROTOCOL_PIPE: connect through a named pipe specified in UNIX_SOCKET MYSQL_PROTOCOL_MEMORY: connect through shared memory specified in MYSQL_SHARED_MEMORY_BASE_NAME</td></tr>
<tr valign="top" class="odd"><td >UNIX_SOCKET</td><td >Specifies the socket or named pipe to use, even it's called UNIX_SOCKET it can also be used on windows</td></tr>
<tr valign="top" class="even"><td >MYSQL_SHARED_MEMORY_BASE_NAME</td><td >Specified the shared memory segment name to use</td></tr>
<tr valign="top" class="odd"><td >MYSQL_OPT_RECONNECT</td><td >TRUE or 1: Automatically reconnect after connection loss<br />
 FALSE or 0: No automatic reconnect after connection loss (default)<br />
 See <a href="https://dev.mysql.com/doc/c-api/8.0/en/c-api-auto-reconnect.html" translate="no">Automatic Reconnection Control</a></td></tr>
<tr valign="top" class="even"><td >MYSQL_OPT_CONNECT_TIMEOUT</td><td >The connect timeout in seconds</td></tr>
<tr valign="top" class="odd"><td >MYSQL_OPT_READ_TIMEOUT</td><td >The timeout in seconds for each attempt to read from the server</td></tr>
<tr valign="top" class="even"><td >MYSQL_OPT_WRITE_TIMEOUT</td><td >The timeout in seconds for each attempt to write to the server</td></tr>
<tr valign="top" class="odd"><td >MYSQL_OPT_LOCAL_INFILE</td><td >Set to 1 to enable the support for local <a href="https://dev.mysql.com/doc/refman/8.0/en/load-data.html" translate="no">LOAD_DATA</a>, disabled if not set or 0</td></tr>
<tr valign="top" class="even"><td >MYSQL_OPT_SSL_MODE</td><td >The security state to use for the connection to the server: SSL_MODE_DISABLED, SSL_MODE_PREFERRED, SSL_MODE_REQUIRED, SSL_MODE_VERIFY_CA, SSL_MODE_VERIFY_IDENTITY.</td></tr>
<tr valign="top" class="odd"><td >MYSQL_OPT_TLS_VERSION</td><td >A list of protocols the client permits for encrypted connections. The value can be a combination of 'TLSv1' ,' TLSv1.1', 'TLSv1.2' or 'TLSv1.3' depending on the used <a href="https://dev.mysql.com/doc/refman/8.0/en/encrypted-connection-protocols-ciphers.html#encrypted-connection-protocol-configuration" translate="no">MySQL server</a> version.</td></tr>
<tr valign="top" class="even"><td >MYSQL_OPT_SSL_KEY / SSL_KEY (deprecated)</td><td >The path name of the client private key file</td></tr>
<tr valign="top" class="odd"><td >MYSQL_OPT_SSL_CERT / SSL_CERT (deprecated)</td><td >The path name of the client public key certificate file</td></tr>
<tr valign="top" class="even"><td >MYSQL_OPT_SSL_CA / SSL_CA (deprecated)</td><td >The path name of the Certificate Authority (CA) certificate file</td></tr>
<tr valign="top" class="odd"><td >MYSQL_OPT_SSL_CAPATH / SSL_CAPATH (deprecated)</td><td >The path name of the directory that contains trusted SSL CA certificate files</td></tr>
<tr valign="top" class="even"><td >MYSQL_OPT_SSL_CIPHER / SSL_CIPHER (deprecated)</td><td >The list of permissible ciphers for SSL encryption</td></tr>
<tr valign="top" class="odd"><td >MYSQL_OPT_SSL_CRL</td><td >The path name of the file containing certificate revocation lists</td></tr>
<tr valign="top" class="even"><td >MYSQL_OPT_SSL_CRLPATH</td><td >The path name of the directory that contains files containing certificate revocation lists</td></tr>
</table></div>
<p>For more detailed information about the connect options please refer to the <a href="https://dev.mysql.com/doc/c-api/8.0/en/mysql-options.html" translate="no">mysql_options()</a> MySQL documentation.</p>
<h4 id="how-to-build-the-qmysql-plugin-on-unix-and-macos">How to Build the QMYSQL Plugin on Unix and macOS</h4>
<p>You need the MySQL / MariaDB header files, as well as the shared library <code translate="no">libmysqlclient.&lt;so|dylib&gt;</code> / <code translate="no">libmariadb.&lt;so|dylib&gt;</code>. Depending on your Linux distribution, you may need to install a package which is usually called &quot;mysql-devel&quot; or &quot;mariadb-devel&quot;.</p>
<p>Tell <code translate="no">qt-cmake</code> where to find the MySQL / MariaDB header files and shared libraries (here it is assumed that MySQL / MariaDB is installed in <code translate="no">/usr/local</code>) and build:</p>
<pre class="cpp" translate="no">
 mkdir build<span class="operator">-</span>sqldrivers
 cd build<span class="operator">-</span>sqldrivers
 qt<span class="operator">-</span>cmake <span class="operator">-</span>G Ninja <span class="operator">&lt;</span>qt_source_directory<span class="operator">&gt;</span><span class="operator">/</span>qtbase<span class="operator">/</span>src<span class="operator">/</span>plugins<span class="operator">/</span>sqldrivers <span class="operator">-</span>DCMAKE_INSTALL_PREFIX<span class="operator">=</span><span class="operator">&lt;</span>qt_installation_path<span class="operator">&gt;</span><span class="operator">/</span><span class="operator">&lt;</span>platform<span class="operator">&gt;</span> <span class="operator">-</span>DMySQL_INCLUDE_DIR<span class="operator">=</span><span class="string">&quot;/usr/local/mysql/include&quot;</span> <span class="operator">-</span>DMySQL_LIBRARY<span class="operator">=</span><span class="string">&quot;/usr/local/mysql/lib/libmysqlclient.&lt;so|dylib&gt;&quot;</span>
 cmake <span class="operator">-</span><span class="operator">-</span>build <span class="operator">.</span>
 cmake <span class="operator">-</span><span class="operator">-</span>install <span class="operator">.</span>
</pre>
<h4 id="how-to-build-the-qmysql-plugin-on-windows">How to Build the QMYSQL Plugin on Windows</h4>
<p>You need to get the MySQL installation files (e.g. <a href="https://dev.mysql.com/downloads/installer/" translate="no">MySQL web installer</a> or <a href="https://downloads.mariadb.com/Connectors/c/" translate="no">MariaDB C Connector</a>). Run the installer, select custom installation and install the MySQL C Connector which matches your Qt installation (x86 or x64). After installation check that the needed files are there:</p>
<ul>
<li><code translate="no">&lt;MySQL dir&gt;/lib/libmysql.lib</code></li>
<li><code translate="no">&lt;MySQL dir&gt;/lib/libmysql.dll</code></li>
<li><code translate="no">&lt;MySQL dir&gt;/include/mysql.h</code></li>
</ul>
<p>and for MariaDB</p>
<ul>
<li><code translate="no">&lt;MariaDB dir&gt;/lib/libmariadb.lib</code></li>
<li><code translate="no">&lt;MariaDB dir&gt;/lib/libmariadb.dll</code></li>
<li><code translate="no">&lt;MariaDB dir&gt;/include/mysql.h</code></li>
</ul>
<div class="admonition note">
<p><b>Note: </b>As of MySQL 8.0.19, the C Connector is no longer offered as a standalone installable component. Instead, you can get <code translate="no">mysql.h</code> and <code translate="no">libmysql.*</code> by installing the full MySQL Server (x64 only) or the <a href="https://downloads.mariadb.org/connector-c/" translate="no">MariaDB C Connector</a>.</p>
</div>
<p>Build the plugin as follows (here it is assumed that <code translate="no">&lt;MySQL dir&gt;</code> is <code translate="no">C:\mysql-8.0.22-winx64</code>):</p>
<pre class="cpp" translate="no">
 mkdir build<span class="operator">-</span>sqldrivers
 cd build<span class="operator">-</span>sqldrivers
 qt<span class="operator">-</span>cmake <span class="operator">-</span>G Ninja <span class="operator">&lt;</span>qt_installation_path<span class="operator">&gt;</span>\Src\qtbase\src\plugins\sqldrivers <span class="operator">-</span>DCMAKE_INSTALL_PREFIX<span class="operator">=</span><span class="operator">&lt;</span>qt_installation_path<span class="operator">&gt;</span>\<span class="operator">&lt;</span>platform<span class="operator">&gt;</span> <span class="operator">-</span>DMySQL_INCLUDE_DIR<span class="operator">=</span><span class="string">&quot;C:\mysql-8.0.22-winx64\include&quot;</span> <span class="operator">-</span>DMySQL_LIBRARY<span class="operator">=</span><span class="string">&quot;C:\mysql-8.0.22-winx64\lib\libmysql.lib&quot;</span>
 cmake <span class="operator">-</span><span class="operator">-</span>build <span class="operator">.</span>
 cmake <span class="operator">-</span><span class="operator">-</span>install <span class="operator">.</span>
</pre>
<p>When you distribute your application, remember to include <i>libmysql.dll</i> / <i>libmariadb.dll</i> in your installation package. It must be placed in the same folder as the application executable. <i>libmysql.dll</i> additionally needs the MSVC runtime libraries which can be installed with <a href="https://support.microsoft.com/en-us/help/2977003/the-latest-supported-visual-c-downloads" translate="no">vcredist.exe</a></p>
<span id="qoci"></span><h3 id="qoci-for-the-oracle-call-interface-oci">QOCI for the Oracle Call Interface (OCI)</h3>
<p>The Qt OCI plugin supports connecting to Oracle database as determined by the version of the instant client used. This is dependent on what Oracle indicates it supports. The plugin will auto-detect the database version and enable features accordingly.</p>
<p>It's possible to connect to a Oracle database without a tnsnames.ora file. This requires that the database SID is passed to the driver as the database name, and that a hostname is given.</p>
<h4 id="oci-user-authentication">OCI User Authentication</h4>
<p>The Qt OCI plugin supports authentication using external credentials (OCI_CRED_EXT). Usually, this means that the database server will use the user authentication provided by the operating system instead of its own authentication mechanism.</p>
<p>Leave the username and password empty when opening a connection with <a href="qsqldatabase.html" translate="no">QSqlDatabase</a> to use the external credentials authentication.</p>
<h4 id="oci-blob-lob-support">OCI BLOB/LOB Support</h4>
<p>Binary Large Objects (BLOBs) can be read and written, but be aware that this process may require a lot of memory. You should use a forward only query to select LOB fields (see <a href="qsqlquery.html#setForwardOnly" translate="no">QSqlQuery::setForwardOnly</a>()).</p>
<p>Inserting BLOBs should be done using either a prepared query where the BLOBs are bound to placeholders or <a href="qsqltablemodel.html" translate="no">QSqlTableModel</a>, which uses a prepared query to do this internally.</p>
<h4 id="connection-options">Connection options</h4>
<p>The Qt OCI plugin honors the following connection options:</p>
<div class="table"><table class="generic">
 <thead><tr class="qt-style"><th >Attribute</th><th >Possible value</th></tr></thead>
<tr valign="top" class="odd"><td >OCI_ATTR_PREFETCH_ROWS</td><td >Sets the OCI attribute <a href="https://docs.oracle.com/database/121/LNOCI/oci04sql.htm#LNOCI16355" translate="no">OCI_ATTR_PREFETCH_ROWS</a> to the specified value</td></tr>
<tr valign="top" class="even"><td >OCI_ATTR_PREFETCH_MEMORY</td><td >Sets the OCI attribute <a href="https://docs.oracle.com/database/121/LNOCI/oci04sql.htm#LNOCI16355" translate="no">OCI_ATTR_PREFETCH_MEMORY</a> to the specified value</td></tr>
<tr valign="top" class="odd"><td >OCI_AUTH_MODE</td><td >OCI_SYSDBA: authenticate for SYSDBA access<br />
 OCI_SYSOPER: authenticate for SYSOPER access<br />
 OCI_DEFAULT: authenticate with normal access<br />
 see <a href="https://docs.oracle.com/cd/B10500_01/appdev.920/a96584/oci15r13.htm" translate="no">OCISessionBegin</a> for more information about the access modes</td></tr>
</table></div>
<h4 id="how-to-build-the-oci-plugin-on-unix-and-macos">How to Build the OCI Plugin on Unix and macOS</h4>
<p>All you need is the &quot; - Basic&quot; and &quot;Instant Client Package - SDK&quot;.</p>
<p>Oracle library files required to build the driver:</p>
<ul>
<li><code translate="no">libclntsh.&lt;so|dylib&gt;</code> (all versions)</li>
</ul>
<p>Tell <code translate="no">qt-cmake</code> where to find the Oracle header files and shared libraries and build.</p>
<p>We assume that you installed the RPM packages of the Instant Client Package SDK (you need to adjust the version number accordingly):</p>
<pre class="cpp" translate="no">
 mkdir build<span class="operator">-</span>sqldrivers
 cd build<span class="operator">-</span>sqldrivers
 qt<span class="operator">-</span>cmake <span class="operator">-</span>G Ninja <span class="operator">&lt;</span>qt_source_directory<span class="operator">&gt;</span><span class="operator">/</span>qtbase<span class="operator">/</span>src<span class="operator">/</span>plugins<span class="operator">/</span>sqldrivers <span class="operator">-</span>DCMAKE_INSTALL_PREFIX<span class="operator">=</span><span class="operator">&lt;</span>qt_installation_path<span class="operator">&gt;</span><span class="operator">/</span><span class="operator">&lt;</span>platform<span class="operator">&gt;</span> <span class="operator">-</span>DOracle_INCLUDE_DIR<span class="operator">=</span><span class="string">&quot;/usr/include/oracle/21/client64&quot;</span> <span class="operator">-</span>DOracle_LIBRARY<span class="operator">=</span><span class="string">&quot;/usr/lib/oracle/21/client64/lib/libclntsh.&lt;so|dylib&gt;&quot;</span>
 cmake <span class="operator">-</span><span class="operator">-</span>build <span class="operator">.</span>
 cmake <span class="operator">-</span><span class="operator">-</span>install <span class="operator">.</span>
</pre>
<div class="admonition note">
<p><b>Note: </b>If you are using the Oracle Instant Client package, you will need to set LD_LIBRARY_PATH when building the OCI SQL plugin, and when running an application that uses the OCI SQL plugin.</p>
</div>
<h4 id="how-to-build-the-oci-plugin-on-windows">How to Build the OCI Plugin on Windows</h4>
<p>Choosing the option &quot;Programmer&quot; in the Oracle Client Installer from the Oracle Client Installation CD is generally sufficient to build the plugin. For some versions of Oracle Client, you may also need to select the &quot;Call Interface (OCI)&quot; option if it is available.</p>
<p>Build the plugin as follows (here it is assumed that Oracle Client is installed in <code translate="no">C:\oracle</code> and SDK is installed in <code translate="no">C:\oracle\sdk</code>):</p>
<pre class="cpp" translate="no">
 mkdir build<span class="operator">-</span>sqldrivers
 cd build<span class="operator">-</span>sqldrivers
 qt<span class="operator">-</span>cmake <span class="operator">-</span>G Ninja <span class="operator">&lt;</span>qt_installation_path<span class="operator">&gt;</span>\Src\qtbase\src\plugins\sqldrivers <span class="operator">-</span>DCMAKE_INSTALL_PREFIX<span class="operator">=</span><span class="operator">&lt;</span>qt_installation_path<span class="operator">&gt;</span>\<span class="operator">&lt;</span>platform<span class="operator">&gt;</span> <span class="operator">-</span>DOracle_INCLUDE_DIR<span class="operator">=</span><span class="string">&quot;C:\oracle\sdk\include&quot;</span> <span class="operator">-</span>DOracle_LIBRARY<span class="operator">=</span><span class="string">&quot;C:\oracle\oci.lib&quot;</span>
 cmake <span class="operator">-</span><span class="operator">-</span>build <span class="operator">.</span>
 cmake <span class="operator">-</span><span class="operator">-</span>install <span class="operator">.</span>
</pre>
<p>When you run your application, you will also need to add the <code translate="no">oci.dll</code> path to your <code translate="no">PATH</code> environment variable:</p>
<pre class="cpp" translate="no">
 set PATH<span class="operator">=</span><span class="operator">%</span>PATH<span class="operator">%</span>;C:\oracle
</pre>
<span id="qodbc"></span><h3 id="qodbc-for-open-database-connectivity-odbc">QODBC for Open Database Connectivity (ODBC)</h3>
<p>ODBC is a general interface that allows you to connect to multiple DBMSs using a common interface. The QODBC driver allows you to connect to an ODBC driver manager and access the available data sources. Note that you also need to install and configure ODBC drivers for the ODBC driver manager that is installed on your system. The QODBC plugin then allows you to use these data sources in your Qt applications.</p>
<div class="admonition note">
<p><b>Note: </b>You should use the native driver, if it is available, instead of the ODBC driver. ODBC support can be used as a fallback for compliant databases if no native driver is available.</p>
</div>
<p>On Windows, an ODBC driver manager should be installed by default. For Unix systems, there are some implementations which must be installed first. Note that every end user of your application is required to have an ODBC driver manager installed, otherwise the QODBC plugin will not work.</p>
<p>When connecting to an ODBC datasource, you should pass the name of the ODBC datasource to the <a href="qsqldatabase.html#setDatabaseName" translate="no">QSqlDatabase::setDatabaseName</a>() function, rather than the actual database name.</p>
<p>The QODBC Plugin needs an ODBC compliant driver manager version 2.0 or later. Some ODBC drivers claim to be version-2.0-compliant, but do not offer all the necessary functionality. The QODBC plugin therefore checks whether the data source can be used after a connection has been established, and refuses to work if the check fails. If you do not like this behavior, you can remove the <code translate="no">#define ODBC_CHECK_DRIVER</code> line from the file <code translate="no">qsql_odbc.cpp</code>. Do this at your own risk!</p>
<p>By default, Qt instructs the ODBC driver to behave as an ODBC 2.x driver. However, for some <i>driver-manager/ODBC 3.x-driver</i> combinations (e.g., <i>unixODBC/MaxDB ODBC</i>), telling the ODBC driver to behave as a 2.x driver can cause the driver plugin to have unexpected behavior. To avoid this problem, instruct the ODBC driver to behave as a 3.x driver by <a href="qsqldatabase.html#setConnectOptions" translate="no">setting the connect option</a> <code translate="no">&quot;SQL_ATTR_ODBC_VERSION=SQL_OV_ODBC3&quot;</code> before you <a href="qsqldatabase.html#open" translate="no">open your database connection</a>. Note that this will affect multiple aspects of ODBC driver behavior, e.g., the SQLSTATEs. Before setting this connect option, consult your ODBC documentation about behavior differences you can expect.</p>
<p>If you experience very slow access of the ODBC datasource, make sure that ODBC call tracing is turned off in the ODBC datasource manager.</p>
<p>Some drivers do not support scrollable cursors. In that case, only queries in <a href="qsqlquery.html#setForwardOnly" translate="no">QSqlQuery::setForwardOnly</a>() mode can be used successfully.</p>
<h4 id="odbc-stored-procedure-support">ODBC Stored Procedure Support</h4>
<p>With Microsoft SQL Server the result set returned by a stored procedure that uses the return statement, or returns multiple result sets, will be accessible only if you set the query's forward only mode to <i>forward</i> using <a href="qsqlquery.html#setForwardOnly" translate="no">QSqlQuery::setForwardOnly</a>().</p>
<pre class="cpp" translate="no">
 <span class="comment">// STORED_PROC uses the return statement or returns multiple result sets</span>
 <span class="type"><a href="qsqlquery.html" translate="no">QSqlQuery</a></span> query;
 query<span class="operator">.</span>setForwardOnly(<span class="keyword">true</span>);
 query<span class="operator">.</span>exec(<span class="string">&quot;{call STORED_PROC}&quot;</span>);
</pre>
<div class="admonition note">
<p><b>Note: </b>The value returned by the stored procedure's return statement is discarded.</p>
</div>
<h4 id="odbc-unicode-support">ODBC Unicode Support</h4>
<p>The QODBC Plugin will use the Unicode API if UNICODE is defined. On Windows based systems, this is the default. Note that the ODBC driver and the DBMS must also support Unicode.</p>
<p>For the Oracle 9 ODBC driver (Windows), it is necessary to check &quot;SQL_WCHAR support&quot; in the ODBC driver manager otherwise Oracle will convert all Unicode strings to local 8-bit representation.</p>
<h4 id="connection-options">Connection options</h4>
<p>The Qt ODBC plugin honors the following connection options:</p>
<div class="table"><table class="generic">
 <thead><tr class="qt-style"><th >Attribute</th><th >Possible value</th></tr></thead>
<tr valign="top" class="odd"><td >SQL_ATTR_ACCESS_MODE</td><td >SQL_MODE_READ_ONLY: open the database in read-only mode<br />
 SQL_MODE_READ_WRITE: open the database in read-write mode (default)</td></tr>
<tr valign="top" class="even"><td >SQL_ATTR_LOGIN_TIMEOUT</td><td >Number of seconds to wait for the database connection during login (a value of 0 will wait forever)</td></tr>
<tr valign="top" class="odd"><td >SQL_ATTR_CONNECTION_TIMEOUT</td><td >Number of seconds to wait for any request to the database (a value of 0 will wait forever)</td></tr>
<tr valign="top" class="even"><td >SQL_ATTR_CURRENT_CATALOG</td><td >The catalog (database) to use for this connection</td></tr>
<tr valign="top" class="odd"><td >SQL_ATTR_METADATA_ID</td><td >SQL_TRUE: the string argument of catalog functions are treated as identifiers<br />
 SQL_FALSE: the string arguments of catalog functions are not treated as identifiers</td></tr>
<tr valign="top" class="even"><td >SQL_ATTR_PACKET_SIZE</td><td >Specifies the network packet size in bytes</td></tr>
<tr valign="top" class="odd"><td >SQL_ATTR_TRACEFILE</td><td >A string containing the name of the trace file</td></tr>
<tr valign="top" class="even"><td >SQL_ATTR_TRACE</td><td >SQL_OPT_TRACE_ON: Enable database query tracing<br />
 SQL_OPT_TRACE_OFF: Disable database query tracing (default)</td></tr>
<tr valign="top" class="odd"><td >SQL_ATTR_CONNECTION_POOLING</td><td >Enable or disable connection pooling at the environment level.<br />
 SQL_CP_DEFAULT, SQL_CP_OFF: Connection pooling is turned off (default)<br />
 SQL_CP_ONE_PER_DRIVER: A single connection pool is supported for each driver<br />
 SQL_CP_ONE_PER_HENV: A single connection pool is supported for each environment</td></tr>
<tr valign="top" class="even"><td >SQL_ATTR_ODBC_VERSION</td><td >SQL_OV_ODBC3: The driver should act as a ODBC 3.x driver<br />
 SQL_OV_ODBC2: The driver should act as a ODBC 2.x driver (default)</td></tr>
</table></div>
<p>For more detailed information about the connect options please refer to the <a href="https://learn.microsoft.com/en-us/sql/odbc/reference/syntax/sqlsetconnectattr-function" translate="no">SQLSetConnectAttr()</a> ODBC documentation.</p>
<h4 id="how-to-build-the-odbc-plugin-on-unix-and-macos">How to Build the ODBC Plugin on Unix and macOS</h4>
<p>It is recommended that you use unixODBC. You can find the latest version and ODBC drivers at <a href="http://www.unixodbc.org" translate="no">http://www.unixodbc.org</a>. You need the unixODBC header files and shared libraries.</p>
<p>Tell <code translate="no">qt-cmake</code> where to find the unixODBC header files and shared libraries (here it is assumed that unixODBC is installed in <code translate="no">/usr/local/unixODBC</code>) and build:</p>
<pre class="cpp" translate="no">
 mkdir build<span class="operator">-</span>sqldrivers
 cd build<span class="operator">-</span>sqldrivers
 qt<span class="operator">-</span>cmake <span class="operator">-</span>G Ninja <span class="operator">&lt;</span>qt_source_directory<span class="operator">&gt;</span><span class="operator">/</span>qtbase<span class="operator">/</span>src<span class="operator">/</span>plugins<span class="operator">/</span>sqldrivers <span class="operator">-</span>DCMAKE_INSTALL_PREFIX<span class="operator">=</span><span class="operator">&lt;</span>qt_installation_path<span class="operator">&gt;</span><span class="operator">/</span><span class="operator">&lt;</span>platform<span class="operator">&gt;</span> <span class="operator">-</span>DODBC_INCLUDE_DIR<span class="operator">=</span><span class="string">&quot;/usr/local/unixODBC/include&quot;</span> <span class="operator">-</span>DODBC_LIBRARY<span class="operator">=</span><span class="string">&quot;/usr/local/unixODBC/lib/libodbc.&lt;so|dylib&gt;&quot;</span>
 cmake <span class="operator">-</span><span class="operator">-</span>build <span class="operator">.</span>
 cmake <span class="operator">-</span><span class="operator">-</span>install <span class="operator">.</span>
</pre>
<h4 id="how-to-build-the-odbc-plugin-on-windows">How to Build the ODBC Plugin on Windows</h4>
<p>The ODBC header and include files should already be installed in the right directories. You just have to build the plugin as follows:</p>
<pre class="cpp" translate="no">
 mkdir build<span class="operator">-</span>sqldrivers
 cd build<span class="operator">-</span>sqldrivers
 qt<span class="operator">-</span>cmake <span class="operator">-</span>G Ninja <span class="operator">&lt;</span>qt_installation_path<span class="operator">&gt;</span>\Src\qtbase\src\plugins\sqldrivers <span class="operator">-</span>DCMAKE_INSTALL_PREFIX<span class="operator">=</span><span class="operator">&lt;</span>qt_installation_path<span class="operator">&gt;</span>\<span class="operator">&lt;</span>platform<span class="operator">&gt;</span>
 cmake <span class="operator">-</span><span class="operator">-</span>build <span class="operator">.</span>
 cmake <span class="operator">-</span><span class="operator">-</span>install <span class="operator">.</span>
</pre>
<span id="qpsql"></span><h3 id="qpsql-for-postgresql-version-7-3-and-above">QPSQL for PostgreSQL (Version 7.3 and above)</h3>
<p>The QPSQL driver supports version 7.3 and higher of the PostgreSQL server.</p>
<p>For more information about PostgreSQL visit <a href="http://www.postgresql.org" translate="no">http://www.postgresql.org</a>.</p>
<h4 id="qpsql-unicode-support">QPSQL Unicode Support</h4>
<p>The QPSQL driver automatically detects whether the PostgreSQL database you are connecting to supports Unicode or not. Unicode is automatically used if the server supports it. Note that the driver only supports the UTF-8 encoding. If your database uses any other encoding, the server must be compiled with Unicode conversion support.</p>
<p>Unicode support was introduced in PostgreSQL version 7.1 and it will only work if both the server and the client library have been compiled with multibyte support. More information about how to set up a multibyte enabled PostgreSQL server can be found in the PostgreSQL Administrator Guide, Chapter 5.</p>
<h4 id="qpsql-case-sensitivity">QPSQL Case Sensitivity</h4>
<p>PostgreSQL databases will only respect case sensitivity if the table or field name is quoted when the table is created. So for example, a SQL query such as:</p>
<pre class="cpp" translate="no">
 CREATE TABLE <span class="string">&quot;testTable&quot;</span> (<span class="string">&quot;id&quot;</span> INTEGER);
</pre>
<p>will ensure that it can be accessed with the same case that was used. If the table or field name is not quoted when created, the actual table name or field name will be lower-case. When <a href="qsqldatabase.html#record" translate="no">QSqlDatabase::record</a>() or <a href="qsqldatabase.html#primaryIndex" translate="no">QSqlDatabase::primaryIndex</a>() access a table or field that was unquoted when created, the name passed to the function must be lower-case to ensure it is found. For example:</p>
<pre class="cpp" translate="no">
 <span class="type"><a href="../qtcore/qstring.html" translate="no">QString</a></span> tableString(<span class="string">&quot;testTable&quot;</span>);
 <span class="type"><a href="qsqlquery.html" translate="no">QSqlQuery</a></span> q;
 <span class="comment">// Create table query is not quoted, therefore it is mapped to lower case</span>
 q<span class="operator">.</span>exec(<span class="type"><a href="../qtcore/qstring.html" translate="no">QString</a></span>(<span class="string">&quot;CREATE TABLE %1 (id INTEGER)&quot;</span>)<span class="operator">.</span>arg(tableString));
 <span class="comment">// Call toLower() on the string so that it can be matched</span>
 <span class="type"><a href="qsqlrecord.html" translate="no">QSqlRecord</a></span> rec <span class="operator">=</span> database<span class="operator">.</span>record(tableString<span class="operator">.</span>toLower());
</pre>
<h4 id="qpsql-forward-only-query-support">QPSQL Forward-only query support</h4>
<p>To use forward-only queries, you must build the QPSQL plugin with PostreSQL client library version 9.2 or later. If the plugin is built with an older version, then forward-only mode will not be available - calling <a href="qsqlquery.html#setForwardOnly" translate="no">QSqlQuery::setForwardOnly</a>() with <code translate="no">true</code> will have no effect.</p>
<div class="admonition warning">
<p><b>Warning: </b>If you build the QPSQL plugin with PostgreSQL version 9.2 or later, then you must distribute your application with libpq version 9.2 or later. Otherwise, loading the QPSQL plugin will fail with the following message:</p>
</div>
<pre class="cpp" translate="no">
 <span class="type"><a href="qsqldatabase.html" translate="no">QSqlDatabase</a></span>: QPSQL driver <span class="keyword">not</span> loaded
 <span class="type"><a href="qsqldatabase.html" translate="no">QSqlDatabase</a></span>: available drivers: QSQLITE QMYSQL QMARIADB QODBC QPSQL
 Could <span class="keyword">not</span> create database object
</pre>
<p>While navigating the results in forward-only mode, the handle of <a href="qsqlresult.html" translate="no">QSqlResult</a> may change. Applications that use the low-level handle of SQL result must get a new handle after each call to any of <a href="qsqlresult.html" translate="no">QSqlResult</a> fetch functions. Example:</p>
<pre class="cpp" translate="no">
 <span class="type"><a href="qsqlquery.html" translate="no">QSqlQuery</a></span> query;
 <span class="type"><a href="../qtcore/qvariant.html" translate="no">QVariant</a></span> v;
 query<span class="operator">.</span>setForwardOnly(<span class="keyword">true</span>);
 query<span class="operator">.</span>exec(<span class="string">&quot;SELECT * FROM table&quot;</span>);
 <span class="keyword">while</span> (query<span class="operator">.</span>next()) {
     <span class="comment">// Handle changes in every iteration of the loop</span>
     v <span class="operator">=</span> query<span class="operator">.</span>result()<span class="operator">-</span><span class="operator">&gt;</span>handle();

     <span class="keyword">if</span> (qstrcmp(v<span class="operator">.</span>typeName()<span class="operator">,</span> <span class="string">&quot;PGresult*&quot;</span>) <span class="operator">=</span><span class="operator">=</span> <span class="number">0</span>) {
         PGresult <span class="operator">*</span>handle <span class="operator">=</span> <span class="operator">*</span><span class="keyword">static_cast</span><span class="operator">&lt;</span>PGresult <span class="operator">*</span><span class="operator">*</span><span class="operator">&gt;</span>(v<span class="operator">.</span>data());
         <span class="keyword">if</span> (handle) {
             <span class="comment">// Do something...</span>
         }
     }
 }
</pre>
<p>While reading the results of a forward-only query with PostgreSQL, the database connection cannot be used to execute other queries. This is a limitation of libpq library. Example:</p>
<pre class="cpp" translate="no">
 <span class="type">int</span> value;
 <span class="type"><a href="qsqlquery.html" translate="no">QSqlQuery</a></span> query1;
 query1<span class="operator">.</span>setForwardOnly(<span class="keyword">true</span>);
 query1<span class="operator">.</span>exec(<span class="string">&quot;select * FROM table1&quot;</span>);
 <span class="keyword">while</span> (query1<span class="operator">.</span>next()) {
     value <span class="operator">=</span> query1<span class="operator">.</span>value(<span class="number">0</span>)<span class="operator">.</span>toInt();
     <span class="keyword">if</span> (value <span class="operator">=</span><span class="operator">=</span> <span class="number">1</span>) {
         <span class="type"><a href="qsqlquery.html" translate="no">QSqlQuery</a></span> query2;
         query2<span class="operator">.</span>exec(<span class="string">&quot;update table2 set col=2&quot;</span>);  <span class="comment">// WRONG: This will discard all results of</span>
     }                                            <span class="comment">// query1, and cause the loop to quit</span>
 }
</pre>
<p>This problem will not occur if query1 and query2 use different database connections, or if we execute query2 after the while loop.</p>
<div class="admonition note">
<p><b>Note: </b>Some methods of <a href="qsqldatabase.html" translate="no">QSqlDatabase</a> like tables(), primaryIndex() implicitly execute SQL queries, so these also cannot be used while navigating the results of forward-only query.</p>
</div>
<div class="admonition note">
<p><b>Note: </b>QPSQL will print the following warning if it detects a loss of query results:</p>
</div>
<pre class="cpp" translate="no">
 <span class="type">QPSQLDriver</span><span class="operator">::</span>getResult: Query results lost <span class="operator">-</span> probably discarded on executing another SQL query<span class="operator">.</span>
</pre>
<h4 id="connection-options">Connection options</h4>
<p>The Qt PostgreSQL plugin honors all connection options specified in the <a href="https://www.postgresql.org/docs/current/libpq-connect.html#LIBPQ-PARAMKEYWORDS" translate="no">connect()</a> PostgreSQL documentation.</p>
<h4 id="how-to-build-the-qpsql-plugin-on-unix-and-macos">How to Build the QPSQL Plugin on Unix and macOS</h4>
<p>You need the PostgreSQL client library and headers installed.</p>
<p>To make <code translate="no">qt-cmake</code> find the PostgreSQL header files and shared libraries, build the plugin the following way (assuming that the PostgreSQL client is installed in <code translate="no">/usr/local/pgsql</code>):</p>
<pre class="cpp" translate="no">
 mkdir build<span class="operator">-</span>psql<span class="operator">-</span>driver
 cd build<span class="operator">-</span>psql<span class="operator">-</span>driver

 qt<span class="operator">-</span>cmake <span class="operator">-</span>G Ninja <span class="operator">&lt;</span>qt_source_directory<span class="operator">&gt;</span><span class="operator">/</span>qtbase<span class="operator">/</span>src<span class="operator">/</span>plugins<span class="operator">/</span>sqldrivers<span class="operator">-</span>DCMAKE_INSTALL_PREFIX<span class="operator">=</span><span class="operator">&lt;</span>qt_installation_path<span class="operator">&gt;</span><span class="operator">/</span><span class="operator">&lt;</span>platform<span class="operator">&gt;</span> <span class="operator">-</span>DCMAKE_INCLUDE_PATH<span class="operator">=</span><span class="string">&quot;/usr/local/pgsql/include&quot;</span> <span class="operator">-</span>DCMAKE_LIBRARY_PATH<span class="operator">=</span><span class="string">&quot;/usr/local/pgsql/lib&quot;</span>
 cmake <span class="operator">-</span><span class="operator">-</span>build <span class="operator">.</span>
 cmake <span class="operator">-</span><span class="operator">-</span>install <span class="operator">.</span>
</pre>
<h4 id="how-to-build-the-qpsql-plugin-on-windows">How to Build the QPSQL Plugin on Windows</h4>
<p>Install the appropriate PostgreSQL developer libraries for your compiler. Assuming that PostgreSQL was installed in <code translate="no">C:\pgsql</code>, build the plugin as follows:</p>
<pre class="cpp" translate="no">
 mkdir build<span class="operator">-</span>sqldrivers
 cd build<span class="operator">-</span>sqldrivers
 qt<span class="operator">-</span>cmake <span class="operator">-</span>G Ninja <span class="operator">&lt;</span>qt_installation_path<span class="operator">&gt;</span>\Src\qtbase\src\plugins\sqldrivers <span class="operator">-</span>DCMAKE_INSTALL_PREFIX<span class="operator">=</span><span class="operator">&lt;</span>qt_installation_path<span class="operator">&gt;</span>\<span class="operator">&lt;</span>platform<span class="operator">&gt;</span> <span class="operator">-</span>DCMAKE_INCLUDE_PATH<span class="operator">=</span><span class="string">&quot;C:\pgsql\include&quot;</span> <span class="operator">-</span>DCMAKE_LIBRARY_PATH<span class="operator">=</span><span class="string">&quot;C:\pgsql\lib&quot;</span>
 cmake <span class="operator">-</span><span class="operator">-</span>build <span class="operator">.</span>
 cmake <span class="operator">-</span><span class="operator">-</span>install <span class="operator">.</span>
</pre>
<p>Users of MinGW may wish to consult the following online document: <a href="http://www.postgresql.org/docs/current/static/installation-platform-notes.html#INSTALLATION-NOTES-MINGW" translate="no">PostgreSQL MinGW/Native Windows</a>.</p>
<p>When you distribute your application, remember to include libpq.dll in your installation package. It must be placed in the same folder as the application executable.</p>
<span id="qdb2"></span><h3 id="qdb2-for-ibm-db2-version-7-1-and-above">QDB2 for IBM DB2 (Version 7.1 and above)</h3>
<p>The Qt DB2 plugin makes it possible to access IBM DB2 databases. It has been tested with IBM DB2 v7.1 and 7.2. You must install the IBM DB2 development client library, which contains the header and library files necessary for compiling the QDB2 plugin.</p>
<p>The QDB2 driver supports prepared queries, reading/writing of Unicode strings and reading/writing of BLOBs.</p>
<p>We suggest using a forward-only query when calling stored procedures in DB2 (see <a href="qsqlquery.html#setForwardOnly" translate="no">QSqlQuery::setForwardOnly</a>()).</p>
<h4 id="connection-options">Connection options</h4>
<p>The Qt IBM DB2 plugin honors the following connection options:</p>
<div class="table"><table class="generic">
 <thead><tr class="qt-style"><th >Attribute</th><th >Possible value</th></tr></thead>
<tr valign="top" class="odd"><td >SQL_ATTR_ACCESS_MODE</td><td >SQL_MODE_READ_ONLY: open the database in read-only mode<br />
 SQL_MODE_READ_WRITE: open the database in read-write mode (default)</td></tr>
<tr valign="top" class="even"><td >SQL_ATTR_LOGIN_TIMEOUT</td><td >Number of seconds to wait for the database connection during login (max: 32767, a value of 0 will wait forever)</td></tr>
</table></div>
<h4 id="how-to-build-the-qdb2-plugin-on-unix-and-macos">How to Build the QDB2 Plugin on Unix and macOS</h4>
<pre class="cpp" translate="no">
 mkdir build<span class="operator">-</span>sqldrivers
 cd build<span class="operator">-</span>sqldrivers
 qt<span class="operator">-</span>cmake <span class="operator">-</span>G Ninja <span class="operator">&lt;</span>qt_source_directory<span class="operator">&gt;</span><span class="operator">/</span>qtbase<span class="operator">/</span>src<span class="operator">/</span>plugins<span class="operator">/</span>sqldrivers <span class="operator">-</span>DCMAKE_INSTALL_PREFIX<span class="operator">=</span><span class="operator">&lt;</span>qt_installation_path<span class="operator">&gt;</span><span class="operator">/</span><span class="operator">&lt;</span>platform<span class="operator">&gt;</span> <span class="operator">-</span>DDB2_INCLUDE_DIR<span class="operator">=</span><span class="string">&quot;/usr/local/db2/include&quot;</span> <span class="operator">-</span>DDB2_LIBRARY<span class="operator">=</span><span class="string">&quot;/usr/local/db2/lib/libdb2.&lt;so|dylib&gt;&quot;</span>
 cmake <span class="operator">-</span><span class="operator">-</span>build <span class="operator">.</span>
 cmake <span class="operator">-</span><span class="operator">-</span>install <span class="operator">.</span>
</pre>
<h4 id="how-to-build-the-qdb2-plugin-on-windows">How to Build the QDB2 Plugin on Windows</h4>
<p>The DB2 header and include files should already be installed in the right directories. You just have to build the plugin as follows:</p>
<pre class="cpp" translate="no">
 mkdir build<span class="operator">-</span>sqldrivers
 cd build<span class="operator">-</span>sqldrivers
 qt<span class="operator">-</span>cmake <span class="operator">-</span>G Ninja <span class="operator">&lt;</span>qt_installation_path<span class="operator">&gt;</span>\Src\qtbase\src\plugins\sqldrivers <span class="operator">-</span>DCMAKE_INSTALL_PREFIX<span class="operator">=</span><span class="operator">&lt;</span>qt_installation_path<span class="operator">&gt;</span>\<span class="operator">&lt;</span>platform<span class="operator">&gt;</span> <span class="operator">-</span>DDB2_INCLUDE_DIR<span class="operator">=</span><span class="string">&quot;C:\db2\include&quot;</span> <span class="operator">-</span>DDB2_LIBRARY<span class="operator">=</span><span class="string">&quot;C:\db2\lib\db2.lib&quot;</span>
 cmake <span class="operator">-</span><span class="operator">-</span>build <span class="operator">.</span>
 cmake <span class="operator">-</span><span class="operator">-</span>install <span class="operator">.</span>
</pre>
<span id="qsqlite"></span><h3 id="qsqlite-for-sqlite-version-3-and-above">QSQLITE for SQLite (Version 3 and above)</h3>
<p>The Qt SQLite plugin makes it possible to access SQLite databases. SQLite is an in-process database, which means that it is not necessary to have a database server. SQLite operates on a single file, which must be set as the database name when opening a connection. If the file does not exist, SQLite will try to create it. SQLite also supports in-memory and temporary databases. Simply pass respectively &quot;:memory:&quot; or an empty string as the database name.</p>
<p>SQLite has some restrictions regarding multiple users and multiple transactions. If you try to read/write on a resource from different transactions, your application might freeze until one transaction commits or rolls back. The Qt SQLite driver will retry to write to a locked resource until it runs into a timeout (see <code translate="no">QSQLITE_BUSY_TIMEOUT</code> at <a href="qsqldatabase.html#setConnectOptions" translate="no">QSqlDatabase::setConnectOptions</a>()).</p>
<p>In SQLite any column, with the exception of an INTEGER PRIMARY KEY column, may be used to store any type of value. For instance, a column declared as INTEGER may contain an integer value in one row and a text value in the next. This is due to SQLite associating the type of a value with the value itself rather than with the column it is stored in. A consequence of this is that the type returned by QSqlField::type() only indicates the field's recommended type. No assumption of the actual type should be made from this and the type of the individual values should be checked.</p>
<p>The driver is locked for updates while a select is executed. This may cause problems when using <a href="qsqltablemodel.html" translate="no">QSqlTableModel</a> because Qt's item views fetch data as needed (with QSqlQuery::fetchMore() in the case of <a href="qsqltablemodel.html" translate="no">QSqlTableModel</a>).</p>
<p>You can find information about SQLite on <a href="http://www.sqlite.org" translate="no">http://www.sqlite.org</a>.</p>
<h4 id="connection-options">Connection options</h4>
<p>The Qt SQLite plugin honors the following connection options:</p>
<div class="table"><table class="generic">
 <thead><tr class="qt-style"><th >Attribute</th><th >Possible value</th></tr></thead>
<tr valign="top" class="odd"><td >QSQLITE_BUSY_TIMEOUT</td><td >Busy handler timeout in milliseconds (val &lt;= 0: disabled), see <a href="https://www.sqlite.org/c3ref/busy_timeout.html" translate="no">SQLite documentation</a> for more information</td></tr>
<tr valign="top" class="even"><td >QSQLITE_USE_QT_VFS</td><td >If set, the database is opened using Qt's VFS which allows to open databases using <a href="../qtcore/qfile.html" translate="no">QFile</a>. This way it can open databases from any read-write locations (e.g.android shared storage) but also from read-only resources (e.g. qrc or android assets). Be aware that when opening databases from read-only resources make sure you add QSQLITE_OPEN_READONLY attribute as well. Otherwise it will fail to open it.</td></tr>
<tr valign="top" class="odd"><td >QSQLITE_OPEN_READONLY</td><td >If set, the database is open in read-only mode which will fail if no database exists. Otherwise the database will be opened in read-write mode and created if the database file does not yet exist (default)</td></tr>
<tr valign="top" class="even"><td >QSQLITE_OPEN_URI</td><td >The given filename is interpreted as an uri, see <a href="https://www.sqlite.org/c3ref/open.html" translate="no">SQLITE_OPEN_URI</a></td></tr>
<tr valign="top" class="odd"><td >QSQLITE_ENABLE_SHARED_CACHE</td><td >If set, the database is opened in <a href="https://www.sqlite.org/sharedcache.html" translate="no">shared cache mode</a>, otherwise in private cache mode</td></tr>
<tr valign="top" class="even"><td >QSQLITE_ENABLE_REGEXP</td><td >If set, the plugin defines a function 'regex' which can be used in queries, <a href="../qtcore/qregularexpression.html" translate="no">QRegularExpression</a> is used for evaluation of the regex query</td></tr>
<tr valign="top" class="odd"><td >QSQLITE_NO_USE_EXTENDED_RESULT_CODES</td><td >Disables the usage of the <a href="https://www.sqlite.org/c3ref/extended_result_codes.html" translate="no">extended result code</a> feature in SQLite</td></tr>
<tr valign="top" class="even"><td >QSQLITE_ENABLE_NON_ASCII_CASE_FOLDING</td><td >If set, the plugin replaces the functions 'lower' and 'upper' with <a href="../qtcore/qstring.html" translate="no">QString</a> functions for correct case folding of non-ascii characters</td></tr>
<tr valign="top" class="odd"><td >QSQLITE_OPEN_NOFOLLOW</td><td >If set, the database filename is not allowed to contain a symbolic link</td></tr>
</table></div>
<h4 id="how-to-build-the-qsqlite-plugin">How to Build the QSQLITE Plugin</h4>
<p>SQLite version 3 is included as a third-party library within Qt. It can be built by passing the <code translate="no">-DFEATURE_system_sqlite=OFF</code> parameter to the <code translate="no">qt-cmake</code> command line.</p>
<p>If you do not want to use the SQLite library included with Qt, you can pass <code translate="no">-DFEATURE_system_sqlite=ON</code> to the <code translate="no">qt-cmake</code> command line to use the SQLite libraries of the operating system. This is recommended whenever possible, as it reduces the installation size and removes one component for which you need to track security advisories.</p>
<p>On Unix and macOS (replace <code translate="no">$SQLITE</code> with the directory where SQLite resides):</p>
<pre class="cpp" translate="no">
 mkdir build<span class="operator">-</span>sqldrivers
 cd build<span class="operator">-</span>sqldrivers
 qt<span class="operator">-</span>cmake <span class="operator">-</span>G Ninja <span class="operator">&lt;</span>qt_source_directory<span class="operator">&gt;</span><span class="operator">/</span>qtbase<span class="operator">/</span>src<span class="operator">/</span>plugins<span class="operator">/</span>sqldrivers <span class="operator">-</span>DCMAKE_INSTALL_PREFIX<span class="operator">=</span><span class="operator">&lt;</span>qt_installation_path<span class="operator">&gt;</span><span class="operator">/</span><span class="operator">&lt;</span>platform<span class="operator">&gt;</span> <span class="operator">-</span>DFEATURE_system_sqlite<span class="operator">=</span>ON <span class="operator">-</span>DCMAKE_INCLUDE_PATH<span class="operator">=</span><span class="string">&quot;$SQLITE/include&quot;</span> <span class="operator">-</span>DCMAKE_LIBRARY_PATH<span class="operator">=</span><span class="string">&quot;$SQLITE/lib&quot;</span>
 cmake <span class="operator">-</span><span class="operator">-</span>build <span class="operator">.</span>
 cmake <span class="operator">-</span><span class="operator">-</span>install <span class="operator">.</span>
</pre>
<p>On Windows (assuming that SQLite is installed in <code translate="no">C:\SQLITE</code>):</p>
<pre class="cpp" translate="no">
 mkdir build<span class="operator">-</span>sqldrivers
 cd build<span class="operator">-</span>sqldrivers
 qt<span class="operator">-</span>cmake <span class="operator">-</span>G Ninja <span class="operator">&lt;</span>qt_installation_path<span class="operator">&gt;</span>\Src\qtbase\src\plugins\sqldrivers <span class="operator">-</span>DCMAKE_INSTALL_PREFIX<span class="operator">=</span><span class="operator">&lt;</span>qt_installation_path<span class="operator">&gt;</span>\<span class="operator">&lt;</span>platform<span class="operator">&gt;</span> <span class="operator">-</span>DFEATURE_system_sqlite<span class="operator">=</span>ON <span class="operator">-</span>DCMAKE_INCLUDE_PATH<span class="operator">=</span><span class="string">&quot;C:\SQLITE\include&quot;</span> <span class="operator">-</span>DCMAKE_LIBRARY_PATH<span class="operator">=</span><span class="string">&quot;C:\SQLITE\lib&quot;</span>
 cmake <span class="operator">-</span><span class="operator">-</span>build <span class="operator">.</span>
 cmake <span class="operator">-</span><span class="operator">-</span>install <span class="operator">.</span>
</pre>
<h4 id="enable-regexp-operator">Enable REGEXP operator</h4>
<p>SQLite comes with a REGEXP operation. However the needed implementation must be provided by the user. For convenience a default implementation can be enabled by <a href="qsqldatabase.html#setConnectOptions" translate="no">setting the connect option</a> <code translate="no">QSQLITE_ENABLE_REGEXP</code> before <a href="qsqldatabase.html#open" translate="no">the database connection is opened</a>. Then a SQL statement like &quot;column REGEXP 'pattern'&quot; basically expands to the Qt code</p>
<pre class="cpp" translate="no">
 column.contains(QRegularExpression(&quot;pattern&quot;));
</pre>
<p>For better performance the regular expressions are cached internally. By default the cache size is 25, but it can be changed through the option's value. For example passing &quot;<code translate="no">QSQLITE_ENABLE_REGEXP=10</code>&quot; reduces the cache size to 10.</p>
<h4 id="qsqlite-file-format-compatibility">QSQLITE File Format Compatibility</h4>
<p>SQLite minor releases sometimes break file format forward compatibility. For example, SQLite 3.3 can read database files created with SQLite 3.2, but databases created with SQLite 3.3 cannot be read by SQLite 3.2. Please refer to the SQLite documentation and change logs for information about file format compatibility between versions.</p>
<p>Qt minor releases usually follow the SQLite minor releases, while Qt patch releases follow SQLite patch releases. Patch releases are therefore both backward and forward compatible.</p>
<p>To force SQLite to use a specific file format, it is necessary to build and ship your own database plugin with your own SQLite library as illustrated above. Some versions of SQLite can be forced to write a specific file format by setting the <code translate="no">SQLITE_DEFAULT_FILE_FORMAT</code> define when building SQLite.</p>
<span id="qmimer"></span><h3 id="qmimer-for-mimer-sql-version-11-and-higher">QMIMER for Mimer SQL version 11 and higher</h3>
<p>The Qt Mimer SQL plugin makes it possible to work with the Mimer SQL RDBMS. Mimer SQL provides small footprint, scalable and robust relational database solutions that conform to international ISO SQL standards. Mimer SQL is available on Windows, Linux, macOS, and OpenVMS as well as several embedded platforms like QNX, Android, and embedded Linux.</p>
<p>Mimer SQL fully support Unicode. To work with Unicode data the column types National Character (NCHAR), National Character Varying (NVARCHAR), or National Character Large Object (NCLOB) must be used. For more information about Mimer SQL and unicode, see <a href="https://developer.mimer.com/features/multilingual-support" translate="no">https://developer.mimer.com/features/multilingual-support</a></p>
<h4 id="qmimer-stored-procedure-support">QMIMER Stored Procedure Support</h4>
<p>Mimer SQL have stored procedures according to the SQL standard (PSM) and the plugin fully support IN, OUT, INOUT parameters as well as resultset procedures.</p>
<p>Example stored procedure with INOUT and OUT parameters:</p>
<pre class="cpp" translate="no">
 create procedure inout_proc (INOUT param1 INT<span class="operator">,</span> OUT param2 INT)
 BEGIN
     set param1 <span class="operator">=</span> param1 <span class="operator">*</span> <span class="number">2</span>;
     set param2 <span class="operator">=</span> param1 <span class="operator">*</span> param1;
 END
</pre>
<p>Source code to access the INOUT and OUT values:</p>
<pre class="cpp" translate="no">
     <span class="type"><a href="qsqldatabase.html" translate="no">QSqlDatabase</a></span> db;
     <span class="type"><a href="qsqlquery.html" translate="no">QSqlQuery</a></span> query;
     <span class="type">int</span> i1 <span class="operator">=</span> <span class="number">10</span><span class="operator">,</span> i2 <span class="operator">=</span> <span class="number">0</span>;
     query<span class="operator">.</span>prepare(<span class="string">&quot;call qtestproc(?, ?)&quot;</span>);
     query<span class="operator">.</span>bindValue(<span class="number">0</span><span class="operator">,</span> i1<span class="operator">,</span> <span class="type"><a href="qsql.html" translate="no">QSql</a></span><span class="operator">::</span>InOut);
     query<span class="operator">.</span>bindValue(<span class="number">1</span><span class="operator">,</span> i2<span class="operator">,</span> <span class="type"><a href="qsql.html" translate="no">QSql</a></span><span class="operator">::</span>Out);
     query<span class="operator">.</span>exec();
</pre>
<h4 id="how-to-build-the-qmimer-plugin-on-unix-and-macos">How to Build the QMIMER Plugin on Unix and macOS</h4>
<p>You need the Mimer SQL header files and shared libraries. Get them by installing any of the Mimer SQL variants found at <a href="https://developer.mimer.com" translate="no">https://developer.mimer.com</a>.</p>
<pre class="cpp" translate="no">
 mkdir build<span class="operator">-</span>sqldrivers
 cd build<span class="operator">-</span>sqldrivers

 qt<span class="operator">-</span>cmake <span class="operator">-</span>G Ninja <span class="operator">&lt;</span>qt_installation_path<span class="operator">&gt;</span>\Src\qtbase\src\plugins\sqldrivers <span class="operator">-</span>DCMAKE_INSTALL_PREFIX<span class="operator">=</span><span class="operator">&lt;</span>qt_installation_path<span class="operator">&gt;</span>\<span class="operator">&lt;</span>platform<span class="operator">&gt;</span> <span class="operator">-</span>DMimer_INCLUDE_DIR<span class="operator">=</span><span class="string">&quot;/usr/include&quot;</span> <span class="operator">-</span>DMimer_LIBRARIES<span class="operator">=</span><span class="string">&quot;/usr/lib/libmimer.so&quot;</span>
 cmake <span class="operator">-</span><span class="operator">-</span>build <span class="operator">.</span>
 cmake <span class="operator">-</span><span class="operator">-</span>install <span class="operator">.</span>
</pre>
<h4 id="how-to-build-the-qmimer-plugin-on-windows">How to Build the QMIMER Plugin on Windows</h4>
<p>You need the Mimer SQL header files and shared libraries. Get them by installing any of the Mimer SQL variants found at <a href="https://developer.mimer.com" translate="no">https://developer.mimer.com</a>.</p>
<pre class="cpp" translate="no">
 mkdir build<span class="operator">-</span>sqldrivers
 cd build<span class="operator">-</span>sqldrivers

 qt<span class="operator">-</span>cmake <span class="operator">-</span>G Ninja <span class="operator">&lt;</span>qt_installation_path<span class="operator">&gt;</span>\Src\qtbase\src\plugins\sqldrivers <span class="operator">-</span>DCMAKE_INSTALL_PREFIX<span class="operator">=</span><span class="operator">&lt;</span>qt_installation_path<span class="operator">&gt;</span>\<span class="operator">&lt;</span>platform<span class="operator">&gt;</span> <span class="operator">-</span>DMimer_INCLUDE_DIR<span class="operator">=</span><span class="string">&quot;C:\Program Files\Mimer SQL Experience 11.0\dev\include&quot;</span> <span class="operator">-</span>DMimer_LIBRARIES<span class="operator">=</span><span class="string">&quot;C:\Program Files\Mimer SQL Experience 11.0\dev\lib\amd64\mimapi64.lib|C:\Program Files\Mimer SQL Experience 11.0\dev\lib\x86\mimapi32.lib&quot;</span>
 cmake <span class="operator">-</span><span class="operator">-</span>build <span class="operator">.</span>
 cmake <span class="operator">-</span><span class="operator">-</span>install <span class="operator">.</span>
</pre>
<span id="qibase"></span><h3 id="qibase-for-borland-interbase">QIBASE for Borland InterBase</h3>
<p>The Qt InterBase plugin makes it possible to access the InterBase and Firebird databases. InterBase can either be used as a client/server or without a server in which case it operates on local files. The database file must exist before a connection can be established. Firebird must be used with a server configuration.</p>
<p>Note that InterBase requires you to specify the full path to the database file, no matter whether it is stored locally or on another server.</p>
<h4 id="connection-options">Connection options</h4>
<p>The Qt Borland InterBase plugin honors the following connection options:</p>
<div class="table"><table class="generic">
 <thead><tr class="qt-style"><th >Attribute</th><th >Possible value</th></tr></thead>
<tr valign="top" class="odd"><td >ISC_DPB_SQL_ROLE_NAME</td><td >Specifies the login role name</td></tr>
</table></div>
<h4 id="how-to-build-the-qibase-plugin">How to Build the QIBASE Plugin</h4>
<pre class="cpp" translate="no">
 <span class="type"><a href="qsqldatabase.html" translate="no">QSqlDatabase</a></span> db;
 db<span class="operator">.</span>setHostName(<span class="string">&quot;MyServer&quot;</span>);
 db<span class="operator">.</span>setDatabaseName(<span class="string">&quot;C:\\test.gdb&quot;</span>);
</pre>
<p>You need the InterBase/Firebird development headers and libraries to build this plugin.</p>
<p>Due to license incompatibilities with the GPL, users of the Qt Open Source Edition are not allowed to link this plugin to the commercial editions of InterBase. Please use Firebird or the free edition of InterBase.</p>
<h4 id="qibase-stored-procedures">QIBASE Stored procedures</h4>
<p>InterBase/Firebird return OUT values as result set, so when calling stored procedure, only IN values need to be bound via <a href="qsqlquery.html#bindValue" translate="no">QSqlQuery::bindValue</a>(). The RETURN/OUT values can be retrieved via <a href="qsqlquery.html#value" translate="no">QSqlQuery::value</a>(). Example:</p>
<pre class="cpp" translate="no">
 <span class="type"><a href="qsqlquery.html" translate="no">QSqlQuery</a></span> q;
 q<span class="operator">.</span>exec(<span class="string">&quot;execute procedure my_procedure&quot;</span>);
 <span class="keyword">if</span> (q<span class="operator">.</span>next())
     <a href="../qtcore/qtlogging.html#qDebug" translate="no">qDebug</a>() <span class="operator">&lt;</span><span class="operator">&lt;</span> q<span class="operator">.</span>value(<span class="number">0</span>); <span class="comment">// outputs the first RETURN/OUT value</span>
</pre>
<h4 id="how-to-build-the-qibase-plugin-on-unix-and-macos">How to Build the QIBASE Plugin on Unix and macOS</h4>
<p>The following assumes InterBase or Firebird is installed in <code translate="no">/opt/interbase</code>:</p>
<p>If you are using InterBase:</p>
<pre class="cpp" translate="no">
 mkdir build<span class="operator">-</span>sqldrivers
 cd build<span class="operator">-</span>sqldrivers
 qt<span class="operator">-</span>cmake <span class="operator">-</span>G Ninja <span class="operator">&lt;</span>qt_source_directory<span class="operator">&gt;</span><span class="operator">/</span>qtbase<span class="operator">/</span>src<span class="operator">/</span>plugins<span class="operator">/</span>sqldrivers <span class="operator">-</span>DCMAKE_INSTALL_PREFIX<span class="operator">=</span><span class="operator">&lt;</span>qt_installation_path<span class="operator">&gt;</span><span class="operator">/</span><span class="operator">&lt;</span>platform<span class="operator">&gt;</span> <span class="operator">-</span>DInterbase_INCLUDE_DIR<span class="operator">=</span><span class="string">&quot;/opt/interbase/include&quot;</span> <span class="operator">-</span>DInterbase_LIBRARY<span class="operator">=</span><span class="string">&quot;/opt/interbase/lib/libgds.&lt;so|dylib&gt;&quot;</span>
 cmake <span class="operator">-</span><span class="operator">-</span>build <span class="operator">.</span>
 cmake <span class="operator">-</span><span class="operator">-</span>install <span class="operator">.</span>
</pre>
<p>If you are using Firebird, the Firebird library has to be set explicitly:</p>
<pre class="cpp" translate="no">
 mkdir build<span class="operator">-</span>sqldrivers
 cd build<span class="operator">-</span>sqldrivers
 qt<span class="operator">-</span>cmake <span class="operator">-</span>G Ninja <span class="operator">&lt;</span>qt_source_directory<span class="operator">&gt;</span><span class="operator">/</span>qtbase<span class="operator">/</span>src<span class="operator">/</span>plugins<span class="operator">/</span>sqldrivers <span class="operator">-</span>DCMAKE_INSTALL_PREFIX<span class="operator">=</span><span class="operator">&lt;</span>qt_installation_path<span class="operator">&gt;</span><span class="operator">/</span><span class="operator">&lt;</span>platform<span class="operator">&gt;</span> <span class="operator">-</span>DInterbase_INCLUDE_DIR<span class="operator">=</span><span class="string">&quot;/opt/interbase/include&quot;</span> <span class="operator">-</span>DInterbase_LIBRARY<span class="operator">=</span><span class="string">&quot;/opt/interbase/lib/libfbclient.&lt;so|dylib&gt;&quot;</span>
 cmake <span class="operator">-</span><span class="operator">-</span>build <span class="operator">.</span>
 cmake <span class="operator">-</span><span class="operator">-</span>install <span class="operator">.</span>
</pre>
<h4 id="how-to-build-the-qibase-plugin-on-windows">How to Build the QIBASE Plugin on Windows</h4>
<p>The following assumes InterBase or Firebird is installed in <code translate="no">C:\interbase</code>:</p>
<p>If you are using InterBase:</p>
<pre class="cpp" translate="no">
 mkdir build<span class="operator">-</span>sqldrivers
 cd build<span class="operator">-</span>sqldrivers
 qt<span class="operator">-</span>cmake <span class="operator">-</span>G Ninja <span class="operator">&lt;</span>qt_installation_path<span class="operator">&gt;</span>\Src\qtbase\src\plugins\sqldrivers <span class="operator">-</span>DCMAKE_INSTALL_PREFIX<span class="operator">=</span><span class="operator">&lt;</span>qt_installation_path<span class="operator">&gt;</span>\<span class="operator">&lt;</span>platform<span class="operator">&gt;</span> <span class="operator">-</span>DInterbase_INCLUDE_DIR<span class="operator">=</span><span class="string">&quot;C:\interbase\include&quot;</span> <span class="operator">-</span>DInterbase_LIBRARY<span class="operator">=</span><span class="string">&quot;C:\interbase\gds.lib&quot;</span>
 cmake <span class="operator">-</span><span class="operator">-</span>build <span class="operator">.</span>
 cmake <span class="operator">-</span><span class="operator">-</span>install <span class="operator">.</span>
</pre>
<p>If you are using Firebird:</p>
<pre class="cpp" translate="no">
 mkdir build<span class="operator">-</span>sqldrivers
 cd build<span class="operator">-</span>sqldrivers
 qt<span class="operator">-</span>cmake <span class="operator">-</span>G Ninja <span class="operator">&lt;</span>qt_installation_path<span class="operator">&gt;</span>\Src\qtbase\src\plugins\sqldrivers <span class="operator">-</span>DCMAKE_INSTALL_PREFIX<span class="operator">=</span><span class="operator">&lt;</span>qt_installation_path<span class="operator">&gt;</span>\<span class="operator">&lt;</span>platform<span class="operator">&gt;</span> <span class="operator">-</span>DInterbase_INCLUDE_DIR<span class="operator">=</span><span class="string">&quot;C:\interbase\include&quot;</span> <span class="operator">-</span>DInterbase_LIBRARY<span class="operator">=</span><span class="string">&quot;C:\interbase\lib\fbclient_ms.lib&quot;</span>
 cmake <span class="operator">-</span><span class="operator">-</span>build <span class="operator">.</span>
 cmake <span class="operator">-</span><span class="operator">-</span>install <span class="operator">.</span>
</pre>
<p>Note that <code translate="no">C:\interbase\bin</code> must be in the <code translate="no">PATH</code>.</p>
<span id="troubleshooting"></span><h2 id="troubleshooting">Troubleshooting</h2>
<p>You should always use client libraries that have been compiled with the same compiler as you are using for your project. If you cannot get a source distribution to compile the client libraries yourself, you must make sure that the pre-compiled library is compatible with your compiler, otherwise you will get a lot of &quot;undefined symbols&quot; errors. Some compilers have tools to convert libraries, e.g. Borland ships the tool <code translate="no">COFF2OMF.EXE</code> to convert libraries that have been generated with Microsoft Visual C++.</p>
<p>If the compilation of a plugin succeeds but it cannot be loaded, make sure that the following requirements are met:</p>
<ul>
<li>Ensure that the plugin is in the correct directory. You can use QApplication::libraryPaths() to determine where Qt looks for plugins.</li>
<li>Ensure that the client libraries of the DBMS are available on the system. On Unix, run the command <code translate="no">ldd</code> and pass the name of the plugin as parameter, for example <code translate="no">ldd libqsqlmysql.so</code>. You will get a warning if any of the client libraries could not be found. On Windows, you can use Visual Studio's dependency walker. With Qt Creator, you can update the <code translate="no">PATH</code> environment variable in the <b>Run</b> section of the <b>Project</b> panel to include the path to the folder containing the client libraries.</li>
<li>Compile Qt with <code translate="no">QT_DEBUG_PLUGINS</code> defined to get very verbose debug output when loading plugins.</li>
</ul>
<p>Make sure you have followed the guide to <a href="../qtdoc/deployment-plugins.html" translate="no">Deploying Plugins</a>.</p>
<span id="development"></span><h2 id="how-to-write-your-own-database-driver">How to Write Your Own Database Driver</h2>
<p><a href="qsqldatabase.html" translate="no">QSqlDatabase</a> is responsible for loading and managing database driver plugins. When a database is added (see <a href="qsqldatabase.html#addDatabase" translate="no">QSqlDatabase::addDatabase</a>()), the appropriate driver plugin is loaded (using <a href="qsqldriverplugin.html" translate="no">QSqlDriverPlugin</a>). <a href="qsqldatabase.html" translate="no">QSqlDatabase</a> relies on the driver plugin to provide interfaces for <a href="qsqldriver.html" translate="no">QSqlDriver</a> and <a href="qsqlresult.html" translate="no">QSqlResult</a>.</p>
<p><a href="qsqldriver.html" translate="no">QSqlDriver</a> is an abstract base class which defines the functionality of a SQL database driver. This includes functions such as <a href="qsqldriver.html#open" translate="no">QSqlDriver::open</a>() and <a href="qsqldriver.html#close" translate="no">QSqlDriver::close</a>(). <a href="qsqldriver.html" translate="no">QSqlDriver</a> is responsible for connecting to a database, establish the proper environment, etc. In addition, <a href="qsqldriver.html" translate="no">QSqlDriver</a> can create <a href="qsqlquery.html" translate="no">QSqlQuery</a> objects appropriate for the particular database API. <a href="qsqldatabase.html" translate="no">QSqlDatabase</a> forwards many of its function calls directly to <a href="qsqldriver.html" translate="no">QSqlDriver</a> which provides the concrete implementation.</p>
<p><a href="qsqlresult.html" translate="no">QSqlResult</a> is an abstract base class which defines the functionality of a SQL database query. This includes statements such as <code translate="no">SELECT</code>, <code translate="no">UPDATE</code>, and <code translate="no">ALTER</code> <code translate="no">TABLE</code>. <a href="qsqlresult.html" translate="no">QSqlResult</a> contains functions such as QSqlResult::next() and QSqlResult::value(). <a href="qsqlresult.html" translate="no">QSqlResult</a> is responsible for sending queries to the database, returning result data, etc. <a href="qsqlquery.html" translate="no">QSqlQuery</a> forwards many of its function calls directly to <a href="qsqlresult.html" translate="no">QSqlResult</a> which provides the concrete implementation.</p>
<p><a href="qsqldriver.html" translate="no">QSqlDriver</a> and <a href="qsqlresult.html" translate="no">QSqlResult</a> are closely connected. When implementing a Qt SQL driver, both of these classes must to be subclassed and the abstract virtual methods in each class must be implemented.</p>
<p>To implement a Qt SQL driver as a plugin (so that it is recognized and loaded by the Qt library at runtime), the driver must use the <a href="../qtcore/qtplugin.html#Q_PLUGIN_METADATA" translate="no">Q_PLUGIN_METADATA</a>() macro. Read <a href="../qtdoc/plugins-howto.html" translate="no">How to Create Qt Plugins</a> for more information on this. You can also check out how this is done in the SQL plugins that are provided with Qt in <code translate="no">QTDIR/qtbase/src/plugins/sqldrivers</code>.</p>
<p>The following code can be used as a skeleton for a SQL driver:</p>
<pre class="cpp" translate="no">
 <span class="keyword">class</span> XyzResult : <span class="keyword">public</span> <span class="type"><a href="qsqlresult.html" translate="no">QSqlResult</a></span>
 {
 <span class="keyword">public</span>:
     XyzResult(<span class="keyword">const</span> <span class="type"><a href="qsqldriver.html" translate="no">QSqlDriver</a></span> <span class="operator">*</span>driver)
         : <span class="type"><a href="qsqlresult.html" translate="no">QSqlResult</a></span>(driver) {}
     <span class="operator">~</span>XyzResult() {}

 <span class="keyword">protected</span>:
     <span class="type"><a href="../qtcore/qvariant.html" translate="no">QVariant</a></span> data(<span class="type">int</span> <span class="comment">/* index */</span>) override { <span class="keyword">return</span> <span class="type"><a href="../qtcore/qvariant.html" translate="no">QVariant</a></span>(); }
     <span class="type">bool</span> isNull(<span class="type">int</span> <span class="comment">/* index */</span>) override { <span class="keyword">return</span> <span class="keyword">false</span>; }
     <span class="type">bool</span> reset(<span class="keyword">const</span> <span class="type"><a href="../qtcore/qstring.html" translate="no">QString</a></span> <span class="operator">&amp;</span> <span class="comment">/* query */</span>) override { <span class="keyword">return</span> <span class="keyword">false</span>; }
     <span class="type">bool</span> fetch(<span class="type">int</span> <span class="comment">/* index */</span>) override { <span class="keyword">return</span> <span class="keyword">false</span>; }
     <span class="type">bool</span> fetchFirst() override { <span class="keyword">return</span> <span class="keyword">false</span>; }
     <span class="type">bool</span> fetchLast() override { <span class="keyword">return</span> <span class="keyword">false</span>; }
     <span class="type">int</span> size() override { <span class="keyword">return</span> <span class="number">0</span>; }
     <span class="type">int</span> numRowsAffected() override { <span class="keyword">return</span> <span class="number">0</span>; }
     <span class="type"><a href="qsqlrecord.html" translate="no">QSqlRecord</a></span> record() <span class="keyword">const</span> override { <span class="keyword">return</span> <span class="type"><a href="qsqlrecord.html" translate="no">QSqlRecord</a></span>(); }
 };

 <span class="keyword">class</span> XyzDriver : <span class="keyword">public</span> <span class="type"><a href="qsqldriver.html" translate="no">QSqlDriver</a></span>
 {
 <span class="keyword">public</span>:
     XyzDriver() {}
     <span class="operator">~</span>XyzDriver() {}

     <span class="type">bool</span> hasFeature(DriverFeature <span class="comment">/* feature */</span>) <span class="keyword">const</span> override { <span class="keyword">return</span> <span class="keyword">false</span>; }
     <span class="type">bool</span> open(<span class="keyword">const</span> <span class="type"><a href="../qtcore/qstring.html" translate="no">QString</a></span> <span class="operator">&amp;</span> <span class="comment">/* db */</span><span class="operator">,</span> <span class="keyword">const</span> <span class="type"><a href="../qtcore/qstring.html" translate="no">QString</a></span> <span class="operator">&amp;</span> <span class="comment">/* user */</span><span class="operator">,</span>
               <span class="keyword">const</span> <span class="type"><a href="../qtcore/qstring.html" translate="no">QString</a></span> <span class="operator">&amp;</span> <span class="comment">/* password */</span><span class="operator">,</span> <span class="keyword">const</span> <span class="type"><a href="../qtcore/qstring.html" translate="no">QString</a></span> <span class="operator">&amp;</span> <span class="comment">/* host */</span><span class="operator">,</span>
               <span class="type">int</span> <span class="comment">/* port */</span><span class="operator">,</span> <span class="keyword">const</span> <span class="type"><a href="../qtcore/qstring.html" translate="no">QString</a></span> <span class="operator">&amp;</span> <span class="comment">/* options */</span>) override
         { <span class="keyword">return</span> <span class="keyword">false</span>; }
     <span class="type">void</span> close() override {}
     <span class="type"><a href="qsqlresult.html" translate="no">QSqlResult</a></span> <span class="operator">*</span>createResult() <span class="keyword">const</span> override { <span class="keyword">return</span> <span class="keyword">new</span> XyzResult(<span class="keyword">this</span>); }
 };
</pre>
</div>
<!-- @@@sql-driver.html -->
        </div>
       </div>
   </div>
   </div>
</div>
<div class="footer">
   <p>
   <acronym title="Copyright">&copy;</acronym> 2024 <span translate="no">The Qt Company Ltd.</span>
   Documentation contributions included herein are the copyrights of
   their respective owners.<br/>    The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the <span translate="no">Free Software Foundation</span>.<br/>    <span translate="no">Qt</span> and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of <span translate="no">The Qt Company Ltd.</span> in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>
</div>
</body>
</html>
