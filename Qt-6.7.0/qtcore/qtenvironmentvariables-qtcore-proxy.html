<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>&lt;QtEnvironmentVariables&gt; Proxy Page | Qt Core 6.7.0</title>
  <link rel="stylesheet" type="text/css" href="style/offline-simple.css" />
  <script type="text/javascript">
    document.getElementsByTagName("link").item(0).setAttribute("href", "style/offline.css");
    // loading style sheet breaks anchors that were jumped to before
    // so force jumping to anchor again
    setTimeout(function() {
        var anchor = location.hash;
        // need to jump to different anchor first (e.g. none)
        location.hash = "#";
        setTimeout(function() {
            location.hash = anchor;
        }, 0);
    }, 0);
  </script>
</head>
<body>
<div class="header" id="qtdocheader">
    <div class="main">
    <div class="main-rounded">
        <div class="navigationbar">
        <ul>
<li><a href="../qtdoc/index.html" translate="no">Qt 6.7</a></li>
<li><a href="qtcore-index.html" translate="no">Qt Core</a></li>
<li>&lt;QtEnvironmentVariables&gt; Proxy Page</li>
<li id="buildversion"><a href="qtcore-index.html" translate="no">Qt 6.7.0 Reference Documentation</a></li>
    </ul>
    </div>
</div>
<div class="content">
<div class="line">
<div class="content mainContent">
<h1 class="title">&lt;QtEnvironmentVariables&gt; Proxy Page</h1>
<h2 id="functions">Functions</h2>
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b></b></td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QString </td><td class="memItemRight bottomAlign"><b><a href="qtenvironmentvariables-qtcore-proxy.html#qEnvironmentVariable" translate="no">qEnvironmentVariable</a></b>(const char *<i>varName</i>, const QString &amp;<i>defaultValue</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QString </td><td class="memItemRight bottomAlign"><b><a href="qtenvironmentvariables-qtcore-proxy.html#qEnvironmentVariable-1" translate="no">qEnvironmentVariable</a></b>(const char *<i>varName</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> int </td><td class="memItemRight bottomAlign"><b><a href="qtenvironmentvariables-qtcore-proxy.html#qEnvironmentVariableIntValue" translate="no">qEnvironmentVariableIntValue</a></b>(const char *<i>varName</i>, bool *<i>ok</i> = nullptr)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qtenvironmentvariables-qtcore-proxy.html#qEnvironmentVariableIsEmpty" translate="no">qEnvironmentVariableIsEmpty</a></b>(const char *<i>varName</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qtenvironmentvariables-qtcore-proxy.html#qEnvironmentVariableIsSet" translate="no">qEnvironmentVariableIsSet</a></b>(const char *<i>varName</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QByteArray </td><td class="memItemRight bottomAlign"><b><a href="qtenvironmentvariables-qtcore-proxy.html#qgetenv" translate="no">qgetenv</a></b>(const char *<i>varName</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qtenvironmentvariables-qtcore-proxy.html#qputenv" translate="no">qputenv</a></b>(const char *<i>varName</i>, QByteArrayView <i>value</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qtenvironmentvariables-qtcore-proxy.html#qunsetenv" translate="no">qunsetenv</a></b>(const char *<i>varName</i>)</td></tr>
</table></div>
<div class="func">
<h2>Function Documentation</h2>
<!-- $$$ -->
<div class="fngroup">
<h3 class="fn fngroupitem" translate="no" id="qEnvironmentVariable-1"><span class="type"><a href="qstring.html" translate="no">QString</a></span> <span class="name">qEnvironmentVariable</span>(const <span class="type">char</span> *<i>varName</i>)</h3><h3 class="fn fngroupitem" translate="no" id="qEnvironmentVariable"><span class="type"><a href="qstring.html" translate="no">QString</a></span> <span class="name">qEnvironmentVariable</span>(const <span class="type">char</span> *<i>varName</i>, const <span class="type"><a href="qstring.html" translate="no">QString</a></span> &amp;<i>defaultValue</i>)</h3></div>
<p>These functions return the value of the environment variable, <i translate="no">varName</i>, as a <a href="qstring.html" translate="no">QString</a>. If no variable <i translate="no">varName</i> is found in the environment and <i translate="no">defaultValue</i> is provided, <i translate="no">defaultValue</i> is returned. Otherwise QString() is returned.</p>
<p>The Qt environment manipulation functions are thread-safe, but this requires that the C library equivalent functions like getenv and putenv are not directly called.</p>
<p>The following table describes how to choose between <a href="qtenvironmentvariables-qtcore-proxy.html#qgetenv" translate="no">qgetenv</a>() and <a href="qtenvironmentvariables-qtcore-proxy.html#qEnvironmentVariable" translate="no">qEnvironmentVariable</a>():</p>
<div class="table"><table class="generic">
 <thead><tr class="qt-style"><th >Condition</th><th >Recommendation</th></tr></thead>
<tr valign="top" class="odd"><td >Variable contains file paths or user text</td><td ><a href="qtenvironmentvariables-qtcore-proxy.html#qEnvironmentVariable" translate="no">qEnvironmentVariable</a>()</td></tr>
<tr valign="top" class="even"><td >Windows-specific code</td><td ><a href="qtenvironmentvariables-qtcore-proxy.html#qEnvironmentVariable" translate="no">qEnvironmentVariable</a>()</td></tr>
<tr valign="top" class="odd"><td >Unix-specific code, destination variable is not <a href="qstring.html" translate="no">QString</a> and/or is used to interface with non-Qt APIs</td><td ><a href="qtenvironmentvariables-qtcore-proxy.html#qgetenv" translate="no">qgetenv</a>()</td></tr>
<tr valign="top" class="even"><td >Destination variable is a <a href="qstring.html" translate="no">QString</a></td><td ><a href="qtenvironmentvariables-qtcore-proxy.html#qEnvironmentVariable" translate="no">qEnvironmentVariable</a>()</td></tr>
<tr valign="top" class="odd"><td >Destination variable is a <a href="qbytearray.html" translate="no">QByteArray</a> or std::string</td><td ><a href="qtenvironmentvariables-qtcore-proxy.html#qgetenv" translate="no">qgetenv</a>()</td></tr>
</table></div>
<div class="admonition note">
<p><b>Note: </b>on Unix systems, this function may produce data loss if the original string contains arbitrary binary data that cannot be decoded by the locale codec. Use <a href="qtenvironmentvariables-qtcore-proxy.html#qgetenv" translate="no">qgetenv</a>() instead for that case. On Windows, this function is lossless.</p>
</div>
<div class="admonition note">
<p><b>Note: </b>the variable name <i translate="no">varName</i> must contain only US-ASCII characters.</p>
</div>
<p><b>See also </b><a href="qtenvironmentvariables-qtcore-proxy.html#qputenv" translate="no">qputenv</a>(), <a href="qtenvironmentvariables-qtcore-proxy.html#qgetenv" translate="no">qgetenv</a>(), <a href="qtenvironmentvariables-qtcore-proxy.html#qEnvironmentVariableIsSet" translate="no">qEnvironmentVariableIsSet</a>(), and <a href="qtenvironmentvariables-qtcore-proxy.html#qEnvironmentVariableIsEmpty" translate="no">qEnvironmentVariableIsEmpty</a>().</p>
<!-- @@@ -->
<!-- $$$qEnvironmentVariable[overload1]$$$qEnvironmentVariableconstchar*constQString& -->
<h3 class="fn" translate="no" id="qEnvironmentVariable"><span class="type"><a href="qstring.html" translate="no">QString</a></span> <span class="name">qEnvironmentVariable</span>(const <span class="type">char</span> *<i>varName</i>, const <span class="type"><a href="qstring.html" translate="no">QString</a></span> &amp;<i>defaultValue</i>)</h3>
<!-- @@@qEnvironmentVariable -->
<!-- $$$qEnvironmentVariable$$$qEnvironmentVariableconstchar* -->
<h3 class="fn" translate="no" id="qEnvironmentVariable-1"><span class="type"><a href="qstring.html" translate="no">QString</a></span> <span class="name">qEnvironmentVariable</span>(const <span class="type">char</span> *<i>varName</i>)</h3>
<!-- @@@qEnvironmentVariable -->
<!-- $$$qEnvironmentVariableIntValue[overload1]$$$qEnvironmentVariableIntValueconstchar*bool* -->
<h3 class="fn" translate="no" id="qEnvironmentVariableIntValue"><code class="details extra" translate="no">[noexcept]</code> <span class="type">int</span> <span class="name">qEnvironmentVariableIntValue</span>(const <span class="type">char</span> *<i>varName</i>, <span class="type">bool</span> *<i>ok</i> = nullptr)</h3>
<p>Returns the numerical value of the environment variable <i translate="no">varName</i>. If <i translate="no">ok</i> is not null, sets <code translate="no">*ok</code> to <code translate="no">true</code> or <code translate="no">false</code> depending on the success of the conversion.</p>
<p>Equivalent to</p>
<pre class="cpp" translate="no">
     qgetenv(varName)<span class="operator">.</span>toInt(ok<span class="operator">,</span> <span class="number">0</span>)
</pre>
<p>except that it's much faster, and can't throw exceptions.</p>
<div class="admonition note">
<p><b>Note: </b>there's a limit on the length of the value, which is sufficient for all valid values of int, not counting leading zeroes or spaces. Values that are too long will either be truncated or this function will set <i translate="no">ok</i> to <code translate="no">false</code>.</p>
</div>
<p><b>See also </b><a href="qtenvironmentvariables-qtcore-proxy.html#qgetenv" translate="no">qgetenv</a>(), <a href="qtenvironmentvariables-qtcore-proxy.html#qEnvironmentVariable" translate="no">qEnvironmentVariable</a>(), and <a href="qtenvironmentvariables-qtcore-proxy.html#qEnvironmentVariableIsSet" translate="no">qEnvironmentVariableIsSet</a>().</p>
<!-- @@@qEnvironmentVariableIntValue -->
<!-- $$$qEnvironmentVariableIsEmpty[overload1]$$$qEnvironmentVariableIsEmptyconstchar* -->
<h3 class="fn" translate="no" id="qEnvironmentVariableIsEmpty"><code class="details extra" translate="no">[noexcept]</code> <span class="type">bool</span> <span class="name">qEnvironmentVariableIsEmpty</span>(const <span class="type">char</span> *<i>varName</i>)</h3>
<p>Returns whether the environment variable <i translate="no">varName</i> is empty.</p>
<p>Equivalent to</p>
<pre class="cpp" translate="no">
     qgetenv(varName)<span class="operator">.</span>isEmpty()
</pre>
<p>except that it's potentially much faster, and can't throw exceptions.</p>
<p><b>See also </b><a href="qtenvironmentvariables-qtcore-proxy.html#qgetenv" translate="no">qgetenv</a>(), <a href="qtenvironmentvariables-qtcore-proxy.html#qEnvironmentVariable" translate="no">qEnvironmentVariable</a>(), and <a href="qtenvironmentvariables-qtcore-proxy.html#qEnvironmentVariableIsSet" translate="no">qEnvironmentVariableIsSet</a>().</p>
<!-- @@@qEnvironmentVariableIsEmpty -->
<!-- $$$qEnvironmentVariableIsSet[overload1]$$$qEnvironmentVariableIsSetconstchar* -->
<h3 class="fn" translate="no" id="qEnvironmentVariableIsSet"><code class="details extra" translate="no">[noexcept]</code> <span class="type">bool</span> <span class="name">qEnvironmentVariableIsSet</span>(const <span class="type">char</span> *<i>varName</i>)</h3>
<p>Returns whether the environment variable <i translate="no">varName</i> is set.</p>
<p>Equivalent to</p>
<pre class="cpp" translate="no">
     <span class="operator">!</span>qgetenv(varName)<span class="operator">.</span>isNull()
</pre>
<p>except that it's potentially much faster, and can't throw exceptions.</p>
<p><b>See also </b><a href="qtenvironmentvariables-qtcore-proxy.html#qgetenv" translate="no">qgetenv</a>(), <a href="qtenvironmentvariables-qtcore-proxy.html#qEnvironmentVariable" translate="no">qEnvironmentVariable</a>(), and <a href="qtenvironmentvariables-qtcore-proxy.html#qEnvironmentVariableIsEmpty" translate="no">qEnvironmentVariableIsEmpty</a>().</p>
<!-- @@@qEnvironmentVariableIsSet -->
<!-- $$$qgetenv[overload1]$$$qgetenvconstchar* -->
<h3 class="fn" translate="no" id="qgetenv"><span class="type"><a href="qbytearray.html" translate="no">QByteArray</a></span> <span class="name">qgetenv</span>(const <span class="type">char</span> *<i>varName</i>)</h3>
<p>Returns the value of the environment variable with name <i translate="no">varName</i> as a <a href="qbytearray.html" translate="no">QByteArray</a>. If no variable by that name is found in the environment, this function returns a default-constructed <a href="qbytearray.html" translate="no">QByteArray</a>.</p>
<p>The Qt environment manipulation functions are thread-safe, but this requires that the C library equivalent functions like getenv and putenv are not directly called.</p>
<p>To convert the data to a <a href="qstring.html" translate="no">QString</a> use <a href="qstring.html#fromLocal8Bit" translate="no">QString::fromLocal8Bit</a>().</p>
<div class="admonition note">
<p><b>Note: </b>on desktop Windows, qgetenv() may produce data loss if the original string contains Unicode characters not representable in the ANSI encoding. Use <a href="qtenvironmentvariables-qtcore-proxy.html#qEnvironmentVariable" translate="no">qEnvironmentVariable</a>() instead. On Unix systems, this function is lossless.</p>
</div>
<p><b>Note:</b> This function is <a href="../qtdoc/threads-reentrancy.html" translate="no">thread-safe</a>.</p>
<p><b>See also </b><a href="qtenvironmentvariables-qtcore-proxy.html#qputenv" translate="no">qputenv</a>(), <a href="qtenvironmentvariables-qtcore-proxy.html#qEnvironmentVariable" translate="no">qEnvironmentVariable</a>(), <a href="qtenvironmentvariables-qtcore-proxy.html#qEnvironmentVariableIsSet" translate="no">qEnvironmentVariableIsSet</a>(), and <a href="qtenvironmentvariables-qtcore-proxy.html#qEnvironmentVariableIsEmpty" translate="no">qEnvironmentVariableIsEmpty</a>().</p>
<!-- @@@qgetenv -->
<!-- $$$qputenv[overload1]$$$qputenvconstchar*QByteArrayView -->
<h3 class="fn" translate="no" id="qputenv"><span class="type">bool</span> <span class="name">qputenv</span>(const <span class="type">char</span> *<i>varName</i>, <span class="type"><a href="qbytearrayview.html" translate="no">QByteArrayView</a></span> <i>value</i>)</h3>
<p>This function sets the <i translate="no">value</i> of the environment variable named <i translate="no">varName</i>. It will create the variable if it does not exist. It returns 0 if the variable could not be set.</p>
<p>Calling qputenv with an empty value removes the environment variable on Windows, and makes it set (but empty) on Unix. Prefer using <a href="qtenvironmentvariables-qtcore-proxy.html#qunsetenv" translate="no">qunsetenv</a>() for fully portable behavior.</p>
<div class="admonition note">
<p><b>Note: </b>qputenv() was introduced because putenv() from the standard C library was deprecated in VC2005 (and later versions). qputenv() uses the replacement function in VC, and calls the standard C library's implementation on all other platforms.</p>
</div>
<div class="admonition note">
<p><b>Note: </b>In Qt versions prior to 6.5, the <i translate="no">value</i> argument was <a href="qbytearray.html" translate="no">QByteArray</a>, not <a href="qbytearrayview.html" translate="no">QByteArrayView</a>.</p>
</div>
<p><b>See also </b><a href="qtenvironmentvariables-qtcore-proxy.html#qgetenv" translate="no">qgetenv</a>() and <a href="qtenvironmentvariables-qtcore-proxy.html#qEnvironmentVariable" translate="no">qEnvironmentVariable</a>().</p>
<!-- @@@qputenv -->
<!-- $$$qunsetenv[overload1]$$$qunsetenvconstchar* -->
<h3 class="fn" translate="no" id="qunsetenv"><span class="type">bool</span> <span class="name">qunsetenv</span>(const <span class="type">char</span> *<i>varName</i>)</h3>
<p>This function deletes the variable <i translate="no">varName</i> from the environment.</p>
<p>Returns <code translate="no">true</code> on success.</p>
<p><b>See also </b><a href="qtenvironmentvariables-qtcore-proxy.html#qputenv" translate="no">qputenv</a>(), <a href="qtenvironmentvariables-qtcore-proxy.html#qgetenv" translate="no">qgetenv</a>(), and <a href="qtenvironmentvariables-qtcore-proxy.html#qEnvironmentVariable" translate="no">qEnvironmentVariable</a>().</p>
<!-- @@@qunsetenv -->
</div>
        </div>
       </div>
   </div>
   </div>
</div>
<div class="footer">
   <p>
   <acronym title="Copyright">&copy;</acronym> 2024 <span translate="no">The Qt Company Ltd.</span>
   Documentation contributions included herein are the copyrights of
   their respective owners.<br/>    The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the <span translate="no">Free Software Foundation</span>.<br/>    <span translate="no">Qt</span> and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of <span translate="no">The Qt Company Ltd.</span> in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>
</div>
</body>
</html>
