<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
<!-- qt_add_library.qdoc -->
  <meta name="description" content="Creates and finalizes a library.">
  <title>qt_add_library | Qt Core 6.7.0</title>
  <link rel="stylesheet" type="text/css" href="style/offline-simple.css" />
  <script type="text/javascript">
    document.getElementsByTagName("link").item(0).setAttribute("href", "style/offline.css");
    // loading style sheet breaks anchors that were jumped to before
    // so force jumping to anchor again
    setTimeout(function() {
        var anchor = location.hash;
        // need to jump to different anchor first (e.g. none)
        location.hash = "#";
        setTimeout(function() {
            location.hash = anchor;
        }, 0);
    }, 0);
  </script>
</head>
<body>
<div class="header" id="qtdocheader">
    <div class="main">
    <div class="main-rounded">
        <div class="navigationbar">
        <ul>
<li><a href="../qtdoc/index.html" translate="no">Qt 6.7</a></li>
<li><a href="qtcore-index.html" translate="no">Qt Core</a></li>
<li><a href="cmake-commands-qtcore.html" translate="no">CMake Commands in Qt6 Core</a></li>
<li>qt_add_library</li>
<li id="buildversion"><a href="qtcore-index.html" translate="no">Qt 6.7.0 Reference Documentation</a></li>
    </ul>
    </div>
</div>
<div class="content">
<div class="line">
<div class="content mainContent">
<div class="sidebar">
<div class="toc">
<h3 id="toc">Contents</h3>
<ul>
<li class="level1"><a href="#synopsis">Synopsis</a></li>
<li class="level1"><a href="#description">Description</a></li>
<li class="level2"><a href="#target-creation">Target Creation</a></li>
<li class="level2"><a href="#finalization">Finalization</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<h1 class="title">qt_add_library</h1>
<!-- $$$qt-add-library.html-description -->
<div class="descr" id="details">
<p>Creates and finalizes a library.</p>
<p>The command is defined in the <code translate="no">Core</code> component of the <code translate="no">Qt6</code> package, which can be loaded like so:</p>
<pre class="cpp plain" translate="no">
 find_package(Qt6 REQUIRED COMPONENTS Core)
</pre>
<p>This command was introduced in Qt 6.2.</p>
<h2 id="synopsis">Synopsis</h2>
<pre class="cpp plain" translate="no">
 qt_add_library(target
     [STATIC | SHARED | MODULE | INTERFACE | OBJECT]
     [MANUAL_FINALIZATION]
     sources...
 )
</pre>
<p>If <a href="../qtcmake/cmake-qt5-and-qt6-compatibility.html#versionless-commands" translate="no">versionless commands</a> are disabled, use <code translate="no">qt6_add_library()</code> instead. It supports the same set of arguments as this command.</p>
<h2 id="description">Description</h2>
<p><code translate="no">qt_add_library()</code> is a wrapper around CMake's built-in <code translate="no">add_library()</code> command. It performs the following tasks:</p>
<ul>
<li>Create a CMake target of an appropriate library type.</li>
<li>Handle finalization of the CMake target.</li>
</ul>
<h3 id="target-creation">Target Creation</h3>
<p>The type of library created can be specified explicitly with one of the <code translate="no">STATIC</code>, <code translate="no">SHARED</code>, <code translate="no">MODULE</code>, <code translate="no">INTERFACE</code> or <code translate="no">OBJECT</code> keywords, just as one might for <code translate="no">add_library()</code>. If none of these keywords are given, the library type created depends on how Qt was built. If Qt was built statically, a static library will be created. Otherwise, a shared library will be created. Note that this is different to how CMake's <code translate="no">add_library()</code> command works, where the <code translate="no">BUILD_SHARED_LIBS</code> variable controls the type of library created. Since 6.7, the <code translate="no">qt_add_library()</code> command considers <code translate="no">BUILD_SHARED_LIBS</code> when deciding the library type only if the variable is set explicitly and <a href="qt-cmake-policy-qtp0003.html" translate="no">QTP0003</a> is set to <code translate="no">NEW</code>.</p>
<p>Any <code translate="no">sources</code> provided will be passed through to the internal call to <code translate="no">add_library()</code>.</p>
<span id="qt-add-library-finalization"></span><h3 id="finalization">Finalization</h3>
<p>After a target is created, further processing or <i>finalization</i> steps may be needed. The finalization processing is implemented by the <a href="qt-finalize-target.html" translate="no">qt_finalize_target()</a> command.</p>
<p>Finalization can occur either as part of this call or be deferred to sometime after this command returns (but it should still be in the same directory scope). When using CMake 3.19 or later, finalization is automatically deferred to the end of the current directory scope. This gives the caller an opportunity to modify properties of the created target before it is finalized. When using CMake versions earlier than 3.19, automatic deferral isn't supported. In that case, finalization is performed immediately before this command returns.</p>
<p>Regardless of the CMake version, the <code translate="no">MANUAL_FINALIZATION</code> keyword can be given to indicate that you will explicitly call <a href="qt-finalize-target.html" translate="no">qt_finalize_target()</a> yourself instead at some later time. In general, <code translate="no">MANUAL_FINALIZATION</code> should not be needed unless the project has to support CMake 3.18 or earlier.</p>
</div>
<p><b>See also </b><a href="qt-finalize-target.html" translate="no">qt_finalize_target()</a>, <a href="qt-add-executable.html" translate="no">qt_add_executable()</a>, and <a href="qt-cmake-policy-qtp0003.html" translate="no">QTP0003</a>.</p>
<!-- @@@qt-add-library.html -->
        </div>
       </div>
   </div>
   </div>
</div>
<div class="footer">
   <p>
   <acronym title="Copyright">&copy;</acronym> 2024 <span translate="no">The Qt Company Ltd.</span>
   Documentation contributions included herein are the copyrights of
   their respective owners.<br/>    The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the <span translate="no">Free Software Foundation</span>.<br/>    <span translate="no">Qt</span> and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of <span translate="no">The Qt Company Ltd.</span> in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>
</div>
</body>
</html>
