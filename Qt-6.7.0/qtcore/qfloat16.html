<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
<!-- qfloat16.cpp -->
  <meta name="description" content="Provides 16-bit floating point support.">
  <title>qfloat16 Class | Qt Core 6.7.0</title>
  <link rel="stylesheet" type="text/css" href="style/offline-simple.css" />
  <script type="text/javascript">
    document.getElementsByTagName("link").item(0).setAttribute("href", "style/offline.css");
    // loading style sheet breaks anchors that were jumped to before
    // so force jumping to anchor again
    setTimeout(function() {
        var anchor = location.hash;
        // need to jump to different anchor first (e.g. none)
        location.hash = "#";
        setTimeout(function() {
            location.hash = anchor;
        }, 0);
    }, 0);
  </script>
</head>
<body>
<div class="header" id="qtdocheader">
    <div class="main">
    <div class="main-rounded">
        <div class="navigationbar">
        <ul>
<li><a href="../qtdoc/index.html" translate="no">Qt 6.7</a></li>
<li><a href="qtcore-index.html" translate="no">Qt Core</a></li>
<li><a href="qtcore-module.html" translate="no">C++ Classes</a></li>
<li>qfloat16</li>
<li id="buildversion"><a href="qtcore-index.html" translate="no">Qt 6.7.0 Reference Documentation</a></li>
    </ul>
    </div>
</div>
<div class="content">
<div class="line">
<div class="content mainContent">
<div class="sidebar">
<div class="toc">
<h3 id="toc">Contents</h3>
<ul>
<li class="level1"><a href="#public-functions">Public Functions</a></li>
<li class="level1"><a href="#related-non-members">Related Non-Members</a></li>
<li class="level1"><a href="#details">Detailed Description</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<h1 class="title" translate="no">qfloat16 Class</h1>
<!-- $$$qfloat16-brief -->
<p>Provides 16-bit floating point support. <a href="#details">More...</a></p>
<!-- @@@qfloat16 -->
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> Header:</td><td class="memItemRight bottomAlign">  <span class="preprocessor">#include &lt;QFloat16&gt;</span></td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> CMake:</td><td class="memItemRight bottomAlign"> find_package(Qt6 REQUIRED COMPONENTS Core) <br/>
target_link_libraries(mytarget PRIVATE Qt6::Core)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> qmake:</td><td class="memItemRight bottomAlign"> QT += core</td></tr>
</table></div>
<ul>
<li><a href="qfloat16-members.html">List of all members, including inherited members</a></li>
</ul>
<p>This class is <i>partially comparable</i>.</p>
<p>This class is <b>partially comparable</b> with float, <a href="../qtqml/qml-double.html" translate="no">double</a>, long double, <a href="qttypes.html#qint8-typedef" translate="no">qint8</a>, <a href="qttypes.html#quint8-typedef" translate="no">quint8</a>, <a href="qttypes.html#qint16-typedef" translate="no">qint16</a>, <a href="qttypes.html#quint16-typedef" translate="no">quint16</a>, <a href="qttypes.html#qint32-typedef" translate="no">qint32</a>, <a href="qttypes.html#quint32-typedef" translate="no">quint32</a>, long, unsigned long, <a href="qttypes.html#qint64-typedef" translate="no">qint64</a>, and <a href="qttypes.html#quint64-typedef" translate="no">quint64</a>.</p>
<p>This class is <b>partially comparable</b> with <a href="qttypes.html#qint128-typedef" translate="no">qint128</a> and <a href="qttypes.html#quint128-typedef" translate="no">quint128</a>.</p>
<p>Comparison with 128-bit integral types is only supported if Qt provides these types.</p>
<h2 id="public-functions">Public Functions</h2>
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> <code class="summary extra" translate="no">(since 6.1)</code> </td><td class="memItemRight bottomAlign"><b><a href="qfloat16.html#qfloat16-1" translate="no">qfloat16</a></b>(Qt::Initialization)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> qfloat16 </td><td class="memItemRight bottomAlign"><b><a href="qfloat16.html#copySign" translate="no">copySign</a></b>(qfloat16 <i>sign</i>) const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qfloat16.html#isNormal" translate="no">isNormal</a></b>() const</td></tr>
</table></div>
<h2 id="related-non-members">Related Non-Members</h2>
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qfloat16.html#qFloatFromFloat16" translate="no">qFloatFromFloat16</a></b>(float *<i>out</i>, const qfloat16 *<i>in</i>, qsizetype <i>len</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qfloat16.html#qFloatToFloat16" translate="no">qFloatToFloat16</a></b>(qfloat16 *<i>out</i>, const float *<i>in</i>, qsizetype <i>len</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> int </td><td class="memItemRight bottomAlign"><b><a href="qfloat16.html#qFpClassify-1" translate="no">qFpClassify</a></b>(qfloat16 <i>val</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qfloat16.html#qFuzzyCompare-1" translate="no">qFuzzyCompare</a></b>(qfloat16 <i>p1</i>, qfloat16 <i>p2</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> <code class="summary extra" translate="no">(since 6.5.3)</code> size_t </td><td class="memItemRight bottomAlign"><b><a href="qfloat16.html#qHash" translate="no">qHash</a></b>(qfloat16 <i>key</i>, size_t <i>seed</i> = 0)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qfloat16.html#qIsFinite" translate="no">qIsFinite</a></b>(qfloat16 <i>f</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qfloat16.html#qIsInf" translate="no">qIsInf</a></b>(qfloat16 <i>f</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qfloat16.html#qIsNaN" translate="no">qIsNaN</a></b>(qfloat16 <i>f</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> qint64 </td><td class="memItemRight bottomAlign"><b><a href="qfloat16.html#qRound64-1" translate="no">qRound64</a></b>(qfloat16 <i>value</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> int </td><td class="memItemRight bottomAlign"><b><a href="qfloat16.html#qRound-1" translate="no">qRound</a></b>(qfloat16 <i>value</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QDataStream &amp;</td><td class="memItemRight bottomAlign"><b><a href="qfloat16.html#operator-lt-lt" translate="no">operator&lt;&lt;</a></b>(QDataStream &amp;<i>ds</i>, qfloat16 <i>f</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QDataStream &amp;</td><td class="memItemRight bottomAlign"><b><a href="qfloat16.html#operator-gt-gt" translate="no">operator&gt;&gt;</a></b>(QDataStream &amp;<i>ds</i>, qfloat16 &amp;<i>f</i>)</td></tr>
</table></div>
<!-- $$$qfloat16-description -->
<div class="descr">
<h2 id="details">Detailed Description</h2>
<p>The <code translate="no">qfloat16</code> class provides support for half-precision (16-bit) floating point data. It is fully compliant with IEEE 754 as a storage type. This implies that any arithmetic operation on a <code translate="no">qfloat16</code> instance results in the value first being converted to a <code translate="no">float</code>. This conversion to and from <code translate="no">float</code> is performed by hardware when possible, but on processors that do not natively support half-precision, the conversion is performed through a sequence of lookup table operations.</p>
<p><code translate="no">qfloat16</code> should be treated as if it were a POD (plain old data) type. Consequently, none of the supported operations need any elaboration beyond stating that it supports all arithmetic operators incident to floating point types.</p>
<div class="admonition note">
<p><b>Note: </b>On x86 and x86-64 that to get hardware accelerated conversions you must compile with F16C or AVX2 enabled, or use <a href="qfloat16.html#qFloatToFloat16" translate="no">qFloatToFloat16</a>() and <a href="qfloat16.html#qFloatFromFloat16" translate="no">qFloatFromFloat16</a>() which will detect F16C at runtime.</p>
</div>
</div>
<!-- @@@qfloat16 -->
<div class="func">
<h2>Member Function Documentation</h2>
<!-- $$$qfloat16$$$qfloat16Qt::Initialization -->
<h3 class="fn" translate="no" id="qfloat16-1"><code class="details extra" translate="no">[explicit noexcept, since 6.1]</code> qfloat16::<span class="name">qfloat16</span>(<span class="type">Qt::Initialization</span>)</h3>
<p>Constructs a qfloat16 without initializing the value.</p>
<p>This function was introduced in Qt 6.1.</p>
<!-- @@@qfloat16 -->
<!-- $$$copySign[overload1]$$$copySignqfloat16 -->
<h3 class="fn" translate="no" id="copySign"><code class="details extra" translate="no">[noexcept]</code> <span class="type">qfloat16</span> qfloat16::<span class="name">copySign</span>(<span class="type">qfloat16</span> <i>sign</i>) const</h3>
<p>Returns a qfloat16 with the sign of <i translate="no">sign</i> but the rest of its value taken from this qfloat16. Serves as qfloat16's equivalent of std::copysign().</p>
<!-- @@@copySign -->
<!-- $$$isNormal[overload1]$$$isNormal -->
<h3 class="fn" translate="no" id="isNormal"><code class="details extra" translate="no">[constexpr noexcept]</code> <span class="type">bool</span> qfloat16::<span class="name">isNormal</span>() const</h3>
<p>Returns <code translate="no">true</code> if this <code translate="no">qfloat16</code> value is finite and in normal form.</p>
<p><b>See also </b><a href="qfloat16.html#qFpClassify-1" translate="no">qFpClassify</a>().</p>
<!-- @@@isNormal -->
</div>
<div class="relnonmem">
<h2>Related Non-Members</h2>
<!-- $$$qFloatFromFloat16[overload1]$$$qFloatFromFloat16float*constqfloat16*qsizetype -->
<h3 class="fn" translate="no" id="qFloatFromFloat16"><code class="details extra" translate="no">[noexcept]</code> <span class="type">void</span> <span class="name">qFloatFromFloat16</span>(<span class="type">float</span> *<i>out</i>, const <span class="type">qfloat16</span> *<i>in</i>, <span class="type">qsizetype</span> <i>len</i>)</h3>
<p>Converts <i translate="no">len</i> qfloat16 from <i translate="no">in</i> to floats and stores them in <i translate="no">out</i>. Both <i translate="no">in</i> and <i translate="no">out</i> must have <i translate="no">len</i> allocated entries.</p>
<p>This function is faster than converting values one by one, and will do runtime F16C detection on x86 and x86-64 hardware.</p>
<!-- @@@qFloatFromFloat16 -->
<!-- $$$qFloatToFloat16[overload1]$$$qFloatToFloat16qfloat16*constfloat*qsizetype -->
<h3 class="fn" translate="no" id="qFloatToFloat16"><code class="details extra" translate="no">[noexcept]</code> <span class="type">void</span> <span class="name">qFloatToFloat16</span>(<span class="type">qfloat16</span> *<i>out</i>, const <span class="type">float</span> *<i>in</i>, <span class="type">qsizetype</span> <i>len</i>)</h3>
<p>Converts <i translate="no">len</i> floats from <i translate="no">in</i> to qfloat16 and stores them in <i translate="no">out</i>. Both <i translate="no">in</i> and <i translate="no">out</i> must have <i translate="no">len</i> allocated entries.</p>
<p>This function is faster than converting values one by one, and will do runtime F16C detection on x86 and x86-64 hardware.</p>
<!-- @@@qFloatToFloat16 -->
<!-- $$$qFpClassify$$$qFpClassifyqfloat16 -->
<h3 class="fn" translate="no" id="qFpClassify-1"><code class="details extra" translate="no">[noexcept]</code> <span class="type">int</span> <span class="name">qFpClassify</span>(<span class="type">qfloat16</span> <i>val</i>)</h3>
<p>This function overloads <a href="qtnumeric.html#qFpClassify-2" translate="no">qFpClassify</a>(float).</p>
<p>Returns the floating-point class of <i translate="no">val</i>.</p>
<!-- @@@qFpClassify -->
<!-- $$$qFuzzyCompare$$$qFuzzyCompareqfloat16qfloat16 -->
<h3 class="fn" translate="no" id="qFuzzyCompare-1"><code class="details extra" translate="no">[noexcept]</code> <span class="type">bool</span> <span class="name">qFuzzyCompare</span>(<span class="type">qfloat16</span> <i>p1</i>, <span class="type">qfloat16</span> <i>p2</i>)</h3>
<p>This function overloads <a href="qtnumeric.html#qFuzzyCompare-2" translate="no">qFuzzyCompare</a>(float, float).</p>
<p>Compares the floating point value <i translate="no">p1</i> and <i translate="no">p2</i> and returns <code translate="no">true</code> if they are considered equal, otherwise <code translate="no">false</code>.</p>
<p>The two numbers are compared in a relative way, where the exactness is stronger the smaller the numbers are.</p>
<!-- @@@qFuzzyCompare -->
<!-- $$$qHash[overload1]$$$qHashqfloat16size_t -->
<h3 class="fn" translate="no" id="qHash"><code class="details extra" translate="no">[noexcept, since 6.5.3]</code> <span class="type">size_t</span> <span class="name">qHash</span>(<span class="type">qfloat16</span> <i>key</i>, <span class="type">size_t</span> <i>seed</i> = 0)</h3>
<p>Returns the hash value for the <i translate="no">key</i>, using <i translate="no">seed</i> to seed the calculation.</p>
<div class="admonition note">
<p><b>Note: </b>In Qt versions before 6.5, this operation was provided by the qHash(float) overload. In Qt versions 6.5.0 to 6.5.2, this functionality was broken in various ways. In Qt versions 6.5.3 and 6.6 onwards, this overload restores the Qt 6.4 behavior.</p>
</div>
<p>This function was introduced in Qt 6.5.3.</p>
<!-- @@@qHash -->
<!-- $$$qIsFinite[overload1]$$$qIsFiniteqfloat16 -->
<h3 class="fn" translate="no" id="qIsFinite"><code class="details extra" translate="no">[noexcept]</code> <span class="type">bool</span> <span class="name">qIsFinite</span>(<span class="type">qfloat16</span> <i>f</i>)</h3>
<p>This function overloads <a href="qtnumeric.html#qIsFinite-1" translate="no">qIsFinite</a>(float).</p>
<p>Returns true if the <code translate="no">qfloat16</code> <i translate="no">f</i> is a finite number.</p>
<!-- @@@qIsFinite -->
<!-- $$$qIsInf[overload1]$$$qIsInfqfloat16 -->
<h3 class="fn" translate="no" id="qIsInf"><code class="details extra" translate="no">[noexcept]</code> <span class="type">bool</span> <span class="name">qIsInf</span>(<span class="type">qfloat16</span> <i>f</i>)</h3>
<p>This function overloads <a href="qtnumeric.html#qIsInf-1" translate="no">qIsInf</a>(float).</p>
<p>Returns true if the <code translate="no">qfloat16</code> <i translate="no">f</i> is equivalent to infinity.</p>
<!-- @@@qIsInf -->
<!-- $$$qIsNaN[overload1]$$$qIsNaNqfloat16 -->
<h3 class="fn" translate="no" id="qIsNaN"><code class="details extra" translate="no">[noexcept]</code> <span class="type">bool</span> <span class="name">qIsNaN</span>(<span class="type">qfloat16</span> <i>f</i>)</h3>
<p>This function overloads <a href="qtnumeric.html#qIsNaN-1" translate="no">qIsNaN</a>(float).</p>
<p>Returns true if the <code translate="no">qfloat16</code> <i translate="no">f</i> is not a number (NaN).</p>
<!-- @@@qIsNaN -->
<!-- $$$qRound64$$$qRound64qfloat16 -->
<h3 class="fn" translate="no" id="qRound64-1"><code class="details extra" translate="no">[noexcept]</code> <span class="type"><a href="qttypes.html#qint64-typedef" translate="no">qint64</a></span> <span class="name">qRound64</span>(<span class="type">qfloat16</span> <i>value</i>)</h3>
<p>This function overloads <a href="qtnumeric.html#qRound64-2" translate="no">qRound64</a>(float).</p>
<p>Rounds <i translate="no">value</i> to the nearest 64-bit integer.</p>
<!-- @@@qRound64 -->
<!-- $$$qRound$$$qRoundqfloat16 -->
<h3 class="fn" translate="no" id="qRound-1"><code class="details extra" translate="no">[noexcept]</code> <span class="type">int</span> <span class="name">qRound</span>(<span class="type">qfloat16</span> <i>value</i>)</h3>
<p>This function overloads <a href="qtnumeric.html#qRound-2" translate="no">qRound</a>(float).</p>
<p>Rounds <i translate="no">value</i> to the nearest integer.</p>
<!-- @@@qRound -->
<!-- $$$operator<<[overload1]$$$operator<<QDataStream&qfloat16 -->
<h3 class="fn" translate="no" id="operator-lt-lt"><span class="type"><a href="qdatastream.html" translate="no">QDataStream</a></span> &amp;<span class="name">operator&lt;&lt;</span>(<span class="type"><a href="qdatastream.html" translate="no">QDataStream</a></span> &amp;<i>ds</i>, <span class="type">qfloat16</span> <i>f</i>)</h3>
<p>Writes a floating point number, <i translate="no">f</i>, to the stream <i translate="no">ds</i> using the standard IEEE 754 format. Returns a reference to the stream.</p>
<div class="admonition note">
<p><b>Note: </b>In Qt versions prior to 6.3, this was a member function on <a href="qdatastream.html" translate="no">QDataStream</a>.</p>
</div>
<!-- @@@operator<< -->
<!-- $$$operator>>[overload1]$$$operator>>QDataStream&qfloat16& -->
<h3 class="fn" translate="no" id="operator-gt-gt"><span class="type"><a href="qdatastream.html" translate="no">QDataStream</a></span> &amp;<span class="name">operator&gt;&gt;</span>(<span class="type"><a href="qdatastream.html" translate="no">QDataStream</a></span> &amp;<i>ds</i>, <span class="type">qfloat16</span> &amp;<i>f</i>)</h3>
<p>Reads a floating point number from the stream <i translate="no">ds</i> into <i translate="no">f</i>, using the standard IEEE 754 format. Returns a reference to the stream.</p>
<div class="admonition note">
<p><b>Note: </b>In Qt versions prior to 6.3, this was a member function on <a href="qdatastream.html" translate="no">QDataStream</a>.</p>
</div>
<!-- @@@operator>> -->
</div>
        </div>
       </div>
   </div>
   </div>
</div>
<div class="footer">
   <p>
   <acronym title="Copyright">&copy;</acronym> 2024 <span translate="no">The Qt Company Ltd.</span>
   Documentation contributions included herein are the copyrights of
   their respective owners.<br/>    The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the <span translate="no">Free Software Foundation</span>.<br/>    <span translate="no">Qt</span> and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of <span translate="no">The Qt Company Ltd.</span> in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>
</div>
</body>
</html>
