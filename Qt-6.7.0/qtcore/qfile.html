<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
<!-- qfile.cpp -->
  <meta name="description" content="The QFile class provides an interface for reading from and writing to files.">
  <title>QFile Class | Qt Core 6.7.0</title>
  <link rel="stylesheet" type="text/css" href="style/offline-simple.css" />
  <script type="text/javascript">
    document.getElementsByTagName("link").item(0).setAttribute("href", "style/offline.css");
    // loading style sheet breaks anchors that were jumped to before
    // so force jumping to anchor again
    setTimeout(function() {
        var anchor = location.hash;
        // need to jump to different anchor first (e.g. none)
        location.hash = "#";
        setTimeout(function() {
            location.hash = anchor;
        }, 0);
    }, 0);
  </script>
</head>
<body>
<div class="header" id="qtdocheader">
    <div class="main">
    <div class="main-rounded">
        <div class="navigationbar">
        <ul>
<li><a href="../qtdoc/index.html" translate="no">Qt 6.7</a></li>
<li><a href="qtcore-index.html" translate="no">Qt Core</a></li>
<li><a href="qtcore-module.html" translate="no">C++ Classes</a></li>
<li>QFile</li>
<li id="buildversion"><a href="qtcore-index.html" translate="no">Qt 6.7.0 Reference Documentation</a></li>
    </ul>
    </div>
</div>
<div class="content">
<div class="line">
<div class="content mainContent">
<div class="sidebar">
<div class="toc">
<h3 id="toc">Contents</h3>
<ul>
<li class="level1"><a href="#public-functions">Public Functions</a></li>
<li class="level1"><a href="#reimplemented-public-functions">Reimplemented Public Functions</a></li>
<li class="level1"><a href="#static-public-members">Static Public Members</a></li>
<li class="level1"><a href="#details">Detailed Description</a></li>
<li class="level2"><a href="#reading-files-directly">Reading Files Directly</a></li>
<li class="level2"><a href="#using-streams-to-read-files">Using Streams to Read Files</a></li>
<li class="level2"><a href="#signals">Signals</a></li>
<li class="level2"><a href="#platform-specific-issues">Platform Specific Issues</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<h1 class="title" translate="no">QFile Class</h1>
<!-- $$$QFile-brief -->
<p>The QFile class provides an interface for reading from and writing to files. <a href="#details">More...</a></p>
<!-- @@@QFile -->
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> Header:</td><td class="memItemRight bottomAlign">  <span class="preprocessor">#include &lt;QFile&gt;</span></td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> CMake:</td><td class="memItemRight bottomAlign"> find_package(Qt6 REQUIRED COMPONENTS Core) <br/>
target_link_libraries(mytarget PRIVATE Qt6::Core)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> qmake:</td><td class="memItemRight bottomAlign"> QT += core</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> Inherits:</td><td class="memItemRight bottomAlign"> <a href="qfiledevice.html" translate="no">QFileDevice</a></td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> Inherited By:</td><td class="memItemRight bottomAlign"> <p><a href="qtemporaryfile.html" translate="no">QTemporaryFile</a></p>
</td></tr>
</table></div>
<ul>
<li><a href="qfile-members.html">List of all members, including inherited members</a></li>
<li>QFile is part of <a href="io.html">Input/Output and Networking</a>.</li>
</ul>
<p><b>Note:</b> All functions in this class are <a href="../qtdoc/threads-reentrancy.html" translate="no">reentrant</a>.</p>
<h2 id="public-functions">Public Functions</h2>
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qfile.html#QFile" translate="no">QFile</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qfile.html#QFile-1" translate="no">QFile</a></b>(const QString &amp;<i>name</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> <code class="summary extra" translate="no">(since 6.0)</code> </td><td class="memItemRight bottomAlign"><b><a href="qfile.html#QFile-2" translate="no">QFile</a></b>(const std::filesystem::path &amp;<i>name</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qfile.html#QFile-3" translate="no">QFile</a></b>(QObject *<i>parent</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qfile.html#QFile-4" translate="no">QFile</a></b>(const QString &amp;<i>name</i>, QObject *<i>parent</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> <code class="summary extra" translate="no">(since 6.0)</code> </td><td class="memItemRight bottomAlign"><b><a href="qfile.html#QFile-5" translate="no">QFile</a></b>(const std::filesystem::path &amp;<i>name</i>, QObject *<i>parent</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual </td><td class="memItemRight bottomAlign"><b><a href="qfile.html#dtor.QFile" translate="no">~QFile</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qfile.html#copy" translate="no">copy</a></b>(const QString &amp;<i>newName</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> <code class="summary extra" translate="no">(since 6.0)</code> bool </td><td class="memItemRight bottomAlign"><b><a href="qfile.html#copy-2" translate="no">copy</a></b>(const std::filesystem::path &amp;<i>newName</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qfile.html#exists-1" translate="no">exists</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> <code class="summary extra" translate="no">(since 6.0)</code> std::filesystem::path </td><td class="memItemRight bottomAlign"><b><a href="qfile.html#filesystemFileName" translate="no">filesystemFileName</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> <code class="summary extra" translate="no">(since 6.3)</code> std::filesystem::path </td><td class="memItemRight bottomAlign"><b><a href="qfile.html#filesystemSymLinkTarget" translate="no">filesystemSymLinkTarget</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qfile.html#link" translate="no">link</a></b>(const QString &amp;<i>linkName</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> <code class="summary extra" translate="no">(since 6.0)</code> bool </td><td class="memItemRight bottomAlign"><b><a href="qfile.html#link-2" translate="no">link</a></b>(const std::filesystem::path &amp;<i>newName</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qfile.html#moveToTrash" translate="no">moveToTrash</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> <code class="summary extra" translate="no">(since 6.3)</code> bool </td><td class="memItemRight bottomAlign"><b><a href="qfile.html#open-1" translate="no">open</a></b>(QIODeviceBase::OpenMode <i>mode</i>, QFileDevice::Permissions <i>permissions</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qfile.html#open-2" translate="no">open</a></b>(FILE *<i>fh</i>, QIODeviceBase::OpenMode <i>mode</i>, QFileDevice::FileHandleFlags <i>handleFlags</i> = DontCloseHandle)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qfile.html#open-3" translate="no">open</a></b>(int <i>fd</i>, QIODeviceBase::OpenMode <i>mode</i>, QFileDevice::FileHandleFlags <i>handleFlags</i> = DontCloseHandle)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qfile.html#remove" translate="no">remove</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qfile.html#rename" translate="no">rename</a></b>(const QString &amp;<i>newName</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> <code class="summary extra" translate="no">(since 6.0)</code> bool </td><td class="memItemRight bottomAlign"><b><a href="qfile.html#rename-2" translate="no">rename</a></b>(const std::filesystem::path &amp;<i>newName</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qfile.html#setFileName" translate="no">setFileName</a></b>(const QString &amp;<i>name</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> <code class="summary extra" translate="no">(since 6.0)</code> void </td><td class="memItemRight bottomAlign"><b><a href="qfile.html#setFileName-1" translate="no">setFileName</a></b>(const std::filesystem::path &amp;<i>name</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QString </td><td class="memItemRight bottomAlign"><b><a href="qfile.html#symLinkTarget-1" translate="no">symLinkTarget</a></b>() const</td></tr>
</table></div>
<h2 id="reimplemented-public-functions">Reimplemented Public Functions</h2>
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> virtual QString </td><td class="memItemRight bottomAlign"><b><a href="qfile.html#fileName" translate="no">fileName</a></b>() const override</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual bool </td><td class="memItemRight bottomAlign"><b><a href="qfile.html#open" translate="no">open</a></b>(QIODeviceBase::OpenMode <i>mode</i>) override</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual QFileDevice::Permissions </td><td class="memItemRight bottomAlign"><b><a href="qfile.html#permissions" translate="no">permissions</a></b>() const override</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual bool </td><td class="memItemRight bottomAlign"><b><a href="qfile.html#resize" translate="no">resize</a></b>(qint64 <i>sz</i>) override</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual bool </td><td class="memItemRight bottomAlign"><b><a href="qfile.html#setPermissions" translate="no">setPermissions</a></b>(QFileDevice::Permissions <i>permissions</i>) override</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual qint64 </td><td class="memItemRight bottomAlign"><b><a href="qfile.html#size" translate="no">size</a></b>() const override</td></tr>
</table></div>
<h2 id="static-public-members">Static Public Members</h2>
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qfile.html#copy-1" translate="no">copy</a></b>(const QString &amp;<i>fileName</i>, const QString &amp;<i>newName</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QString </td><td class="memItemRight bottomAlign"><b><a href="qfile.html#decodeName" translate="no">decodeName</a></b>(const QByteArray &amp;<i>localFileName</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QString </td><td class="memItemRight bottomAlign"><b><a href="qfile.html#decodeName-1" translate="no">decodeName</a></b>(const char *<i>localFileName</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QByteArray </td><td class="memItemRight bottomAlign"><b><a href="qfile.html#encodeName" translate="no">encodeName</a></b>(const QString &amp;<i>fileName</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qfile.html#exists" translate="no">exists</a></b>(const QString &amp;<i>fileName</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> <code class="summary extra" translate="no">(since 6.3)</code> std::filesystem::path </td><td class="memItemRight bottomAlign"><b><a href="qfile.html#filesystemSymLinkTarget-1" translate="no">filesystemSymLinkTarget</a></b>(const std::filesystem::path &amp;<i>fileName</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qfile.html#link-1" translate="no">link</a></b>(const QString &amp;<i>fileName</i>, const QString &amp;<i>linkName</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qfile.html#moveToTrash-1" translate="no">moveToTrash</a></b>(const QString &amp;<i>fileName</i>, QString *<i>pathInTrash</i> = nullptr)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QFileDevice::Permissions </td><td class="memItemRight bottomAlign"><b><a href="qfile.html#permissions-1" translate="no">permissions</a></b>(const QString &amp;<i>fileName</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> <code class="summary extra" translate="no">(since 6.0)</code> QFileDevice::Permissions </td><td class="memItemRight bottomAlign"><b><a href="qfile.html#permissions-2" translate="no">permissions</a></b>(const std::filesystem::path &amp;<i>filename</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qfile.html#remove-1" translate="no">remove</a></b>(const QString &amp;<i>fileName</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qfile.html#rename-1" translate="no">rename</a></b>(const QString &amp;<i>oldName</i>, const QString &amp;<i>newName</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qfile.html#resize-1" translate="no">resize</a></b>(const QString &amp;<i>fileName</i>, qint64 <i>sz</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qfile.html#setPermissions-1" translate="no">setPermissions</a></b>(const QString &amp;<i>fileName</i>, QFileDevice::Permissions <i>permissions</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> <code class="summary extra" translate="no">(since 6.0)</code> bool </td><td class="memItemRight bottomAlign"><b><a href="qfile.html#setPermissions-2" translate="no">setPermissions</a></b>(const std::filesystem::path &amp;<i>filename</i>, QFileDevice::Permissions <i>permissionSpec</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QString </td><td class="memItemRight bottomAlign"><b><a href="qfile.html#symLinkTarget" translate="no">symLinkTarget</a></b>(const QString &amp;<i>fileName</i>)</td></tr>
</table></div>
<!-- $$$QFile-description -->
<div class="descr">
<h2 id="details">Detailed Description</h2>
<p>QFile is an I/O device for reading and writing text and binary files and <a href="resources.html" translate="no">resources</a>. A QFile may be used by itself or, more conveniently, with a <a href="qtextstream.html" translate="no">QTextStream</a> or <a href="qdatastream.html" translate="no">QDataStream</a>.</p>
<p>The file name is usually passed in the constructor, but it can be set at any time using <a href="qfile.html#setFileName" translate="no">setFileName</a>(). QFile expects the file separator to be '/' regardless of operating system. The use of other separators (e.g., '\') is not supported.</p>
<p>You can check for a file's existence using <a href="qfile.html#exists-1" translate="no">exists</a>(), and remove a file using <a href="qfile.html#remove" translate="no">remove</a>(). (More advanced file system related operations are provided by <a href="qfileinfo.html" translate="no">QFileInfo</a> and <a href="qdir.html" translate="no">QDir</a>.)</p>
<p>The file is opened with <a href="qfile.html#open" translate="no">open</a>(), closed with <a href="qfiledevice.html#close" translate="no">close</a>(), and flushed with <a href="qfiledevice.html#flush" translate="no">flush</a>(). Data is usually read and written using <a href="qdatastream.html" translate="no">QDataStream</a> or <a href="qtextstream.html" translate="no">QTextStream</a>, but you can also call the <a href="qiodevice.html" translate="no">QIODevice</a>-inherited functions <a href="qiodevice.html#read" translate="no">read</a>(), <a href="qiodevice.html#readLine" translate="no">readLine</a>(), <a href="qiodevice.html#readAll" translate="no">readAll</a>(), <a href="qiodevice.html#write" translate="no">write</a>(). QFile also inherits <a href="qiodevice.html#getChar" translate="no">getChar</a>(), <a href="qiodevice.html#putChar" translate="no">putChar</a>(), and <a href="qiodevice.html#ungetChar" translate="no">ungetChar</a>(), which work one character at a time.</p>
<p>The size of the file is returned by <a href="qfile.html#size" translate="no">size</a>(). You can get the current file position using <a href="qfiledevice.html#pos" translate="no">pos</a>(), or move to a new file position using <a href="qfiledevice.html#seek" translate="no">seek</a>(). If you've reached the end of the file, <a href="qfiledevice.html#atEnd" translate="no">atEnd</a>() returns <code translate="no">true</code>.</p>
<h3 id="reading-files-directly">Reading Files Directly</h3>
<p>The following example reads a text file line by line:</p>
<pre class="cpp" translate="no">
     <span class="type"><a href="qfile.html#QFile" translate="no">QFile</a></span> file(<span class="string">&quot;in.txt&quot;</span>);
     <span class="keyword">if</span> (<span class="operator">!</span>file<span class="operator">.</span>open(<span class="type"><a href="qiodevice.html#QIODevice" translate="no">QIODevice</a></span><span class="operator">::</span>ReadOnly <span class="operator">|</span> <span class="type"><a href="qiodevice.html#QIODevice" translate="no">QIODevice</a></span><span class="operator">::</span>Text))
         <span class="keyword">return</span>;

     <span class="keyword">while</span> (<span class="operator">!</span>file<span class="operator">.</span>atEnd()) {
         <span class="type"><a href="qbytearray.html" translate="no">QByteArray</a></span> line <span class="operator">=</span> file<span class="operator">.</span>readLine();
         process_line(line);
     }
</pre>
<p>The QIODevice::Text flag passed to <a href="qfile.html#open" translate="no">open</a>() tells Qt to convert Windows-style line terminators (&quot;\r\n&quot;) into C++-style terminators (&quot;\n&quot;). By default, QFile assumes binary, i.e. it doesn't perform any conversion on the bytes stored in the file.</p>
<h3 id="using-streams-to-read-files">Using Streams to Read Files</h3>
<p>The next example uses <a href="qtextstream.html" translate="no">QTextStream</a> to read a text file line by line:</p>
<pre class="cpp" translate="no">
     <span class="type"><a href="qfile.html#QFile" translate="no">QFile</a></span> file(<span class="string">&quot;in.txt&quot;</span>);
     <span class="keyword">if</span> (<span class="operator">!</span>file<span class="operator">.</span>open(<span class="type"><a href="qiodevice.html#QIODevice" translate="no">QIODevice</a></span><span class="operator">::</span>ReadOnly <span class="operator">|</span> <span class="type"><a href="qiodevice.html#QIODevice" translate="no">QIODevice</a></span><span class="operator">::</span>Text))
         <span class="keyword">return</span>;

     <span class="type"><a href="qtextstream.html" translate="no">QTextStream</a></span> in(<span class="operator">&amp;</span>file);
     <span class="keyword">while</span> (<span class="operator">!</span>in<span class="operator">.</span>atEnd()) {
         <span class="type"><a href="qstring.html" translate="no">QString</a></span> line <span class="operator">=</span> in<span class="operator">.</span>readLine();
         process_line(line);
     }
</pre>
<p><a href="qtextstream.html" translate="no">QTextStream</a> takes care of converting the 8-bit data stored on disk into a 16-bit Unicode <a href="qstring.html" translate="no">QString</a>. By default, it assumes that the file is encoded in UTF-8. This can be changed using <a href="qtextstream.html#setEncoding" translate="no">QTextStream::setEncoding</a>().</p>
<p>To write text, we can use operator&lt;&lt;(), which is overloaded to take a <a href="qtextstream.html" translate="no">QTextStream</a> on the left and various data types (including <a href="qstring.html" translate="no">QString</a>) on the right:</p>
<pre class="cpp" translate="no">
     <span class="type"><a href="qfile.html#QFile" translate="no">QFile</a></span> file(<span class="string">&quot;out.txt&quot;</span>);
     <span class="keyword">if</span> (<span class="operator">!</span>file<span class="operator">.</span>open(<span class="type"><a href="qiodevice.html#QIODevice" translate="no">QIODevice</a></span><span class="operator">::</span>WriteOnly <span class="operator">|</span> <span class="type"><a href="qiodevice.html#QIODevice" translate="no">QIODevice</a></span><span class="operator">::</span>Text))
         <span class="keyword">return</span>;

     <span class="type"><a href="qtextstream.html" translate="no">QTextStream</a></span> out(<span class="operator">&amp;</span>file);
     out <span class="operator">&lt;</span><span class="operator">&lt;</span> <span class="string">&quot;The magic number is: &quot;</span> <span class="operator">&lt;</span><span class="operator">&lt;</span> <span class="number">49</span> <span class="operator">&lt;</span><span class="operator">&lt;</span> <span class="string">&quot;\n&quot;</span>;
</pre>
<p><a href="qdatastream.html" translate="no">QDataStream</a> is similar, in that you can use operator&lt;&lt;() to write data and operator&gt;&gt;() to read it back. See the class documentation for details.</p>
<h3 id="signals">Signals</h3>
<p>Unlike other <a href="qiodevice.html" translate="no">QIODevice</a> implementations, such as <a href="../qtnetwork/qtcpsocket.html" translate="no">QTcpSocket</a>, QFile does not emit the <a href="qiodevice.html#aboutToClose" translate="no">aboutToClose</a>(), <a href="qiodevice.html#bytesWritten" translate="no">bytesWritten</a>(), or <a href="qiodevice.html#readyRead" translate="no">readyRead</a>() signals. This implementation detail means that QFile is not suitable for reading and writing certain types of files, such as device files on Unix platforms.</p>
<h3 id="platform-specific-issues">Platform Specific Issues</h3>
<p><a href="io.html" translate="no">Qt APIs related to I/O</a> use UTF-16 based QStrings to represent file paths. Standard C++ APIs (<code translate="no">&lt;cstdio&gt;</code> or <code translate="no">&lt;iostream&gt;</code>) or platform-specific APIs however often need a 8-bit encoded path. You can use <a href="qfile.html#encodeName" translate="no">encodeName</a>() and <a href="qfile.html#decodeName" translate="no">decodeName</a>() to convert between both representations.</p>
<p>On Unix, there are some special system files (e.g. in <code translate="no">/proc</code>) for which <a href="qfile.html#size" translate="no">size</a>() will always return 0, yet you may still be able to read more data from such a file; the data is generated in direct response to you calling <a href="qiodevice.html#read" translate="no">read</a>(). In this case, however, you cannot use <a href="qfiledevice.html#atEnd" translate="no">atEnd</a>() to determine if there is more data to read (since <a href="qfiledevice.html#atEnd" translate="no">atEnd</a>() will return true for a file that claims to have size 0). Instead, you should either call <a href="qiodevice.html#readAll" translate="no">readAll</a>(), or call <a href="qiodevice.html#read" translate="no">read</a>() or <a href="qiodevice.html#readLine" translate="no">readLine</a>() repeatedly until no more data can be read. The next example uses <a href="qtextstream.html" translate="no">QTextStream</a> to read <code translate="no">/proc/modules</code> line by line:</p>
<pre class="cpp" translate="no">
     <span class="type"><a href="qfile.html#QFile" translate="no">QFile</a></span> file(<span class="string">&quot;/proc/modules&quot;</span>);
     <span class="keyword">if</span> (<span class="operator">!</span>file<span class="operator">.</span>open(<span class="type"><a href="qiodevice.html#QIODevice" translate="no">QIODevice</a></span><span class="operator">::</span>ReadOnly <span class="operator">|</span> <span class="type"><a href="qiodevice.html#QIODevice" translate="no">QIODevice</a></span><span class="operator">::</span>Text))
         <span class="keyword">return</span>;

     <span class="type"><a href="qtextstream.html" translate="no">QTextStream</a></span> in(<span class="operator">&amp;</span>file);
     <span class="type"><a href="qstring.html" translate="no">QString</a></span> line <span class="operator">=</span> in<span class="operator">.</span>readLine();
     <span class="keyword">while</span> (<span class="operator">!</span>line<span class="operator">.</span>isNull()) {
         process_line(line);
         line <span class="operator">=</span> in<span class="operator">.</span>readLine();
     }
</pre>
<p>File permissions are handled differently on Unix-like systems and Windows. In a non <a href="qiodevice.html#isWritable" translate="no">writable</a> directory on Unix-like systems, files cannot be created. This is not always the case on Windows, where, for instance, the 'My Documents' directory usually is not writable, but it is still possible to create files in it.</p>
<p>Qt's understanding of file permissions is limited, which affects especially the <a href="qfile.html#setPermissions" translate="no">QFile::setPermissions</a>() function. On Windows, Qt will set only the legacy read-only flag, and that only when none of the Write* flags are passed. Qt does not manipulate access control lists (ACLs), which makes this function mostly useless for NTFS volumes. It may still be of use for USB sticks that use VFAT file systems. POSIX ACLs are not manipulated, either.</p>
<p>On Android, some limitations apply when dealing with <a href="https://developer.android.com/guide/topics/providers/content-provider-basics#ContentURIs" translate="no">content URIs</a>:</p>
<ul>
<li>Access permissions might be needed by prompting the user through the <a href="../qtwidgets/qfiledialog.html" translate="no">QFileDialog</a> which implements <a href="https://developer.android.com/training/data-storage/shared/documents-files" translate="no">Android's native file picker</a>.</li>
<li>Aim to follow the <a href="https://developer.android.com/training/data-storage#scoped-storage" translate="no">Scoped storage</a> guidelines, such as using app specific directories instead of other public external directories. For more information, also see <a href="https://developer.android.com/training/data-storage/use-cases" translate="no">storage best practices</a>.</li>
<li>Due to the design of Qt APIs (e.g. QFile), it's not possible to fully integrate the latter APIs with Android's <a href="https://developer.android.com/reference/android/provider/MediaStore" translate="no">MediaStore</a> APIs.</li>
</ul>
</div>
<p><b>See also </b><a href="qtextstream.html" translate="no">QTextStream</a>, <a href="qdatastream.html" translate="no">QDataStream</a>, <a href="qfileinfo.html" translate="no">QFileInfo</a>, <a href="qdir.html" translate="no">QDir</a>, and <a href="resources.html" translate="no">The Qt Resource System</a>.</p>
<!-- @@@QFile -->
<div class="func">
<h2>Member Function Documentation</h2>
<!-- $$$QFile[overload1]$$$QFile -->
<h3 class="fn" translate="no" id="QFile">QFile::<span class="name">QFile</span>()</h3>
<p>Constructs a QFile object.</p>
<!-- @@@QFile -->
<!-- $$$QFile$$$QFileconstQString& -->
<h3 class="fn" translate="no" id="QFile-1">QFile::<span class="name">QFile</span>(const <span class="type"><a href="qstring.html" translate="no">QString</a></span> &amp;<i>name</i>)</h3>
<p>Constructs a new file object to represent the file with the given <i translate="no">name</i>.</p>
<div class="admonition note">
<p><b>Note: </b>In versions up to and including Qt 6.8, this constructor is implicit, for backward compatibility. Starting from Qt 6.9 this constructor is unconditionally <code translate="no">explicit</code>. Users can force this constructor to be <code translate="no">explicit</code> even in earlier versions of Qt by defining the <code translate="no">QT_EXPLICIT_QFILE_CONSTRUCTION_FROM_PATH</code> macro before including any Qt header.</p>
</div>
<!-- @@@QFile -->
<!-- $$$QFile$$$QFileconststd::filesystem::path& -->
<h3 class="fn" translate="no" id="QFile-2"><code class="details extra" translate="no">[since 6.0]</code> QFile::<span class="name">QFile</span>(const <span class="type">std::filesystem::path</span> &amp;<i>name</i>)</h3>
<p>Constructs a new file object to represent the file with the given <i translate="no">name</i>.</p>
<div class="admonition note">
<p><b>Note: </b>In versions up to and including Qt 6.8, this constructor is implicit, for backward compatibility. Starting from Qt 6.9 this constructor is unconditionally <code translate="no">explicit</code>. Users can force this constructor to be <code translate="no">explicit</code> even in earlier versions of Qt by defining the <code translate="no">QT_EXPLICIT_QFILE_CONSTRUCTION_FROM_PATH</code> macro before including any Qt header.</p>
</div>
<p>This function was introduced in Qt 6.0.</p>
<!-- @@@QFile -->
<!-- $$$QFile$$$QFileQObject* -->
<h3 class="fn" translate="no" id="QFile-3"><code class="details extra" translate="no">[explicit]</code> QFile::<span class="name">QFile</span>(<span class="type"><a href="qobject.html#QObject" translate="no">QObject</a></span> *<i>parent</i>)</h3>
<p>Constructs a new file object with the given <i translate="no">parent</i>.</p>
<!-- @@@QFile -->
<!-- $$$QFile$$$QFileconstQString&QObject* -->
<h3 class="fn" translate="no" id="QFile-4">QFile::<span class="name">QFile</span>(const <span class="type"><a href="qstring.html" translate="no">QString</a></span> &amp;<i>name</i>, <span class="type"><a href="qobject.html#QObject" translate="no">QObject</a></span> *<i>parent</i>)</h3>
<p>Constructs a new file object with the given <i translate="no">parent</i> to represent the file with the specified <i translate="no">name</i>.</p>
<!-- @@@QFile -->
<!-- $$$QFile$$$QFileconststd::filesystem::path&QObject* -->
<h3 class="fn" translate="no" id="QFile-5"><code class="details extra" translate="no">[since 6.0]</code> QFile::<span class="name">QFile</span>(const <span class="type">std::filesystem::path</span> &amp;<i>name</i>, <span class="type"><a href="qobject.html#QObject" translate="no">QObject</a></span> *<i>parent</i>)</h3>
<p>Constructs a new file object with the given <i translate="no">parent</i> to represent the file with the specified <i translate="no">name</i>.</p>
<p>This function was introduced in Qt 6.0.</p>
<!-- @@@QFile -->
<!-- $$$~QFile[overload1]$$$~QFile -->
<h3 class="fn" translate="no" id="dtor.QFile"><code class="details extra" translate="no">[virtual noexcept]</code> QFile::<span class="name">~QFile</span>()</h3>
<p>Destroys the file object, closing it if necessary.</p>
<!-- @@@~QFile -->
<!-- $$$copy[overload1]$$$copyconstQString& -->
<h3 class="fn" translate="no" id="copy"><span class="type">bool</span> QFile::<span class="name">copy</span>(const <span class="type"><a href="qstring.html" translate="no">QString</a></span> &amp;<i>newName</i>)</h3>
<p>Copies the file named <a href="qfile.html#fileName" translate="no">fileName</a>() to <i translate="no">newName</i>.</p>
<p>This file is closed before it is copied.</p>
<p>If the copied file is a symbolic link (symlink), the file it refers to is copied, not the link itself. With the exception of permissions, which are copied, no other file metadata is copied.</p>
<p>Returns <code translate="no">true</code> if successful; otherwise returns <code translate="no">false</code>.</p>
<p>Note that if a file with the name <i translate="no">newName</i> already exists, copy() returns <code translate="no">false</code>. This means <a href="qfile.html" translate="no">QFile</a> will not overwrite it.</p>
<div class="admonition note">
<p><b>Note: </b>On Android, this operation is not yet supported for <code translate="no">content</code> scheme URIs.</p>
</div>
<p><b>See also </b><a href="qfile.html#setFileName" translate="no">setFileName</a>().</p>
<!-- @@@copy -->
<!-- $$$copy$$$copyconstQString&constQString& -->
<h3 class="fn" translate="no" id="copy-1"><code class="details extra" translate="no">[static]</code> <span class="type">bool</span> QFile::<span class="name">copy</span>(const <span class="type"><a href="qstring.html" translate="no">QString</a></span> &amp;<i>fileName</i>, const <span class="type"><a href="qstring.html" translate="no">QString</a></span> &amp;<i>newName</i>)</h3>
<p>This is an overloaded function.</p>
<p>Copies the file named <i translate="no">fileName</i> to <i translate="no">newName</i>.</p>
<p>This file is closed before it is copied.</p>
<p>If the copied file is a symbolic link (symlink), the file it refers to is copied, not the link itself. With the exception of permissions, which are copied, no other file metadata is copied.</p>
<p>Returns <code translate="no">true</code> if successful; otherwise returns <code translate="no">false</code>.</p>
<p>Note that if a file with the name <i translate="no">newName</i> already exists, copy() returns <code translate="no">false</code>. This means <a href="qfile.html" translate="no">QFile</a> will not overwrite it.</p>
<div class="admonition note">
<p><b>Note: </b>On Android, this operation is not yet supported for <code translate="no">content</code> scheme URIs.</p>
</div>
<p><b>See also </b><a href="qfile.html#rename" translate="no">rename</a>().</p>
<!-- @@@copy -->
<!-- $$$copy$$$copyconststd::filesystem::path& -->
<h3 class="fn" translate="no" id="copy-2"><code class="details extra" translate="no">[since 6.0]</code> <span class="type">bool</span> QFile::<span class="name">copy</span>(const <span class="type">std::filesystem::path</span> &amp;<i>newName</i>)</h3>
<p>This is an overloaded function.</p>
<p>This function was introduced in Qt 6.0.</p>
<!-- @@@copy -->
<!-- $$$decodeName[overload1]$$$decodeNameconstQByteArray& -->
<h3 class="fn" translate="no" id="decodeName"><code class="details extra" translate="no">[static]</code> <span class="type"><a href="qstring.html" translate="no">QString</a></span> QFile::<span class="name">decodeName</span>(const <span class="type"><a href="qbytearray.html" translate="no">QByteArray</a></span> &amp;<i>localFileName</i>)</h3>
<p>This does the reverse of <a href="qfile.html#encodeName" translate="no">QFile::encodeName</a>() using <i translate="no">localFileName</i>.</p>
<p><b>See also </b><a href="qfile.html#encodeName" translate="no">encodeName</a>().</p>
<!-- @@@decodeName -->
<!-- $$$decodeName$$$decodeNameconstchar* -->
<h3 class="fn" translate="no" id="decodeName-1"><code class="details extra" translate="no">[static]</code> <span class="type"><a href="qstring.html" translate="no">QString</a></span> QFile::<span class="name">decodeName</span>(const <span class="type">char</span> *<i>localFileName</i>)</h3>
<p>This is an overloaded function.</p>
<p>Returns the Unicode version of the given <i translate="no">localFileName</i>. See <a href="qfile.html#encodeName" translate="no">encodeName</a>() for details.</p>
<!-- @@@decodeName -->
<!-- $$$encodeName[overload1]$$$encodeNameconstQString& -->
<h3 class="fn" translate="no" id="encodeName"><code class="details extra" translate="no">[static]</code> <span class="type"><a href="qbytearray.html" translate="no">QByteArray</a></span> QFile::<span class="name">encodeName</span>(const <span class="type"><a href="qstring.html" translate="no">QString</a></span> &amp;<i>fileName</i>)</h3>
<p>Converts <i translate="no">fileName</i> to an 8-bit encoding that you can use in native APIs. On Windows, the encoding is the one from active Windows (ANSI) codepage. On other platforms, this is UTF-8, for macOS in decomposed form (NFD).</p>
<p><b>See also </b><a href="qfile.html#decodeName" translate="no">decodeName</a>().</p>
<!-- @@@encodeName -->
<!-- $$$exists[overload1]$$$existsconstQString& -->
<h3 class="fn" translate="no" id="exists"><code class="details extra" translate="no">[static]</code> <span class="type">bool</span> QFile::<span class="name">exists</span>(const <span class="type"><a href="qstring.html" translate="no">QString</a></span> &amp;<i>fileName</i>)</h3>
<p>Returns <code translate="no">true</code> if the file specified by <i translate="no">fileName</i> exists; otherwise returns <code translate="no">false</code>.</p>
<div class="admonition note">
<p><b>Note: </b>If <i translate="no">fileName</i> is a symlink that points to a non-existing file, false is returned.</p>
</div>
<!-- @@@exists -->
<!-- $$$exists$$$exists -->
<h3 class="fn" translate="no" id="exists-1"><span class="type">bool</span> QFile::<span class="name">exists</span>() const</h3>
<p>This is an overloaded function.</p>
<p>Returns <code translate="no">true</code> if the file specified by <a href="qfile.html#fileName" translate="no">fileName</a>() exists; otherwise returns <code translate="no">false</code>.</p>
<p><b>See also </b><a href="qfile.html#fileName" translate="no">fileName</a>() and <a href="qfile.html#setFileName" translate="no">setFileName</a>().</p>
<!-- @@@exists -->
<!-- $$$fileName[overload1]$$$fileName -->
<h3 class="fn" translate="no" id="fileName"><code class="details extra" translate="no">[override virtual]</code> <span class="type"><a href="qstring.html" translate="no">QString</a></span> QFile::<span class="name">fileName</span>() const</h3>
<p>Reimplements: <a href="qfiledevice.html#fileName" translate="no">QFileDevice::fileName() const</a>.</p>
<p>Returns the name set by <a href="qfile.html#setFileName" translate="no">setFileName</a>() or to the <a href="qfile.html" translate="no">QFile</a> constructors.</p>
<p><b>See also </b><a href="qfile.html#setFileName" translate="no">setFileName</a>() and <a href="qfileinfo.html#fileName" translate="no">QFileInfo::fileName</a>().</p>
<!-- @@@fileName -->
<!-- $$$filesystemFileName[overload1]$$$filesystemFileName -->
<h3 class="fn" translate="no" id="filesystemFileName"><code class="details extra" translate="no">[since 6.0]</code> <span class="type">std::filesystem::path</span> QFile::<span class="name">filesystemFileName</span>() const</h3>
<p>Returns <a href="qfile.html#fileName" translate="no">fileName</a>() as <code translate="no">std::filesystem::path</code>.</p>
<p>This function was introduced in Qt 6.0.</p>
<!-- @@@filesystemFileName -->
<!-- $$$filesystemSymLinkTarget[overload1]$$$filesystemSymLinkTarget -->
<h3 class="fn" translate="no" id="filesystemSymLinkTarget"><code class="details extra" translate="no">[since 6.3]</code> <span class="type">std::filesystem::path</span> QFile::<span class="name">filesystemSymLinkTarget</span>() const</h3>
<p>Returns <a href="qfile.html#symLinkTarget-1" translate="no">symLinkTarget</a>() as <code translate="no">std::filesystem::path</code>.</p>
<p>This function was introduced in Qt 6.3.</p>
<!-- @@@filesystemSymLinkTarget -->
<!-- $$$filesystemSymLinkTarget$$$filesystemSymLinkTargetconststd::filesystem::path& -->
<h3 class="fn" translate="no" id="filesystemSymLinkTarget-1"><code class="details extra" translate="no">[static, since 6.3]</code> <span class="type">std::filesystem::path</span> QFile::<span class="name">filesystemSymLinkTarget</span>(const <span class="type">std::filesystem::path</span> &amp;<i>fileName</i>)</h3>
<p>Returns <a href="qfile.html#symLinkTarget-1" translate="no">symLinkTarget</a>() as <code translate="no">std::filesystem::path</code> of <i translate="no">fileName</i>.</p>
<p>This function was introduced in Qt 6.3.</p>
<!-- @@@filesystemSymLinkTarget -->
<!-- $$$link[overload1]$$$linkconstQString& -->
<h3 class="fn" translate="no" id="link"><span class="type">bool</span> QFile::<span class="name">link</span>(const <span class="type"><a href="qstring.html" translate="no">QString</a></span> &amp;<i>linkName</i>)</h3>
<p>Creates a link named <i translate="no">linkName</i> that points to the file currently specified by <a href="qfile.html#fileName" translate="no">fileName</a>(). What a link is depends on the underlying filesystem (be it a shortcut on Windows or a symbolic link on Unix). Returns <code translate="no">true</code> if successful; otherwise returns <code translate="no">false</code>.</p>
<p>This function will not overwrite an already existing entity in the file system; in this case, <code translate="no">link()</code> will return false and set <a href="qfiledevice.html#error" translate="no">error</a>() to return <a href="qfiledevice.html#FileError-enum" translate="no">RenameError</a>.</p>
<div class="admonition note">
<p><b>Note: </b>To create a valid link on Windows, <i translate="no">linkName</i> must have a <code translate="no">.lnk</code> file extension.</p>
</div>
<p><b>See also </b><a href="qfile.html#setFileName" translate="no">setFileName</a>().</p>
<!-- @@@link -->
<!-- $$$link$$$linkconstQString&constQString& -->
<h3 class="fn" translate="no" id="link-1"><code class="details extra" translate="no">[static]</code> <span class="type">bool</span> QFile::<span class="name">link</span>(const <span class="type"><a href="qstring.html" translate="no">QString</a></span> &amp;<i>fileName</i>, const <span class="type"><a href="qstring.html" translate="no">QString</a></span> &amp;<i>linkName</i>)</h3>
<p>This is an overloaded function.</p>
<p>Creates a link named <i translate="no">linkName</i> that points to the file <i translate="no">fileName</i>. What a link is depends on the underlying filesystem (be it a shortcut on Windows or a symbolic link on Unix). Returns <code translate="no">true</code> if successful; otherwise returns <code translate="no">false</code>.</p>
<p><b>See also </b><a href="qfile.html#link" translate="no">link</a>().</p>
<!-- @@@link -->
<!-- $$$link$$$linkconststd::filesystem::path& -->
<h3 class="fn" translate="no" id="link-2"><code class="details extra" translate="no">[since 6.0]</code> <span class="type">bool</span> QFile::<span class="name">link</span>(const <span class="type">std::filesystem::path</span> &amp;<i>newName</i>)</h3>
<p>This is an overloaded function.</p>
<p>This function was introduced in Qt 6.0.</p>
<!-- @@@link -->
<!-- $$$moveToTrash[overload1]$$$moveToTrash -->
<h3 class="fn" translate="no" id="moveToTrash"><span class="type">bool</span> QFile::<span class="name">moveToTrash</span>()</h3>
<p>Moves the file specified by <a href="qfile.html#fileName" translate="no">fileName</a>() to the trash. Returns <code translate="no">true</code> if successful, and sets the <a href="qfile.html#fileName" translate="no">fileName</a>() to the path at which the file can be found within the trash; otherwise returns <code translate="no">false</code>.</p>
<p>The time for this function to run is independent of the size of the file being trashed. If this function is called on a directory, it may be proportional to the number of files being trashed.</p>
<p>This function uses the Windows and macOS APIs to perform the trashing on those two operating systems. Elsewhere (Unix systems), this function implements the <a href="https://specifications.freedesktop.org/trash-spec/trashspec-1.0.html" translate="no">FreeDesktop.org Trash specification version 1.0</a>.</p>
<div class="admonition note">
<p><b>Note: </b>When using the FreeDesktop.org Trash implementation, this function will fail if it is unable to move the files to the trash location by way of file renames and hardlinks. This condition arises if the file being trashed resides on a volume (mount point) on which the current user does not have permission to create the <code translate="no">.Trash</code> directory, or with some unusual filesystem types or configurations (such as sub-volumes that aren't themselves mount points).</p>
</div>
<div class="admonition note">
<p><b>Note: </b>On systems where the system API doesn't report the location of the file in the trash, <a href="qfile.html#fileName" translate="no">fileName</a>() will be set to the null string once the file has been moved. On systems that don't have a trash can, this function always returns false.</p>
</div>
<!-- @@@moveToTrash -->
<!-- $$$moveToTrash$$$moveToTrashconstQString&QString* -->
<h3 class="fn" translate="no" id="moveToTrash-1"><code class="details extra" translate="no">[static]</code> <span class="type">bool</span> QFile::<span class="name">moveToTrash</span>(const <span class="type"><a href="qstring.html" translate="no">QString</a></span> &amp;<i>fileName</i>, <span class="type"><a href="qstring.html" translate="no">QString</a></span> *<i>pathInTrash</i> = nullptr)</h3>
<p>This is an overloaded function.</p>
<p>Moves the file specified by <a href="qfile.html#fileName" translate="no">fileName</a>() to the trash. Returns <code translate="no">true</code> if successful, and sets <i translate="no">pathInTrash</i> (if provided) to the path at which the file can be found within the trash; otherwise returns <code translate="no">false</code>.</p>
<p>The time for this function to run is independent of the size of the file being trashed. If this function is called on a directory, it may be proportional to the number of files being trashed.</p>
<p>This function uses the Windows and macOS APIs to perform the trashing on those two operating systems. Elsewhere (Unix systems), this function implements the <a href="https://specifications.freedesktop.org/trash-spec/trashspec-1.0.html" translate="no">FreeDesktop.org Trash specification version 1.0</a>.</p>
<div class="admonition note">
<p><b>Note: </b>When using the FreeDesktop.org Trash implementation, this function will fail if it is unable to move the files to the trash location by way of file renames and hardlinks. This condition arises if the file being trashed resides on a volume (mount point) on which the current user does not have permission to create the <code translate="no">.Trash</code> directory, or with some unusual filesystem types or configurations (such as sub-volumes that aren't themselves mount points).</p>
</div>
<div class="admonition note">
<p><b>Note: </b>On systems where the system API doesn't report the path of the file in the trash, <i translate="no">pathInTrash</i> will be set to the null string once the file has been moved. On systems that don't have a trash can, this function always returns false.</p>
</div>
<!-- @@@moveToTrash -->
<!-- $$$open[overload1]$$$openQIODeviceBase::OpenMode -->
<h3 class="fn" translate="no" id="open"><code class="details extra" translate="no">[override virtual]</code> <span class="type">bool</span> QFile::<span class="name">open</span>(<span class="type"><a href="qiodevicebase.html#OpenModeFlag-enum" translate="no">QIODeviceBase::OpenMode</a></span> <i>mode</i>)</h3>
<p>Reimplements: <a href="qiodevice.html#open" translate="no">QIODevice::open</a>(QIODeviceBase::OpenMode mode).</p>
<p>Opens the file using OpenMode <i translate="no">mode</i>, returning true if successful; otherwise false.</p>
<p>The <i translate="no">mode</i> must be QIODevice::ReadOnly, QIODevice::WriteOnly, or QIODevice::ReadWrite. It may also have additional flags, such as QIODevice::Text and QIODevice::Unbuffered.</p>
<div class="admonition note">
<p><b>Note: </b>In <a href="qiodevicebase.html#OpenModeFlag-enum" translate="no">WriteOnly</a> or <a href="qiodevicebase.html#OpenModeFlag-enum" translate="no">ReadWrite</a> mode, if the relevant file does not already exist, this function will try to create a new file before opening it. The file will be created with mode 0666 masked by the umask on POSIX systems, and with permissions inherited from the parent directory on Windows. On Android, it's expected to have access permission to the parent of the file name, otherwise, it won't be possible to create this non-existing file.</p>
</div>
<p><b>See also </b><a href="qiodevicebase.html#OpenModeFlag-enum" translate="no">QIODevice::OpenMode</a> and <a href="qfile.html#setFileName" translate="no">setFileName</a>().</p>
<!-- @@@open -->
<!-- $$$open$$$openQIODeviceBase::OpenModeQFileDevice::Permissions -->
<h3 class="fn" translate="no" id="open-1"><code class="details extra" translate="no">[since 6.3]</code> <span class="type">bool</span> QFile::<span class="name">open</span>(<span class="type"><a href="qiodevicebase.html#OpenModeFlag-enum" translate="no">QIODeviceBase::OpenMode</a></span> <i>mode</i>, <span class="type"><a href="qfiledevice.html#Permission-enum" translate="no">QFileDevice::Permissions</a></span> <i>permissions</i>)</h3>
<p>This is an overloaded function.</p>
<p>If the file does not exist and <i translate="no">mode</i> implies creating it, it is created with the specified <i translate="no">permissions</i>.</p>
<p>On POSIX systems the actual permissions are influenced by the value of <code translate="no">umask</code>.</p>
<p>On Windows the permissions are emulated using ACLs. These ACLs may be in non-canonical order when the group is granted less permissions than others. Files and directories with such permissions will generate warnings when the Security tab of the Properties dialog is opened. Granting the group all permissions granted to others avoids such warnings.</p>
<p>This function was introduced in Qt 6.3.</p>
<p><b>See also </b><a href="qiodevicebase.html#OpenModeFlag-enum" translate="no">QIODevice::OpenMode</a> and <a href="qfile.html#setFileName" translate="no">setFileName</a>().</p>
<!-- @@@open -->
<!-- $$$open$$$openFILE*QIODeviceBase::OpenModeQFileDevice::FileHandleFlags -->
<h3 class="fn" translate="no" id="open-2"><span class="type">bool</span> QFile::<span class="name">open</span>(<span class="type">FILE</span> *<i>fh</i>, <span class="type"><a href="qiodevicebase.html#OpenModeFlag-enum" translate="no">QIODeviceBase::OpenMode</a></span> <i>mode</i>, <span class="type"><a href="qfiledevice.html#FileHandleFlag-enum" translate="no">QFileDevice::FileHandleFlags</a></span> <i>handleFlags</i> = DontCloseHandle)</h3>
<p>This is an overloaded function.</p>
<p>Opens the existing file handle <i translate="no">fh</i> in the given <i translate="no">mode</i>. <i translate="no">handleFlags</i> may be used to specify additional options. Returns <code translate="no">true</code> if successful; otherwise returns <code translate="no">false</code>.</p>
<p>Example:</p>
<pre class="cpp" translate="no">
 <span class="preprocessor">#include &lt;stdio.h&gt;</span>

 <span class="type">void</span> printError(<span class="keyword">const</span> <span class="type">char</span><span class="operator">*</span> msg)
 {
     <span class="type"><a href="qfile.html#QFile" translate="no">QFile</a></span> file;
     file<span class="operator">.</span>open(stderr<span class="operator">,</span> <span class="type"><a href="qiodevice.html#QIODevice" translate="no">QIODevice</a></span><span class="operator">::</span>WriteOnly);
     file<span class="operator">.</span>write(msg<span class="operator">,</span> qstrlen(msg));        <span class="comment">// write to stderr</span>
     file<span class="operator">.</span>close();
 }
</pre>
<p>When a <a href="qfile.html" translate="no">QFile</a> is opened using this function, behaviour of <a href="qfiledevice.html#close" translate="no">close</a>() is controlled by the AutoCloseHandle flag. If AutoCloseHandle is specified, and this function succeeds, then calling <a href="qfiledevice.html#close" translate="no">close</a>() closes the adopted handle. Otherwise, <a href="qfiledevice.html#close" translate="no">close</a>() does not actually close the file, but only flushes it.</p>
<p><b>Warning:</b></p>
<ol class="1" type="1"><li>If <i translate="no">fh</i> does not refer to a regular file, e.g., it is <code translate="no">stdin</code>, <code translate="no">stdout</code>, or <code translate="no">stderr</code>, you may not be able to <a href="qfiledevice.html#seek" translate="no">seek</a>(). <a href="qfile.html#size" translate="no">size</a>() returns <code translate="no">0</code> in those cases. See <a href="qiodevice.html#isSequential" translate="no">QIODevice::isSequential</a>() for more information.</li>
<li>Since this function opens the file without specifying the file name, you cannot use this <a href="qfile.html" translate="no">QFile</a> with a <a href="qfileinfo.html" translate="no">QFileInfo</a>.</li>
</ol>
<p><b>Note for the Windows Platform</b></p>
<p><i translate="no">fh</i> must be opened in binary mode (i.e., the mode string must contain 'b', as in &quot;rb&quot; or &quot;wb&quot;) when accessing files and other random-access devices. Qt will translate the end-of-line characters if you pass QIODevice::Text to <i translate="no">mode</i>. Sequential devices, such as stdin and stdout, are unaffected by this limitation.</p>
<p>You need to enable support for console applications in order to use the stdin, stdout and stderr streams at the console. To do this, add the following declaration to your application's project file:</p>
<pre class="cpp" translate="no">
 CONFIG <span class="operator">+</span><span class="operator">=</span> console
</pre>
<p><b>See also </b><a href="qfiledevice.html#close" translate="no">close</a>().</p>
<!-- @@@open -->
<!-- $$$open$$$openintQIODeviceBase::OpenModeQFileDevice::FileHandleFlags -->
<h3 class="fn" translate="no" id="open-3"><span class="type">bool</span> QFile::<span class="name">open</span>(<span class="type">int</span> <i>fd</i>, <span class="type"><a href="qiodevicebase.html#OpenModeFlag-enum" translate="no">QIODeviceBase::OpenMode</a></span> <i>mode</i>, <span class="type"><a href="qfiledevice.html#FileHandleFlag-enum" translate="no">QFileDevice::FileHandleFlags</a></span> <i>handleFlags</i> = DontCloseHandle)</h3>
<p>This is an overloaded function.</p>
<p>Opens the existing file descriptor <i translate="no">fd</i> in the given <i translate="no">mode</i>. <i translate="no">handleFlags</i> may be used to specify additional options. Returns <code translate="no">true</code> if successful; otherwise returns <code translate="no">false</code>.</p>
<p>When a <a href="qfile.html" translate="no">QFile</a> is opened using this function, behaviour of <a href="qfiledevice.html#close" translate="no">close</a>() is controlled by the AutoCloseHandle flag. If AutoCloseHandle is specified, and this function succeeds, then calling <a href="qfiledevice.html#close" translate="no">close</a>() closes the adopted handle. Otherwise, <a href="qfiledevice.html#close" translate="no">close</a>() does not actually close the file, but only flushes it.</p>
<div class="admonition warning">
<p><b>Warning: </b>If <i translate="no">fd</i> is not a regular file, e.g, it is 0 (<code translate="no">stdin</code>), 1 (<code translate="no">stdout</code>), or 2 (<code translate="no">stderr</code>), you may not be able to <a href="qfiledevice.html#seek" translate="no">seek</a>(). In those cases, <a href="qfile.html#size" translate="no">size</a>() returns <code translate="no">0</code>. See <a href="qiodevice.html#isSequential" translate="no">QIODevice::isSequential</a>() for more information.</p>
</div>
<div class="admonition warning">
<p><b>Warning: </b>Since this function opens the file without specifying the file name, you cannot use this <a href="qfile.html" translate="no">QFile</a> with a <a href="qfileinfo.html" translate="no">QFileInfo</a>.</p>
</div>
<p><b>See also </b><a href="qfiledevice.html#close" translate="no">close</a>().</p>
<!-- @@@open -->
<!-- $$$permissions[overload1]$$$permissions -->
<h3 class="fn" translate="no" id="permissions"><code class="details extra" translate="no">[override virtual]</code> <span class="type"><a href="qfiledevice.html#Permission-enum" translate="no">QFileDevice::Permissions</a></span> QFile::<span class="name">permissions</span>() const</h3>
<p>Reimplements: <a href="qfiledevice.html#permissions" translate="no">QFileDevice::permissions() const</a>.</p>
<p><b>See also </b><a href="qfile.html#setPermissions" translate="no">setPermissions</a>().</p>
<!-- @@@permissions -->
<!-- $$$permissions$$$permissionsconstQString& -->
<h3 class="fn" translate="no" id="permissions-1"><code class="details extra" translate="no">[static]</code> <span class="type"><a href="qfiledevice.html#Permission-enum" translate="no">QFileDevice::Permissions</a></span> QFile::<span class="name">permissions</span>(const <span class="type"><a href="qstring.html" translate="no">QString</a></span> &amp;<i>fileName</i>)</h3>
<p>This is an overloaded function.</p>
<p>Returns the complete OR-ed together combination of QFile::Permission for <i translate="no">fileName</i>.</p>
<!-- @@@permissions -->
<!-- $$$permissions$$$permissionsconststd::filesystem::path& -->
<h3 class="fn" translate="no" id="permissions-2"><code class="details extra" translate="no">[static, since 6.0]</code> <span class="type"><a href="qfiledevice.html#Permission-enum" translate="no">QFileDevice::Permissions</a></span> QFile::<span class="name">permissions</span>(const <span class="type">std::filesystem::path</span> &amp;<i>filename</i>)</h3>
<p>This is an overloaded function.</p>
<p>This function was introduced in Qt 6.0.</p>
<!-- @@@permissions -->
<!-- $$$remove[overload1]$$$remove -->
<h3 class="fn" translate="no" id="remove"><span class="type">bool</span> QFile::<span class="name">remove</span>()</h3>
<p>Removes the file specified by <a href="qfile.html#fileName" translate="no">fileName</a>(). Returns <code translate="no">true</code> if successful; otherwise returns <code translate="no">false</code>.</p>
<p>The file is closed before it is removed.</p>
<p><b>See also </b><a href="qfile.html#setFileName" translate="no">setFileName</a>().</p>
<!-- @@@remove -->
<!-- $$$remove$$$removeconstQString& -->
<h3 class="fn" translate="no" id="remove-1"><code class="details extra" translate="no">[static]</code> <span class="type">bool</span> QFile::<span class="name">remove</span>(const <span class="type"><a href="qstring.html" translate="no">QString</a></span> &amp;<i>fileName</i>)</h3>
<p>This is an overloaded function.</p>
<p>Removes the file specified by the <i translate="no">fileName</i> given.</p>
<p>Returns <code translate="no">true</code> if successful; otherwise returns <code translate="no">false</code>.</p>
<p><b>See also </b><a href="qfile.html#remove" translate="no">remove</a>().</p>
<!-- @@@remove -->
<!-- $$$rename[overload1]$$$renameconstQString& -->
<h3 class="fn" translate="no" id="rename"><span class="type">bool</span> QFile::<span class="name">rename</span>(const <span class="type"><a href="qstring.html" translate="no">QString</a></span> &amp;<i>newName</i>)</h3>
<p>Renames the file currently specified by <a href="qfile.html#fileName" translate="no">fileName</a>() to <i translate="no">newName</i>. Returns <code translate="no">true</code> if successful; otherwise returns <code translate="no">false</code>.</p>
<p>If a file with the name <i translate="no">newName</i> already exists, rename() returns <code translate="no">false</code> (i.e., <a href="qfile.html" translate="no">QFile</a> will not overwrite it).</p>
<p>The file is closed before it is renamed.</p>
<p>If the rename operation fails, Qt will attempt to copy this file's contents to <i translate="no">newName</i>, and then remove this file, keeping only <i translate="no">newName</i>. If that copy operation fails or this file can't be removed, the destination file <i translate="no">newName</i> is removed to restore the old state.</p>
<p><b>See also </b><a href="qfile.html#setFileName" translate="no">setFileName</a>().</p>
<!-- @@@rename -->
<!-- $$$rename$$$renameconstQString&constQString& -->
<h3 class="fn" translate="no" id="rename-1"><code class="details extra" translate="no">[static]</code> <span class="type">bool</span> QFile::<span class="name">rename</span>(const <span class="type"><a href="qstring.html" translate="no">QString</a></span> &amp;<i>oldName</i>, const <span class="type"><a href="qstring.html" translate="no">QString</a></span> &amp;<i>newName</i>)</h3>
<p>This is an overloaded function.</p>
<p>Renames the file <i translate="no">oldName</i> to <i translate="no">newName</i>. Returns <code translate="no">true</code> if successful; otherwise returns <code translate="no">false</code>.</p>
<p>If a file with the name <i translate="no">newName</i> already exists, rename() returns <code translate="no">false</code> (i.e., <a href="qfile.html" translate="no">QFile</a> will not overwrite it).</p>
<p><b>See also </b><a href="qfile.html#rename" translate="no">rename</a>().</p>
<!-- @@@rename -->
<!-- $$$rename$$$renameconststd::filesystem::path& -->
<h3 class="fn" translate="no" id="rename-2"><code class="details extra" translate="no">[since 6.0]</code> <span class="type">bool</span> QFile::<span class="name">rename</span>(const <span class="type">std::filesystem::path</span> &amp;<i>newName</i>)</h3>
<p>This is an overloaded function.</p>
<p>This function was introduced in Qt 6.0.</p>
<!-- @@@rename -->
<!-- $$$resize[overload1]$$$resizeqint64 -->
<h3 class="fn" translate="no" id="resize"><code class="details extra" translate="no">[override virtual]</code> <span class="type">bool</span> QFile::<span class="name">resize</span>(<span class="type"><a href="qttypes.html#qint64-typedef" translate="no">qint64</a></span> <i>sz</i>)</h3>
<p>Reimplements: <a href="qfiledevice.html#resize" translate="no">QFileDevice::resize</a>(qint64 sz).</p>
<!-- @@@resize -->
<!-- $$$resize$$$resizeconstQString&qint64 -->
<h3 class="fn" translate="no" id="resize-1"><code class="details extra" translate="no">[static]</code> <span class="type">bool</span> QFile::<span class="name">resize</span>(const <span class="type"><a href="qstring.html" translate="no">QString</a></span> &amp;<i>fileName</i>, <span class="type"><a href="qttypes.html#qint64-typedef" translate="no">qint64</a></span> <i>sz</i>)</h3>
<p>This is an overloaded function.</p>
<p>Sets <i translate="no">fileName</i> to size (in bytes) <i translate="no">sz</i>. Returns <code translate="no">true</code> if the resize succeeds; false otherwise. If <i translate="no">sz</i> is larger than <i translate="no">fileName</i> currently is the new bytes will be set to 0, if <i translate="no">sz</i> is smaller the file is simply truncated.</p>
<div class="admonition warning">
<p><b>Warning: </b>This function can fail if the file doesn't exist.</p>
</div>
<p><b>See also </b><a href="qfile.html#resize" translate="no">resize</a>().</p>
<!-- @@@resize -->
<!-- $$$setFileName[overload1]$$$setFileNameconstQString& -->
<h3 class="fn" translate="no" id="setFileName"><span class="type">void</span> QFile::<span class="name">setFileName</span>(const <span class="type"><a href="qstring.html" translate="no">QString</a></span> &amp;<i>name</i>)</h3>
<p>Sets the <i translate="no">name</i> of the file. The name can have no path, a relative path, or an absolute path.</p>
<p>Do not call this function if the file has already been opened.</p>
<p>If the file name has no path or a relative path, the path used will be the application's current directory path <i>at the time of the <a href="qfile.html#open" translate="no">open</a>()</i> call.</p>
<p>Example:</p>
<pre class="cpp" translate="no">
 <span class="type"><a href="qfile.html#QFile" translate="no">QFile</a></span> file;
 <span class="type"><a href="qdir.html" translate="no">QDir</a></span><span class="operator">::</span>setCurrent(<span class="string">&quot;/tmp&quot;</span>);
 file<span class="operator">.</span>setFileName(<span class="string">&quot;readme.txt&quot;</span>);
 <span class="type"><a href="qdir.html" translate="no">QDir</a></span><span class="operator">::</span>setCurrent(<span class="string">&quot;/home&quot;</span>);
 file<span class="operator">.</span>open(<span class="type"><a href="qiodevice.html#QIODevice" translate="no">QIODevice</a></span><span class="operator">::</span>ReadOnly);      <span class="comment">// opens &quot;/home/readme.txt&quot; under Unix</span>
</pre>
<p>Note that the directory separator &quot;/&quot; works for all operating systems supported by Qt.</p>
<p><b>See also </b><a href="qfile.html#fileName" translate="no">fileName</a>(), <a href="qfileinfo.html" translate="no">QFileInfo</a>, and <a href="qdir.html" translate="no">QDir</a>.</p>
<!-- @@@setFileName -->
<!-- $$$setFileName$$$setFileNameconststd::filesystem::path& -->
<h3 class="fn" translate="no" id="setFileName-1"><code class="details extra" translate="no">[since 6.0]</code> <span class="type">void</span> QFile::<span class="name">setFileName</span>(const <span class="type">std::filesystem::path</span> &amp;<i>name</i>)</h3>
<p>This is an overloaded function.</p>
<p>This function was introduced in Qt 6.0.</p>
<!-- @@@setFileName -->
<!-- $$$setPermissions[overload1]$$$setPermissionsQFileDevice::Permissions -->
<h3 class="fn" translate="no" id="setPermissions"><code class="details extra" translate="no">[override virtual]</code> <span class="type">bool</span> QFile::<span class="name">setPermissions</span>(<span class="type"><a href="qfiledevice.html#Permission-enum" translate="no">QFileDevice::Permissions</a></span> <i>permissions</i>)</h3>
<p>Reimplements: <a href="qfiledevice.html#setPermissions" translate="no">QFileDevice::setPermissions</a>(QFileDevice::Permissions permissions).</p>
<p>Sets the permissions for the file to the <i translate="no">permissions</i> specified. Returns <code translate="no">true</code> if successful, or <code translate="no">false</code> if the permissions cannot be modified.</p>
<div class="admonition warning">
<p><b>Warning: </b>This function does not manipulate ACLs, which may limit its effectiveness.</p>
</div>
<p><b>See also </b><a href="qfile.html#permissions" translate="no">permissions</a>() and <a href="qfile.html#setFileName" translate="no">setFileName</a>().</p>
<!-- @@@setPermissions -->
<!-- $$$setPermissions$$$setPermissionsconstQString&QFileDevice::Permissions -->
<h3 class="fn" translate="no" id="setPermissions-1"><code class="details extra" translate="no">[static]</code> <span class="type">bool</span> QFile::<span class="name">setPermissions</span>(const <span class="type"><a href="qstring.html" translate="no">QString</a></span> &amp;<i>fileName</i>, <span class="type"><a href="qfiledevice.html#Permission-enum" translate="no">QFileDevice::Permissions</a></span> <i>permissions</i>)</h3>
<p>This is an overloaded function.</p>
<p>Sets the permissions for <i translate="no">fileName</i> file to <i translate="no">permissions</i>.</p>
<!-- @@@setPermissions -->
<!-- $$$setPermissions$$$setPermissionsconststd::filesystem::path&QFileDevice::Permissions -->
<h3 class="fn" translate="no" id="setPermissions-2"><code class="details extra" translate="no">[static, since 6.0]</code> <span class="type">bool</span> QFile::<span class="name">setPermissions</span>(const <span class="type">std::filesystem::path</span> &amp;<i>filename</i>, <span class="type"><a href="qfiledevice.html#Permission-enum" translate="no">QFileDevice::Permissions</a></span> <i>permissionSpec</i>)</h3>
<p>This is an overloaded function.</p>
<p>This function was introduced in Qt 6.0.</p>
<!-- @@@setPermissions -->
<!-- $$$size[overload1]$$$size -->
<h3 class="fn" translate="no" id="size"><code class="details extra" translate="no">[override virtual]</code> <span class="type"><a href="qttypes.html#qint64-typedef" translate="no">qint64</a></span> QFile::<span class="name">size</span>() const</h3>
<p>Reimplements: <a href="qfiledevice.html#size" translate="no">QFileDevice::size() const</a>.</p>
<!-- @@@size -->
<!-- $$$symLinkTarget[overload1]$$$symLinkTargetconstQString& -->
<h3 class="fn" translate="no" id="symLinkTarget"><code class="details extra" translate="no">[static]</code> <span class="type"><a href="qstring.html" translate="no">QString</a></span> QFile::<span class="name">symLinkTarget</span>(const <span class="type"><a href="qstring.html" translate="no">QString</a></span> &amp;<i>fileName</i>)</h3>
<p>Returns the absolute path of the file or directory referred to by the symlink (or shortcut on Windows) specified by <i translate="no">fileName</i>, or returns an empty string if the <i translate="no">fileName</i> does not correspond to a symbolic link.</p>
<p>This name may not represent an existing file; it is only a string. <a href="qfile.html#exists-1" translate="no">QFile::exists</a>() returns <code translate="no">true</code> if the symlink points to an existing file.</p>
<!-- @@@symLinkTarget -->
<!-- $$$symLinkTarget$$$symLinkTarget -->
<h3 class="fn" translate="no" id="symLinkTarget-1"><span class="type"><a href="qstring.html" translate="no">QString</a></span> QFile::<span class="name">symLinkTarget</span>() const</h3>
<p>This is an overloaded function.</p>
<p>Returns the absolute path of the file or directory a symlink (or shortcut on Windows) points to, or a an empty string if the object isn't a symbolic link.</p>
<p>This name may not represent an existing file; it is only a string. <a href="qfile.html#exists-1" translate="no">QFile::exists</a>() returns <code translate="no">true</code> if the symlink points to an existing file.</p>
<p><b>See also </b><a href="qfile.html#fileName" translate="no">fileName</a>() and <a href="qfile.html#setFileName" translate="no">setFileName</a>().</p>
<!-- @@@symLinkTarget -->
</div>
        </div>
       </div>
   </div>
   </div>
</div>
<div class="footer">
   <p>
   <acronym title="Copyright">&copy;</acronym> 2024 <span translate="no">The Qt Company Ltd.</span>
   Documentation contributions included herein are the copyrights of
   their respective owners.<br/>    The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the <span translate="no">Free Software Foundation</span>.<br/>    <span translate="no">Qt</span> and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of <span translate="no">The Qt Company Ltd.</span> in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>
</div>
</body>
</html>
