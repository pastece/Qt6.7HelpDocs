<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
<!-- qsocketnotifier.cpp -->
  <meta name="description" content="The QSocketNotifier class provides support for monitoring activity on a file descriptor.">
  <title>QSocketNotifier Class | Qt Core 6.7.0</title>
  <link rel="stylesheet" type="text/css" href="style/offline-simple.css" />
  <script type="text/javascript">
    document.getElementsByTagName("link").item(0).setAttribute("href", "style/offline.css");
    // loading style sheet breaks anchors that were jumped to before
    // so force jumping to anchor again
    setTimeout(function() {
        var anchor = location.hash;
        // need to jump to different anchor first (e.g. none)
        location.hash = "#";
        setTimeout(function() {
            location.hash = anchor;
        }, 0);
    }, 0);
  </script>
</head>
<body>
<div class="header" id="qtdocheader">
    <div class="main">
    <div class="main-rounded">
        <div class="navigationbar">
        <ul>
<li><a href="../qtdoc/index.html" translate="no">Qt 6.7</a></li>
<li><a href="qtcore-index.html" translate="no">Qt Core</a></li>
<li><a href="qtcore-module.html" translate="no">C++ Classes</a></li>
<li>QSocketNotifier</li>
<li id="buildversion"><a href="qtcore-index.html" translate="no">Qt 6.7.0 Reference Documentation</a></li>
    </ul>
    </div>
</div>
<div class="content">
<div class="line">
<div class="content mainContent">
<div class="sidebar">
<div class="toc">
<h3 id="toc">Contents</h3>
<ul>
<li class="level1"><a href="#public-types">Public Types</a></li>
<li class="level1"><a href="#public-functions">Public Functions</a></li>
<li class="level1"><a href="#public-slots">Public Slots</a></li>
<li class="level1"><a href="#signals">Signals</a></li>
<li class="level1"><a href="#reimplemented-protected-functions">Reimplemented Protected Functions</a></li>
<li class="level1"><a href="#details">Detailed Description</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<h1 class="title" translate="no">QSocketNotifier Class</h1>
<!-- $$$QSocketNotifier-brief -->
<p>The QSocketNotifier class provides support for monitoring activity on a file descriptor. <a href="#details">More...</a></p>
<!-- @@@QSocketNotifier -->
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> Header:</td><td class="memItemRight bottomAlign">  <span class="preprocessor">#include &lt;QSocketNotifier&gt;</span></td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> CMake:</td><td class="memItemRight bottomAlign"> find_package(Qt6 REQUIRED COMPONENTS Core) <br/>
target_link_libraries(mytarget PRIVATE Qt6::Core)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> qmake:</td><td class="memItemRight bottomAlign"> QT += core</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> Inherits:</td><td class="memItemRight bottomAlign"> <a href="qobject.html" translate="no">QObject</a></td></tr>
</table></div>
<ul>
<li><a href="qsocketnotifier-members.html">List of all members, including inherited members</a></li>
<li><a href="qsocketnotifier-obsolete.html">Deprecated members</a></li>
<li>QSocketNotifier is part of <a href="../qtnetwork/network.html">Network Programming API</a> and <a href="io.html">Input/Output and Networking</a>.</li>
</ul>
<h2 id="public-types">Public Types</h2>
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> enum </td><td class="memItemRight bottomAlign"><b><a href="qsocketnotifier.html#Type-enum" translate="no">Type</a></b> { Read, Write, Exception }</td></tr>
</table></div>
<h2 id="public-functions">Public Functions</h2>
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> <code class="summary extra" translate="no">(since 6.1)</code> </td><td class="memItemRight bottomAlign"><b><a href="qsocketnotifier.html#QSocketNotifier" translate="no">QSocketNotifier</a></b>(QSocketNotifier::Type <i>type</i>, QObject *<i>parent</i> = nullptr)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qsocketnotifier.html#QSocketNotifier-1" translate="no">QSocketNotifier</a></b>(qintptr <i>socket</i>, QSocketNotifier::Type <i>type</i>, QObject *<i>parent</i> = nullptr)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual </td><td class="memItemRight bottomAlign"><b><a href="qsocketnotifier.html#dtor.QSocketNotifier" translate="no">~QSocketNotifier</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qsocketnotifier.html#isEnabled" translate="no">isEnabled</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> <code class="summary extra" translate="no">(since 6.1)</code> bool </td><td class="memItemRight bottomAlign"><b><a href="qsocketnotifier.html#isValid" translate="no">isValid</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> <code class="summary extra" translate="no">(since 6.1)</code> void </td><td class="memItemRight bottomAlign"><b><a href="qsocketnotifier.html#setSocket" translate="no">setSocket</a></b>(qintptr <i>socket</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> qintptr </td><td class="memItemRight bottomAlign"><b><a href="qsocketnotifier.html#socket" translate="no">socket</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QSocketNotifier::Type </td><td class="memItemRight bottomAlign"><b><a href="qsocketnotifier.html#type" translate="no">type</a></b>() const</td></tr>
</table></div>
<h2 id="public-slots">Public Slots</h2>
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qsocketnotifier.html#setEnabled" translate="no">setEnabled</a></b>(bool <i>enable</i>)</td></tr>
</table></div>
<h2 id="signals">Signals</h2>
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qsocketnotifier.html#activated" translate="no">activated</a></b>(QSocketDescriptor <i>socket</i>, QSocketNotifier::Type <i>type</i>)</td></tr>
</table></div>
<h2 id="reimplemented-protected-functions">Reimplemented Protected Functions</h2>
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> virtual bool </td><td class="memItemRight bottomAlign"><b><a href="qsocketnotifier.html#event" translate="no">event</a></b>(QEvent *<i>e</i>) override</td></tr>
</table></div>
<!-- $$$QSocketNotifier-description -->
<div class="descr">
<h2 id="details">Detailed Description</h2>
<p>The QSocketNotifier makes it possible to integrate Qt's event loop with other event loops based on file descriptors. File descriptor action is detected in Qt's main event loop (<a href="qcoreapplication.html#exec" translate="no">QCoreApplication::exec</a>()).</p>
<span id="write-notifiers"></span><p>Once you have opened a device using a low-level (usually platform-specific) API, you can create a socket notifier to monitor the file descriptor. If the descriptor is passed to the notifier's constructor, the socket notifier is enabled by default, i.e. it emits the <a href="qsocketnotifier.html#activated" translate="no">activated</a>() signal whenever a socket event corresponding to its type occurs. Connect the <a href="qsocketnotifier.html#activated" translate="no">activated</a>() signal to the slot you want to be called when an event corresponding to your socket notifier's type occurs.</p>
<p>You can create a socket notifier with no descriptor assigned. In this case, you should call the <a href="qsocketnotifier.html#setSocket" translate="no">setSocket</a>() function after the descriptor has been obtained.</p>
<p>There are three types of socket notifiers: read, write, and exception. The type is described by the <a href="qsocketnotifier.html#Type-enum" translate="no">Type</a> enum, and must be specified when constructing the socket notifier. After construction it can be determined using the <a href="qsocketnotifier.html#type" translate="no">type</a>() function. Note that if you need to monitor both reads and writes for the same file descriptor, you must create two socket notifiers. Note also that it is not possible to install two socket notifiers of the same type (<a href="qsocketnotifier.html#Type-enum" translate="no">Read</a>, <a href="qsocketnotifier.html#Type-enum" translate="no">Write</a>, <a href="qsocketnotifier.html#Type-enum" translate="no">Exception</a>) on the same socket.</p>
<p>The <a href="qsocketnotifier.html#setEnabled" translate="no">setEnabled</a>() function allows you to disable as well as enable the socket notifier. It is generally advisable to explicitly enable or disable the socket notifier, especially for write notifiers. A disabled notifier ignores socket events (the same effect as not creating the socket notifier). Use the <a href="qsocketnotifier.html#isEnabled" translate="no">isEnabled</a>() function to determine the notifier's current status.</p>
<p>Finally, you can use the <a href="qsocketnotifier.html#socket" translate="no">socket</a>() function to retrieve the socket identifier. Although the class is called QSocketNotifier, it is normally used for other types of devices than sockets. <a href="../qtnetwork/qtcpsocket.html" translate="no">QTcpSocket</a> and <a href="../qtnetwork/qudpsocket.html" translate="no">QUdpSocket</a> provide notification through signals, so there is normally no need to use a QSocketNotifier on them.</p>
</div>
<p><b>See also </b><a href="qfile.html" translate="no">QFile</a>, <a href="qprocess.html" translate="no">QProcess</a>, <a href="../qtnetwork/qtcpsocket.html" translate="no">QTcpSocket</a>, and <a href="../qtnetwork/qudpsocket.html" translate="no">QUdpSocket</a>.</p>
<!-- @@@QSocketNotifier -->
<div class="types">
<h2>Member Type Documentation</h2>
<!-- $$$Type$$$Read$$$Write$$$Exception -->
<h3 class="fn" translate="no" id="Type-enum">enum QSocketNotifier::<span class="name">Type</span></h3>
<p>This enum describes the various types of events that a socket notifier can recognize. The type must be specified when constructing the socket notifier.</p>
<p>Note that if you need to monitor both reads and writes for the same file descriptor, you must create two socket notifiers. Note also that it is not possible to install two socket notifiers of the same type (Read, Write, Exception) on the same socket.</p>
<div class="table"><table class="valuelist"><tr valign="top" class="odd"><th class="tblConst">Constant</th><th class="tblval">Value</th><th class="tbldscr">Description</th></tr>
<tr><td class="topAlign"><code translate="no">QSocketNotifier::Read</code></td><td class="topAlign tblval"><code translate="no">0</code></td><td class="topAlign">There is data to be read.</td></tr>
<tr><td class="topAlign"><code translate="no">QSocketNotifier::Write</code></td><td class="topAlign tblval"><code translate="no">1</code></td><td class="topAlign">Data can be written.</td></tr>
<tr><td class="topAlign"><code translate="no">QSocketNotifier::Exception</code></td><td class="topAlign tblval"><code translate="no">2</code></td><td class="topAlign">An exception has occurred. We recommend against using this.</td></tr>
</table></div>
<p><b>See also </b><a href="qsocketnotifier.html#QSocketNotifier" translate="no">QSocketNotifier</a>() and <a href="qsocketnotifier.html#type" translate="no">type</a>().</p>
<!-- @@@Type -->
</div>
<div class="func">
<h2>Member Function Documentation</h2>
<!-- $$$QSocketNotifier[overload1]$$$QSocketNotifierQSocketNotifier::TypeQObject* -->
<h3 class="fn" translate="no" id="QSocketNotifier"><code class="details extra" translate="no">[explicit, since 6.1]</code> QSocketNotifier::<span class="name">QSocketNotifier</span>(<span class="type"><a href="qsocketnotifier.html#Type-enum" translate="no">QSocketNotifier::Type</a></span> <i>type</i>, <span class="type"><a href="qobject.html#QObject" translate="no">QObject</a></span> *<i>parent</i> = nullptr)</h3>
<p>Constructs a socket notifier with the given <i translate="no">type</i> that has no descriptor assigned. The <i translate="no">parent</i> argument is passed to <a href="qobject.html" translate="no">QObject</a>'s constructor.</p>
<p>Call the <a href="qsocketnotifier.html#setSocket" translate="no">setSocket</a>() function to set the descriptor for monitoring.</p>
<p>This function was introduced in Qt 6.1.</p>
<p><b>See also </b><a href="qsocketnotifier.html#setSocket" translate="no">setSocket</a>(), <a href="qsocketnotifier.html#isValid" translate="no">isValid</a>(), and <a href="qsocketnotifier.html#isEnabled" translate="no">isEnabled</a>().</p>
<!-- @@@QSocketNotifier -->
<!-- $$$QSocketNotifier$$$QSocketNotifierqintptrQSocketNotifier::TypeQObject* -->
<h3 class="fn" translate="no" id="QSocketNotifier-1">QSocketNotifier::<span class="name">QSocketNotifier</span>(<span class="type"><a href="qttypes.html#qintptr-typedef" translate="no">qintptr</a></span> <i>socket</i>, <span class="type"><a href="qsocketnotifier.html#Type-enum" translate="no">QSocketNotifier::Type</a></span> <i>type</i>, <span class="type"><a href="qobject.html#QObject" translate="no">QObject</a></span> *<i>parent</i> = nullptr)</h3>
<p>Constructs a socket notifier with the given <i translate="no">parent</i>. It enables the <i translate="no">socket</i>, and watches for events of the given <i translate="no">type</i>.</p>
<p>It is generally advisable to explicitly enable or disable the socket notifier, especially for write notifiers.</p>
<p><b>Note for Windows users:</b> The socket passed to QSocketNotifier will become non-blocking, even if it was created as a blocking socket.</p>
<p><b>See also </b><a href="qsocketnotifier.html#setEnabled" translate="no">setEnabled</a>() and <a href="qsocketnotifier.html#isEnabled" translate="no">isEnabled</a>().</p>
<!-- @@@QSocketNotifier -->
<!-- $$$~QSocketNotifier[overload1]$$$~QSocketNotifier -->
<h3 class="fn" translate="no" id="dtor.QSocketNotifier"><code class="details extra" translate="no">[virtual noexcept]</code> QSocketNotifier::<span class="name">~QSocketNotifier</span>()</h3>
<p>Destroys this socket notifier.</p>
<!-- @@@~QSocketNotifier -->
<!-- $$$activated[overload1]$$$activatedQSocketDescriptorQSocketNotifier::Type -->
<h3 class="fn" translate="no" id="activated"><code class="details extra" translate="no">[private signal]</code> <span class="type">void</span> QSocketNotifier::<span class="name">activated</span>(<span class="type">QSocketDescriptor</span> <i>socket</i>, <span class="type"><a href="qsocketnotifier.html#Type-enum" translate="no">QSocketNotifier::Type</a></span> <i>type</i>)</h3>
<p>This signal is emitted whenever the socket notifier is enabled and a socket event corresponding to its <i translate="no">type</i> occurs.</p>
<p>The socket identifier is passed in the <i translate="no">socket</i> parameter.</p>
<div class="admonition note"><p><b>Note: </b>This is a private signal. It can be used in signal connections but cannot be emitted by the user.</p>
</div><p><b>Note:</b> Signal <i>activated</i> is overloaded in this class. To connect to this signal by using the function pointer syntax, Qt provides a convenient helper for obtaining the function pointer as shown in this example:<pre class="cpp" translate="no">
 connect(socketNotifier<span class="operator">,</span> <span class="type">QOverload</span><span class="operator">&lt;</span><span class="type">QSocketDescriptor</span><span class="operator">,</span> <span class="type"><a href="qsocketnotifier.html#QSocketNotifier" translate="no">QSocketNotifier</a></span><span class="operator">::</span>Type<span class="operator">&gt;</span><span class="operator">::</span>of(<span class="operator">&amp;</span><span class="type"><a href="qsocketnotifier.html#QSocketNotifier" translate="no">QSocketNotifier</a></span><span class="operator">::</span>activated)<span class="operator">,</span>
     <span class="operator">[</span><span class="operator">=</span><span class="operator">]</span>(<span class="type">QSocketDescriptor</span> socket<span class="operator">,</span> <span class="type"><a href="qsocketnotifier.html#QSocketNotifier" translate="no">QSocketNotifier</a></span><span class="operator">::</span>Type type){ <span class="comment">/* ... */</span> });
</pre>
<p><b>See also </b><a href="qsocketnotifier.html#type" translate="no">type</a>() and <a href="qsocketnotifier.html#socket" translate="no">socket</a>().</p>
<!-- @@@activated -->
<!-- $$$event[overload1]$$$eventQEvent* -->
<h3 class="fn" translate="no" id="event"><code class="details extra" translate="no">[override virtual protected]</code> <span class="type">bool</span> QSocketNotifier::<span class="name">event</span>(<span class="type"><a href="qevent.html" translate="no">QEvent</a></span> *<i>e</i>)</h3>
<p>Reimplements: <a href="qobject.html#event" translate="no">QObject::event</a>(QEvent *e).</p>
<!-- @@@event -->
<!-- $$$isEnabled[overload1]$$$isEnabled -->
<h3 class="fn" translate="no" id="isEnabled"><span class="type">bool</span> QSocketNotifier::<span class="name">isEnabled</span>() const</h3>
<p>Returns <code translate="no">true</code> if the notifier is enabled; otherwise returns <code translate="no">false</code>.</p>
<p><b>See also </b><a href="qsocketnotifier.html#setEnabled" translate="no">setEnabled</a>().</p>
<!-- @@@isEnabled -->
<!-- $$$isValid[overload1]$$$isValid -->
<h3 class="fn" translate="no" id="isValid"><code class="details extra" translate="no">[since 6.1]</code> <span class="type">bool</span> QSocketNotifier::<span class="name">isValid</span>() const</h3>
<p>Returns <code translate="no">true</code> if the notifier is valid (that is, it has a descriptor assigned); otherwise returns <code translate="no">false</code>.</p>
<p>This function was introduced in Qt 6.1.</p>
<p><b>See also </b><a href="qsocketnotifier.html#setSocket" translate="no">setSocket</a>().</p>
<!-- @@@isValid -->
<!-- $$$setEnabled[overload1]$$$setEnabledbool -->
<h3 class="fn" translate="no" id="setEnabled"><code class="details extra" translate="no">[slot]</code> <span class="type">void</span> QSocketNotifier::<span class="name">setEnabled</span>(<span class="type">bool</span> <i>enable</i>)</h3>
<p>If <i translate="no">enable</i> is true, the notifier is enabled; otherwise the notifier is disabled.</p>
<p>When the notifier is enabled, it emits the <a href="qsocketnotifier.html#activated" translate="no">activated</a>() signal whenever a socket event corresponding to its <a href="qsocketnotifier.html#type" translate="no">type</a> occurs. When it is disabled, it ignores socket events (the same effect as not creating the socket notifier).</p>
<p>Write notifiers should normally be disabled immediately after the <a href="qsocketnotifier.html#activated" translate="no">activated</a>() signal has been emitted</p>
<p><b>See also </b><a href="qsocketnotifier.html#isEnabled" translate="no">isEnabled</a>() and <a href="qsocketnotifier.html#activated" translate="no">activated</a>().</p>
<!-- @@@setEnabled -->
<!-- $$$setSocket[overload1]$$$setSocketqintptr -->
<h3 class="fn" translate="no" id="setSocket"><code class="details extra" translate="no">[since 6.1]</code> <span class="type">void</span> QSocketNotifier::<span class="name">setSocket</span>(<span class="type"><a href="qttypes.html#qintptr-typedef" translate="no">qintptr</a></span> <i>socket</i>)</h3>
<p>Assigns the <i translate="no">socket</i> to this notifier.</p>
<div class="admonition note">
<p><b>Note: </b>The notifier will be disabled as a side effect and needs to be re-enabled.</p>
</div>
<p>This function was introduced in Qt 6.1.</p>
<p><b>See also </b><a href="qsocketnotifier.html#socket" translate="no">socket</a>(), <a href="qsocketnotifier.html#setEnabled" translate="no">setEnabled</a>(), and <a href="qsocketnotifier.html#isValid" translate="no">isValid</a>().</p>
<!-- @@@setSocket -->
<!-- $$$socket[overload1]$$$socket -->
<h3 class="fn" translate="no" id="socket"><span class="type"><a href="qttypes.html#qintptr-typedef" translate="no">qintptr</a></span> QSocketNotifier::<span class="name">socket</span>() const</h3>
<p>Returns the socket identifier assigned to this object.</p>
<p><b>See also </b><a href="qsocketnotifier.html#setSocket" translate="no">setSocket</a>(), <a href="qsocketnotifier.html#isValid" translate="no">isValid</a>(), and <a href="qsocketnotifier.html#type" translate="no">type</a>().</p>
<!-- @@@socket -->
<!-- $$$type[overload1]$$$type -->
<h3 class="fn" translate="no" id="type"><span class="type"><a href="qsocketnotifier.html#Type-enum" translate="no">QSocketNotifier::Type</a></span> QSocketNotifier::<span class="name">type</span>() const</h3>
<p>Returns the socket event type specified to the constructor.</p>
<p><b>See also </b><a href="qsocketnotifier.html#socket" translate="no">socket</a>().</p>
<!-- @@@type -->
</div>
        </div>
       </div>
   </div>
   </div>
</div>
<div class="footer">
   <p>
   <acronym title="Copyright">&copy;</acronym> 2024 <span translate="no">The Qt Company Ltd.</span>
   Documentation contributions included herein are the copyrights of
   their respective owners.<br/>    The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the <span translate="no">Free Software Foundation</span>.<br/>    <span translate="no">Qt</span> and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of <span translate="no">The Qt Company Ltd.</span> in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>
</div>
</body>
</html>
