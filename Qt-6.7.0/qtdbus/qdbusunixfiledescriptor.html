<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
<!-- qdbusunixfiledescriptor.cpp -->
  <meta name="description" content="The QDBusUnixFileDescriptor class holds one Unix file descriptor.">
  <title>QDBusUnixFileDescriptor Class | Qt D-Bus 6.7.0</title>
  <link rel="stylesheet" type="text/css" href="style/offline-simple.css" />
  <script type="text/javascript">
    document.getElementsByTagName("link").item(0).setAttribute("href", "style/offline.css");
    // loading style sheet breaks anchors that were jumped to before
    // so force jumping to anchor again
    setTimeout(function() {
        var anchor = location.hash;
        // need to jump to different anchor first (e.g. none)
        location.hash = "#";
        setTimeout(function() {
            location.hash = anchor;
        }, 0);
    }, 0);
  </script>
</head>
<body>
<div class="header" id="qtdocheader">
    <div class="main">
    <div class="main-rounded">
        <div class="navigationbar">
        <ul>
<li><a href="../qtdoc/index.html" translate="no">Qt 6.7</a></li>
<li><a href="qtdbus-index.html" translate="no">Qt D-Bus</a></li>
<li><a href="qtdbus-module.html" translate="no">C++ Classes</a></li>
<li>QDBusUnixFileDescriptor</li>
<li id="buildversion"><a href="qtdbus-index.html" translate="no">Qt 6.7.0 Reference Documentation</a></li>
    </ul>
    </div>
</div>
<div class="content">
<div class="line">
<div class="content mainContent">
<div class="sidebar">
<div class="toc">
<h3 id="toc">Contents</h3>
<ul>
<li class="level1"><a href="#public-functions">Public Functions</a></li>
<li class="level1"><a href="#static-public-members">Static Public Members</a></li>
<li class="level1"><a href="#details">Detailed Description</a></li>
<li class="level2"><a href="#availability">Availability</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<h1 class="title" translate="no">QDBusUnixFileDescriptor Class</h1>
<!-- $$$QDBusUnixFileDescriptor-brief -->
<p>The QDBusUnixFileDescriptor class holds one Unix file descriptor. <a href="#details">More...</a></p>
<!-- @@@QDBusUnixFileDescriptor -->
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> Header:</td><td class="memItemRight bottomAlign">  <span class="preprocessor">#include &lt;QDBusUnixFileDescriptor&gt;</span></td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> CMake:</td><td class="memItemRight bottomAlign"> find_package(Qt6 REQUIRED COMPONENTS DBus) <br/>
target_link_libraries(mytarget PRIVATE Qt6::DBus)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> qmake:</td><td class="memItemRight bottomAlign"> QT += dbus</td></tr>
</table></div>
<ul>
<li><a href="qdbusunixfiledescriptor-members.html">List of all members, including inherited members</a></li>
<li>QDBusUnixFileDescriptor is part of <a href="../qtcore/shared.html">Implicitly Shared Classes</a>.</li>
</ul>
<h2 id="public-functions">Public Functions</h2>
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qdbusunixfiledescriptor.html#QDBusUnixFileDescriptor" translate="no">QDBusUnixFileDescriptor</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qdbusunixfiledescriptor.html#QDBusUnixFileDescriptor-1" translate="no">QDBusUnixFileDescriptor</a></b>(int <i>fileDescriptor</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qdbusunixfiledescriptor.html#QDBusUnixFileDescriptor-2" translate="no">QDBusUnixFileDescriptor</a></b>(const QDBusUnixFileDescriptor &amp;<i>other</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qdbusunixfiledescriptor.html#dtor.QDBusUnixFileDescriptor" translate="no">~QDBusUnixFileDescriptor</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> int </td><td class="memItemRight bottomAlign"><b><a href="qdbusunixfiledescriptor.html#fileDescriptor" translate="no">fileDescriptor</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qdbusunixfiledescriptor.html#isValid" translate="no">isValid</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qdbusunixfiledescriptor.html#setFileDescriptor" translate="no">setFileDescriptor</a></b>(int <i>fileDescriptor</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qdbusunixfiledescriptor.html#swap" translate="no">swap</a></b>(QDBusUnixFileDescriptor &amp;<i>other</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QDBusUnixFileDescriptor &amp;</td><td class="memItemRight bottomAlign"><b><a href="qdbusunixfiledescriptor.html#operator-eq" translate="no">operator=</a></b>(QDBusUnixFileDescriptor &amp;&amp;<i>other</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QDBusUnixFileDescriptor &amp;</td><td class="memItemRight bottomAlign"><b><a href="qdbusunixfiledescriptor.html#operator-eq-1" translate="no">operator=</a></b>(const QDBusUnixFileDescriptor &amp;<i>other</i>)</td></tr>
</table></div>
<h2 id="static-public-members">Static Public Members</h2>
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qdbusunixfiledescriptor.html#isSupported" translate="no">isSupported</a></b>()</td></tr>
</table></div>
<!-- $$$QDBusUnixFileDescriptor-description -->
<div class="descr">
<h2 id="details">Detailed Description</h2>
<p>The QDBusUnixFileDescriptor class is used to hold one Unix file descriptor for use with the Qt D-Bus module. This allows applications to send and receive Unix file descriptors over the D-Bus connection, mapping automatically to the D-Bus type 'h'.</p>
<p>Objects of type QDBusUnixFileDescriptors can be used also as parameters in signals and slots that get exported to D-Bus by registering with <a href="qdbusconnection.html#registerObject" translate="no">QDBusConnection::registerObject</a>.</p>
<p>QDBusUnixFileDescriptor does not take ownership of the file descriptor. Instead, it will use the Unix system call <code translate="no">dup(2)</code> to make a copy of the file descriptor. This file descriptor belongs to the QDBusUnixFileDescriptor object and should not be stored or closed by the user. Instead, you should make your own copy if you need that.</p>
<h4 id="availability">Availability</h4>
<p>Unix file descriptor passing is not available in all D-Bus connections. This feature is present with D-Bus library and bus daemon version 1.4 and upwards on Unix systems. Qt D-Bus automatically enables the feature if such a version was found at compile-time and run-time.</p>
<p>To verify that your connection does support passing file descriptors, check if the <a href="qdbusconnection.html#ConnectionCapability-enum" translate="no">QDBusConnection::UnixFileDescriptorPassing</a> capability is set with <a href="qdbusconnection.html#connectionCapabilities" translate="no">QDBusConnection::connectionCapabilities</a>(). If the flag is not active, then you will not be able to make calls to methods that have QDBusUnixFileDescriptor as arguments or even embed such a type in a variant. You will also not receive calls containing that type.</p>
<p>Note also that remote applications may not have support for Unix file descriptor passing. If you make a D-Bus to a remote application that cannot receive such a type, you will receive an error reply. If you try to send a signal containing a D-Bus file descriptor or return one from a method call, the message will be silently dropped.</p>
<p>Even if the feature is not available, QDBusUnixFileDescriptor will continue to operate, so code need not have compile-time checks for the availability of this feature.</p>
<p>On non-Unix systems, QDBusUnixFileDescriptor will always report an invalid state and <a href="qdbusunixfiledescriptor.html#isSupported" translate="no">QDBusUnixFileDescriptor::isSupported</a>() will return false.</p>
</div>
<p><b>See also </b><a href="qdbusconnection.html#ConnectionCapability-enum" translate="no">QDBusConnection::ConnectionCapabilities</a> and <a href="qdbusconnection.html#connectionCapabilities" translate="no">QDBusConnection::connectionCapabilities</a>().</p>
<!-- @@@QDBusUnixFileDescriptor -->
<div class="func">
<h2>Member Function Documentation</h2>
<!-- $$$QDBusUnixFileDescriptor[overload1]$$$QDBusUnixFileDescriptor -->
<h3 class="fn" translate="no" id="QDBusUnixFileDescriptor">QDBusUnixFileDescriptor::<span class="name">QDBusUnixFileDescriptor</span>()</h3>
<p>Constructs a QDBusUnixFileDescriptor without a wrapped file descriptor. This is equivalent to constructing the object with an invalid file descriptor (like -1).</p>
<p><b>See also </b><a href="qdbusunixfiledescriptor.html#fileDescriptor" translate="no">fileDescriptor</a>() and <a href="qdbusunixfiledescriptor.html#isValid" translate="no">isValid</a>().</p>
<!-- @@@QDBusUnixFileDescriptor -->
<!-- $$$QDBusUnixFileDescriptor$$$QDBusUnixFileDescriptorint -->
<h3 class="fn" translate="no" id="QDBusUnixFileDescriptor-1"><code class="details extra" translate="no">[explicit]</code> QDBusUnixFileDescriptor::<span class="name">QDBusUnixFileDescriptor</span>(<span class="type">int</span> <i>fileDescriptor</i>)</h3>
<p>Constructs a QDBusUnixFileDescriptor object by copying the <i translate="no">fileDescriptor</i> parameter. The original file descriptor is not touched and must be closed by the user.</p>
<p>Note that the value returned by <a href="qdbusunixfiledescriptor.html#fileDescriptor" translate="no">fileDescriptor</a>() will be different from the <i translate="no">fileDescriptor</i> parameter passed.</p>
<p>If the <i translate="no">fileDescriptor</i> parameter is not valid, <a href="qdbusunixfiledescriptor.html#isValid" translate="no">isValid</a>() will return false and <a href="qdbusunixfiledescriptor.html#fileDescriptor" translate="no">fileDescriptor</a>() will return -1.</p>
<p><b>See also </b><a href="qdbusunixfiledescriptor.html#setFileDescriptor" translate="no">setFileDescriptor</a>() and <a href="qdbusunixfiledescriptor.html#fileDescriptor" translate="no">fileDescriptor</a>().</p>
<!-- @@@QDBusUnixFileDescriptor -->
<!-- $$$QDBusUnixFileDescriptor$$$QDBusUnixFileDescriptorconstQDBusUnixFileDescriptor& -->
<h3 class="fn" translate="no" id="QDBusUnixFileDescriptor-2">QDBusUnixFileDescriptor::<span class="name">QDBusUnixFileDescriptor</span>(const <span class="type"><a href="qdbusunixfiledescriptor.html#QDBusUnixFileDescriptor" translate="no">QDBusUnixFileDescriptor</a></span> &amp;<i>other</i>)</h3>
<p>Constructs a QDBusUnixFileDescriptor object by copying <i translate="no">other</i>.</p>
<!-- @@@QDBusUnixFileDescriptor -->
<!-- $$$~QDBusUnixFileDescriptor[overload1]$$$~QDBusUnixFileDescriptor -->
<h3 class="fn" translate="no" id="dtor.QDBusUnixFileDescriptor"><code class="details extra" translate="no">[noexcept]</code> QDBusUnixFileDescriptor::<span class="name">~QDBusUnixFileDescriptor</span>()</h3>
<p>Destroys this <a href="qdbusunixfiledescriptor.html" translate="no">QDBusUnixFileDescriptor</a> object and disposes of the Unix file descriptor that it contained.</p>
<!-- @@@~QDBusUnixFileDescriptor -->
<!-- $$$fileDescriptor[overload1]$$$fileDescriptor -->
<h3 class="fn" translate="no" id="fileDescriptor"><span class="type">int</span> QDBusUnixFileDescriptor::<span class="name">fileDescriptor</span>() const</h3>
<p>Returns the Unix file descriptor contained by this <a href="qdbusunixfiledescriptor.html" translate="no">QDBusUnixFileDescriptor</a> object. An invalid file descriptor is represented by the value -1.</p>
<p>Note that the file descriptor returned by this function is owned by the <a href="qdbusunixfiledescriptor.html" translate="no">QDBusUnixFileDescriptor</a> object and must not be stored past the lifetime of this object. It is ok to use it while this object is valid, but if one wants to store it for longer use, the file descriptor should be cloned using the Unix <code translate="no">dup(2)</code>, <code translate="no">dup2(2)</code> or <code translate="no">dup3(2)</code> functions.</p>
<p><b>See also </b><a href="qdbusunixfiledescriptor.html#setFileDescriptor" translate="no">setFileDescriptor</a>() and <a href="qdbusunixfiledescriptor.html#isValid" translate="no">isValid</a>().</p>
<!-- @@@fileDescriptor -->
<!-- $$$isSupported[overload1]$$$isSupported -->
<h3 class="fn" translate="no" id="isSupported"><code class="details extra" translate="no">[static]</code> <span class="type">bool</span> QDBusUnixFileDescriptor::<span class="name">isSupported</span>()</h3>
<p>Returns <code translate="no">true</code> if Unix file descriptors are supported on this platform. In other words, this function returns <code translate="no">true</code> if this is a Unix platform.</p>
<p>Note that <a href="qdbusunixfiledescriptor.html" translate="no">QDBusUnixFileDescriptor</a> continues to operate even if this function returns <code translate="no">false</code>. The only difference is that the <a href="qdbusunixfiledescriptor.html" translate="no">QDBusUnixFileDescriptor</a> objects will always be in the <a href="qdbusunixfiledescriptor.html#isValid" translate="no">isValid</a>() == false state and <a href="qdbusunixfiledescriptor.html#fileDescriptor" translate="no">fileDescriptor</a>() will always return -1. The class will not consume any operating system resources.</p>
<!-- @@@isSupported -->
<!-- $$$isValid[overload1]$$$isValid -->
<h3 class="fn" translate="no" id="isValid"><span class="type">bool</span> QDBusUnixFileDescriptor::<span class="name">isValid</span>() const</h3>
<p>Returns <code translate="no">true</code> if this Unix file descriptor is valid. A valid Unix file descriptor is not -1.</p>
<p><b>See also </b><a href="qdbusunixfiledescriptor.html#fileDescriptor" translate="no">fileDescriptor</a>().</p>
<!-- @@@isValid -->
<!-- $$$setFileDescriptor[overload1]$$$setFileDescriptorint -->
<h3 class="fn" translate="no" id="setFileDescriptor"><span class="type">void</span> QDBusUnixFileDescriptor::<span class="name">setFileDescriptor</span>(<span class="type">int</span> <i>fileDescriptor</i>)</h3>
<p>Sets the file descriptor that this <a href="qdbusunixfiledescriptor.html" translate="no">QDBusUnixFileDescriptor</a> object holds to a copy of <i translate="no">fileDescriptor</i>. The original file descriptor is not touched and must be closed by the user.</p>
<p>Note that the value returned by <a href="qdbusunixfiledescriptor.html#fileDescriptor" translate="no">fileDescriptor</a>() will be different from the <i translate="no">fileDescriptor</i> parameter passed.</p>
<p>If the <i translate="no">fileDescriptor</i> parameter is not valid, <a href="qdbusunixfiledescriptor.html#isValid" translate="no">isValid</a>() will return false and <a href="qdbusunixfiledescriptor.html#fileDescriptor" translate="no">fileDescriptor</a>() will return -1.</p>
<p><b>See also </b><a href="qdbusunixfiledescriptor.html#isValid" translate="no">isValid</a>() and <a href="qdbusunixfiledescriptor.html#fileDescriptor" translate="no">fileDescriptor</a>().</p>
<!-- @@@setFileDescriptor -->
<!-- $$$swap[overload1]$$$swapQDBusUnixFileDescriptor& -->
<h3 class="fn" translate="no" id="swap"><code class="details extra" translate="no">[noexcept]</code> <span class="type">void</span> QDBusUnixFileDescriptor::<span class="name">swap</span>(<span class="type"><a href="qdbusunixfiledescriptor.html#QDBusUnixFileDescriptor" translate="no">QDBusUnixFileDescriptor</a></span> &amp;<i>other</i>)</h3>
<p>Swaps this file descriptor instance with <i translate="no">other</i>. This function is very fast and never fails.</p>
<!-- @@@swap -->
<!-- $$$operator=[overload1]$$$operator=QDBusUnixFileDescriptor&& -->
<h3 class="fn" translate="no" id="operator-eq"><code class="details extra" translate="no">[noexcept]</code> <span class="type"><a href="qdbusunixfiledescriptor.html#QDBusUnixFileDescriptor" translate="no">QDBusUnixFileDescriptor</a></span> &amp;QDBusUnixFileDescriptor::<span class="name">operator=</span>(<span class="type"><a href="qdbusunixfiledescriptor.html#QDBusUnixFileDescriptor" translate="no">QDBusUnixFileDescriptor</a></span> &amp;&amp;<i>other</i>)</h3>
<p>Move-assigns <i translate="no">other</i> to this <a href="qdbusunixfiledescriptor.html" translate="no">QDBusUnixFileDescriptor</a>.</p>
<!-- @@@operator= -->
<!-- $$$operator=$$$operator=constQDBusUnixFileDescriptor& -->
<h3 class="fn" translate="no" id="operator-eq-1"><span class="type"><a href="qdbusunixfiledescriptor.html#QDBusUnixFileDescriptor" translate="no">QDBusUnixFileDescriptor</a></span> &amp;QDBusUnixFileDescriptor::<span class="name">operator=</span>(const <span class="type"><a href="qdbusunixfiledescriptor.html#QDBusUnixFileDescriptor" translate="no">QDBusUnixFileDescriptor</a></span> &amp;<i>other</i>)</h3>
<p>Copies the Unix file descriptor from the <i translate="no">other</i> <a href="qdbusunixfiledescriptor.html" translate="no">QDBusUnixFileDescriptor</a> object. If the current object contained a file descriptor, it will be properly disposed of before.</p>
<!-- @@@operator= -->
</div>
        </div>
       </div>
   </div>
   </div>
</div>
<div class="footer">
   <p>
   <acronym title="Copyright">&copy;</acronym> 2024 <span translate="no">The Qt Company Ltd.</span>
   Documentation contributions included herein are the copyrights of
   their respective owners.<br/>    The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the <span translate="no">Free Software Foundation</span>.<br/>    <span translate="no">Qt</span> and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of <span translate="no">The Qt Company Ltd.</span> in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>
</div>
</body>
</html>
