<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
<!-- qvulkaninstance.cpp -->
  <meta name="description" content="The QVulkanInstance class represents a native Vulkan instance, enabling Vulkan rendering onto a QSurface.">
  <title>QVulkanInstance Class | Qt GUI 6.7.0</title>
  <link rel="stylesheet" type="text/css" href="style/offline-simple.css" />
  <script type="text/javascript">
    document.getElementsByTagName("link").item(0).setAttribute("href", "style/offline.css");
    // loading style sheet breaks anchors that were jumped to before
    // so force jumping to anchor again
    setTimeout(function() {
        var anchor = location.hash;
        // need to jump to different anchor first (e.g. none)
        location.hash = "#";
        setTimeout(function() {
            location.hash = anchor;
        }, 0);
    }, 0);
  </script>
</head>
<body>
<div class="header" id="qtdocheader">
    <div class="main">
    <div class="main-rounded">
        <div class="navigationbar">
        <ul>
<li><a href="../qtdoc/index.html" translate="no">Qt 6.7</a></li>
<li><a href="qtgui-index.html" translate="no">Qt GUI</a></li>
<li><a href="qtgui-module.html" translate="no">C++ Classes</a></li>
<li>QVulkanInstance</li>
<li id="buildversion"><a href="qtgui-index.html" translate="no">Qt 6.7.0 Reference Documentation</a></li>
    </ul>
    </div>
</div>
<div class="content">
<div class="line">
<div class="content mainContent">
<div class="sidebar">
<div class="toc">
<h3 id="toc">Contents</h3>
<ul>
<li class="level1"><a href="#public-types">Public Types</a></li>
<li class="level1"><a href="#public-functions">Public Functions</a></li>
<li class="level1"><a href="#static-public-members">Static Public Members</a></li>
<li class="level1"><a href="#details">Detailed Description</a></li>
<li class="level2"><a href="#initialization">Initialization</a></li>
<li class="level2"><a href="#configuration">Configuration</a></li>
<li class="level2"><a href="#adopting-an-existing-instance">Adopting an Existing Instance</a></li>
<li class="level2"><a href="#accessing-core-vulkan-commands">Accessing Core Vulkan Commands</a></li>
<li class="level2"><a href="#getting-a-native-vulkan-surface-for-a-window">Getting a Native Vulkan Surface for a Window</a></li>
<li class="level2"><a href="#troubleshooting">Troubleshooting</a></li>
<li class="level2"><a href="#example">Example</a></li>
<li class="level2"><a href="#using-c-bindings-for-vulkan">Using C++ Bindings for Vulkan</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<h1 class="title" translate="no">QVulkanInstance Class</h1>
<!-- $$$QVulkanInstance-brief -->
<p>The QVulkanInstance class represents a native Vulkan instance, enabling Vulkan rendering onto a <a href="qsurface.html" translate="no">QSurface</a>. <a href="#details">More...</a></p>
<!-- @@@QVulkanInstance -->
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> Header:</td><td class="memItemRight bottomAlign">  <span class="preprocessor">#include &lt;QVulkanInstance&gt;</span></td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> CMake:</td><td class="memItemRight bottomAlign"> find_package(Qt6 REQUIRED COMPONENTS Gui) <br/>
target_link_libraries(mytarget PRIVATE Qt6::Gui)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> qmake:</td><td class="memItemRight bottomAlign"> QT += gui</td></tr>
</table></div>
<ul>
<li><a href="qvulkaninstance-members.html">List of all members, including inherited members</a></li>
<li>QVulkanInstance is part of <a href="painting-3d.html">Rendering in 3D</a>.</li>
</ul>
<h2 id="public-types">Public Types</h2>
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qvulkaninstance.html#DebugFilter-typedef" translate="no">DebugFilter</a></b></td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> <code class="summary extra" translate="no">(since 6.5)</code> enum </td><td class="memItemRight bottomAlign"><b><a href="qvulkaninstance.html#DebugMessageSeverityFlag-enum" translate="no">DebugMessageSeverityFlag</a></b> { VerboseSeverity, InfoSeverity, WarningSeverity, ErrorSeverity }</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> flags </td><td class="memItemRight bottomAlign"><b><a href="qvulkaninstance.html#DebugMessageSeverityFlag-enum" translate="no">DebugMessageSeverityFlags</a></b></td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> <code class="summary extra" translate="no">(since 6.5)</code> enum </td><td class="memItemRight bottomAlign"><b><a href="qvulkaninstance.html#DebugMessageTypeFlag-enum" translate="no">DebugMessageTypeFlag</a></b> { GeneralMessage, ValidationMessage, PerformanceMessage }</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> flags </td><td class="memItemRight bottomAlign"><b><a href="qvulkaninstance.html#DebugMessageTypeFlag-enum" translate="no">DebugMessageTypeFlags</a></b></td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> <code class="summary extra" translate="no">(since 6.5)</code> </td><td class="memItemRight bottomAlign"><b><a href="qvulkaninstance.html#DebugUtilsFilter-typedef" translate="no">DebugUtilsFilter</a></b></td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> enum </td><td class="memItemRight bottomAlign"><b><a href="qvulkaninstance.html#Flag-enum" translate="no">Flag</a></b> { NoDebugOutputRedirect, NoPortabilityDrivers }</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> flags </td><td class="memItemRight bottomAlign"><b><a href="qvulkaninstance.html#Flag-enum" translate="no">Flags</a></b></td></tr>
</table></div>
<h2 id="public-functions">Public Functions</h2>
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qvulkaninstance.html#QVulkanInstance" translate="no">QVulkanInstance</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qvulkaninstance.html#dtor.QVulkanInstance" translate="no">~QVulkanInstance</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QVersionNumber </td><td class="memItemRight bottomAlign"><b><a href="qvulkaninstance.html#apiVersion" translate="no">apiVersion</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> <code class="summary extra" translate="no">(since 6.5)</code> void </td><td class="memItemRight bottomAlign"><b><a href="qvulkaninstance.html#clearDebugOutputFilters" translate="no">clearDebugOutputFilters</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qvulkaninstance.html#create" translate="no">create</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qvulkaninstance.html#destroy" translate="no">destroy</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QVulkanDeviceFunctions *</td><td class="memItemRight bottomAlign"><b><a href="qvulkaninstance.html#deviceFunctions" translate="no">deviceFunctions</a></b>(VkDevice <i>device</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> VkResult </td><td class="memItemRight bottomAlign"><b><a href="qvulkaninstance.html#errorCode" translate="no">errorCode</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QByteArrayList </td><td class="memItemRight bottomAlign"><b><a href="qvulkaninstance.html#extensions" translate="no">extensions</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QVulkanInstance::Flags </td><td class="memItemRight bottomAlign"><b><a href="qvulkaninstance.html#flags" translate="no">flags</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QVulkanFunctions *</td><td class="memItemRight bottomAlign"><b><a href="qvulkaninstance.html#functions" translate="no">functions</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> PFN_vkVoidFunction </td><td class="memItemRight bottomAlign"><b><a href="qvulkaninstance.html#getInstanceProcAddr" translate="no">getInstanceProcAddr</a></b>(const char *<i>name</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> <code class="summary extra" translate="no">(since 6.5)</code> void </td><td class="memItemRight bottomAlign"><b><a href="qvulkaninstance.html#installDebugOutputFilter" translate="no">installDebugOutputFilter</a></b>(QVulkanInstance::DebugUtilsFilter <i>filter</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qvulkaninstance.html#installDebugOutputFilter-1" translate="no">installDebugOutputFilter</a></b>(QVulkanInstance::DebugFilter <i>filter</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qvulkaninstance.html#isValid" translate="no">isValid</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QByteArrayList </td><td class="memItemRight bottomAlign"><b><a href="qvulkaninstance.html#layers" translate="no">layers</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qvulkaninstance.html#presentAboutToBeQueued" translate="no">presentAboutToBeQueued</a></b>(QWindow *<i>window</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qvulkaninstance.html#presentQueued" translate="no">presentQueued</a></b>(QWindow *<i>window</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qvulkaninstance.html#removeDebugOutputFilter" translate="no">removeDebugOutputFilter</a></b>(QVulkanInstance::DebugFilter <i>filter</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qvulkaninstance.html#resetDeviceFunctions" translate="no">resetDeviceFunctions</a></b>(VkDevice <i>device</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qvulkaninstance.html#setApiVersion" translate="no">setApiVersion</a></b>(const QVersionNumber &amp;<i>vulkanVersion</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qvulkaninstance.html#setExtensions" translate="no">setExtensions</a></b>(const QByteArrayList &amp;<i>extensions</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qvulkaninstance.html#setFlags" translate="no">setFlags</a></b>(QVulkanInstance::Flags <i>flags</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qvulkaninstance.html#setLayers" translate="no">setLayers</a></b>(const QByteArrayList &amp;<i>layers</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qvulkaninstance.html#setVkInstance" translate="no">setVkInstance</a></b>(VkInstance <i>existingVkInstance</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QVersionNumber </td><td class="memItemRight bottomAlign"><b><a href="qvulkaninstance.html#supportedApiVersion" translate="no">supportedApiVersion</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QVulkanInfoVector&lt;QVulkanExtension&gt; </td><td class="memItemRight bottomAlign"><b><a href="qvulkaninstance.html#supportedExtensions-1" translate="no">supportedExtensions</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QVulkanInfoVector&lt;QVulkanLayer&gt; </td><td class="memItemRight bottomAlign"><b><a href="qvulkaninstance.html#supportedLayers-1" translate="no">supportedLayers</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qvulkaninstance.html#supportsPresent" translate="no">supportsPresent</a></b>(VkPhysicalDevice <i>physicalDevice</i>, uint32_t <i>queueFamilyIndex</i>, QWindow *<i>window</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> VkInstance </td><td class="memItemRight bottomAlign"><b><a href="qvulkaninstance.html#vkInstance" translate="no">vkInstance</a></b>() const</td></tr>
</table></div>
<h2 id="static-public-members">Static Public Members</h2>
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> VkSurfaceKHR </td><td class="memItemRight bottomAlign"><b><a href="qvulkaninstance.html#surfaceForWindow" translate="no">surfaceForWindow</a></b>(QWindow *<i>window</i>)</td></tr>
</table></div>
<!-- $$$QVulkanInstance-description -->
<div class="descr">
<h2 id="details">Detailed Description</h2>
<p><a href="https://www.khronos.org/vulkan/" translate="no">Vulkan</a> is a cross-platform, explicit graphics and compute API. This class provides support for loading a Vulkan library and creating an <code translate="no">instance</code> in a cross-platform manner. For an introduction on Vulkan instances, refer <a href="https://www.khronos.org/registry/vulkan/specs/1.0/html/vkspec.html#initialization-instances" translate="no">to section 3.2 of the specification</a>.</p>
<div class="admonition note">
<p><b>Note: </b>Platform-specific support for Vulkan instances and windows with Vulkan-capable surfaces is provided by the various platform plugins. Not all of them will support Vulkan, however. When running on such a platform, <a href="qvulkaninstance.html#create" translate="no">create</a>() will fail and always return <code translate="no">false</code>.</p>
</div>
<div class="admonition note">
<p><b>Note: </b>Vulkan support may get automatically disabled for a given Qt build due to not having the necessary Vulkan headers available at build time. When this is the case, and the output of <code translate="no">configure</code> indicates Vulkan support is disabled, the QVulkan* classes will be unavailable.</p>
</div>
<div class="admonition note">
<p><b>Note: </b>Some functions changed their signature between the various Vulkan header revisions. When building Qt and only headers with the old, conflicting signatures are present in a system, Vulkan support will get disabled. It is recommended to use headers from Vulkan 1.0.39 or newer.</p>
</div>
<h3 id="initialization">Initialization</h3>
<p>Similarly to <a href="qopenglcontext.html" translate="no">QOpenGLContext</a>, any actual Vulkan instance creation happens only when calling <a href="qvulkaninstance.html#create" translate="no">create</a>(). This allows using QVulkanInstance as a plain member variable while retaining control over when to perform initialization.</p>
<p>Querying the supported instance-level layers and extensions is possible by calling <a href="qvulkaninstance.html#supportedLayers-1" translate="no">supportedLayers</a>() and <a href="qvulkaninstance.html#supportedExtensions-1" translate="no">supportedExtensions</a>(). These ensure the Vulkan library is loaded, and can therefore be called safely before <a href="qvulkaninstance.html#create" translate="no">create</a>() as well.</p>
<p>Instances store per-application Vulkan state and creating a <code translate="no">VkInstance</code> object initializes the Vulkan library. In practice there will typically be a single instance constructed early on in main(). The object then stays alive until exiting the application.</p>
<p>Every Vulkan-based <a href="qwindow.html" translate="no">QWindow</a> must be associated with a QVulkanInstance by calling <a href="qwindow.html#setVulkanInstance" translate="no">QWindow::setVulkanInstance</a>(). Thus a typical application pattern is the following:</p>
<pre class="cpp" translate="no">
     <span class="type">int</span> main(<span class="type">int</span> argc<span class="operator">,</span> <span class="type">char</span> <span class="operator">*</span><span class="operator">*</span>argv)
     {
         <span class="type"><a href="qguiapplication.html" translate="no">QGuiApplication</a></span> app(argc<span class="operator">,</span> argv);

         <span class="type"><a href="qvulkaninstance.html#QVulkanInstance" translate="no">QVulkanInstance</a></span> inst;
         <span class="keyword">if</span> (<span class="operator">!</span>inst<span class="operator">.</span>create())
             <span class="keyword">return</span> <span class="number">1</span>;

         <span class="comment">// ...</span>
         window<span class="operator">-</span><span class="operator">&gt;</span>setVulkanInstance(<span class="operator">&amp;</span>inst);
         window<span class="operator">-</span><span class="operator">&gt;</span>show();

         <span class="keyword">return</span> app<span class="operator">.</span>exec();
     }
</pre>
<h3 id="configuration">Configuration</h3>
<p>QVulkanInstance automatically enables the minimum set of extensions it needs on the newly created instance. In practice this means the <code translate="no">VK_KHR_*_surface</code> family of extensions.</p>
<p>By default Vulkan debug output, for example messages from the validation layers, is routed to <a href="../qtcore/qtlogging.html#qDebug" translate="no">qDebug</a>(). This can be disabled by passing the flag <code translate="no">NoDebugOutputRedirect</code> to <a href="qvulkaninstance.html#setFlags" translate="no">setFlags</a>() <i>before</i> invoking <a href="qvulkaninstance.html#create" translate="no">create</a>().</p>
<p>To enable additional layers and extensions, provide the list via <a href="qvulkaninstance.html#setLayers" translate="no">setLayers</a>() and <a href="qvulkaninstance.html#setExtensions" translate="no">setExtensions</a>() <i>before</i> invoking <a href="qvulkaninstance.html#create" translate="no">create</a>(). When a given layer or extension is not reported as available from the instance, the request is ignored. After a successful call to <a href="qvulkaninstance.html#create" translate="no">create</a>(), the values returned from functions like <a href="qvulkaninstance.html#layers" translate="no">layers</a>() and <a href="qvulkaninstance.html#extensions" translate="no">extensions</a>() reflect the actual enabled layers and extensions. When necessary, for example to avoid requesting extensions that conflict and thus would fail the Vulkan instance creation, the list of actually supported layers and extensions can be examined via <a href="qvulkaninstance.html#supportedLayers-1" translate="no">supportedLayers</a>() and <a href="qvulkaninstance.html#supportedExtensions-1" translate="no">supportedExtensions</a>() before calling <a href="qvulkaninstance.html#create" translate="no">create</a>().</p>
<p>For example, to enable the standard validation layers, one could do the following:</p>
<pre class="cpp" translate="no">
     <span class="type"><a href="qvulkaninstance.html#QVulkanInstance" translate="no">QVulkanInstance</a></span> inst;

     <span class="comment">// Enable validation layer, if supported. Messages go to qDebug by default.</span>
     inst<span class="operator">.</span>setLayers({ <span class="string">&quot;VK_LAYER_KHRONOS_validation&quot;</span> });

     <span class="type">bool</span> ok <span class="operator">=</span> inst<span class="operator">.</span>create();
     <span class="keyword">if</span> (<span class="operator">!</span>ok) {
         <span class="comment">// ... Vulkan not available</span>
     }

     <span class="keyword">if</span> (<span class="operator">!</span>inst<span class="operator">.</span>layers()<span class="operator">.</span>contains(<span class="string">&quot;VK_LAYER_KHRONOS_validation&quot;</span>)) {
         <span class="comment">// ... validation layer not available</span>
     }
</pre>
<p>Or, alternatively, to make decisions before attempting to create a Vulkan instance:</p>
<pre class="cpp" translate="no">
     <span class="type"><a href="qvulkaninstance.html#QVulkanInstance" translate="no">QVulkanInstance</a></span> inst;

     <span class="keyword">if</span> (inst<span class="operator">.</span>supportedLayers()<span class="operator">.</span>contains(<span class="string">&quot;VK_LAYER_KHRONOS_validation&quot;</span>)) {
         <span class="comment">// ...</span>
     }
     <span class="type">bool</span> ok <span class="operator">=</span> inst<span class="operator">.</span>create();
     <span class="comment">// ...</span>
</pre>
<h3 id="adopting-an-existing-instance">Adopting an Existing Instance</h3>
<p>By default QVulkanInstance creates a new Vulkan instance. When working with external engines and renderers, this may sometimes not be desirable. When there is a <code translate="no">VkInstance</code> handle already available, call <a href="qvulkaninstance.html#setVkInstance" translate="no">setVkInstance</a>() before invoking <a href="qvulkaninstance.html#create" translate="no">create</a>(). This way no additional instances will get created, and QVulkanInstance will not own the handle.</p>
<div class="admonition note">
<p><b>Note: </b>It is up to the component creating the external instance to ensure the necessary extensions are enabled on it. These are: <code translate="no">VK_KHR_surface</code>, the WSI-specific <code translate="no">VK_KHR_*_surface</code> that is appropriate for the platform in question, and <code translate="no">VK_EXT_debug_utils</code> in case QVulkanInstance's debug output redirection is desired.</p>
</div>
<h3 id="accessing-core-vulkan-commands">Accessing Core Vulkan Commands</h3>
<p>To access the <code translate="no">VkInstance</code> handle the QVulkanInstance wraps, call <a href="qvulkaninstance.html#vkInstance" translate="no">vkInstance</a>(). To resolve Vulkan functions, call <a href="qvulkaninstance.html#getInstanceProcAddr" translate="no">getInstanceProcAddr</a>(). For core Vulkan commands manual resolving is not necessary as they are provided via the <a href="qvulkanfunctions.html" translate="no">QVulkanFunctions</a> and <a href="qvulkandevicefunctions.html" translate="no">QVulkanDeviceFunctions</a> objects accessible via <a href="qvulkaninstance.html#functions" translate="no">functions</a>() and <a href="qvulkaninstance.html#deviceFunctions" translate="no">deviceFunctions</a>().</p>
<div class="admonition note">
<p><b>Note: </b><a href="qvulkanfunctions.html" translate="no">QVulkanFunctions</a> and <a href="qvulkandevicefunctions.html" translate="no">QVulkanDeviceFunctions</a> are generated from the Vulkan API XML specifications when building the Qt libraries. Therefore no documentation is provided for them. They contain the Vulkan 1.2 functions with the same signatures as described in the <a href="https://www.khronos.org/registry/vulkan/specs/1.2/html/" translate="no">Vulkan API documentation</a>.</p>
</div>
<h3 id="getting-a-native-vulkan-surface-for-a-window">Getting a Native Vulkan Surface for a Window</h3>
<p>The two common windowing system specific operations are getting a surface (a <code translate="no">VkSurfaceKHR</code> handle) for a window, and querying if a given queue family supports presenting to a given surface. To avoid WSI-specific bits in the applications, these are abstracted by QVulkanInstance and the underlying QPA layers.</p>
<p>To create a Vulkan surface for a window, or retrieve an existing one, call <a href="qvulkaninstance.html#surfaceForWindow" translate="no">surfaceForWindow</a>(). Most platforms will only create the surface via <code translate="no">VK_KHR_*_surface</code> when first calling <a href="qvulkaninstance.html#surfaceForWindow" translate="no">surfaceForWindow</a>(), but there may be platform-specific variations in the internal behavior. Once created, subsequent calls to <a href="qvulkaninstance.html#surfaceForWindow" translate="no">surfaceForWindow</a>() just return the same handle. This fits the structure of typical Vulkan-enabled <a href="qwindow.html" translate="no">QWindow</a> subclasses well.</p>
<p>To query if a given queue family within a physical device can be used to perform presentation to a given surface, call <a href="qvulkaninstance.html#supportsPresent" translate="no">supportsPresent</a>(). This encapsulates both the generic <code translate="no">vkGetPhysicalDeviceSurfaceSupportKHR</code> and the WSI-specific <code translate="no">vkGetPhysicalDevice*PresentationSupportKHR</code> checks.</p>
<h3 id="troubleshooting">Troubleshooting</h3>
<p>Besides returning <code translate="no">false</code> from <a href="qvulkaninstance.html#create" translate="no">create</a>() or <code translate="no">0</code> from <a href="qvulkaninstance.html#surfaceForWindow" translate="no">surfaceForWindow</a>(), critical errors will also get printed to the debug output via <a href="../qtcore/qtlogging.html#qWarning" translate="no">qWarning</a>(). Additional logging can be requested by enabling debug output for the logging category <code translate="no">qt.vulkan</code>. The actual Vulkan error code from instance creation can be retrieved by calling <a href="qvulkaninstance.html#errorCode" translate="no">errorCode</a>() after a failing <a href="qvulkaninstance.html#create" translate="no">create</a>().</p>
<p>In some special cases it may be necessary to override the Vulkan library name. This can be achieved by setting the <code translate="no">QT_VULKAN_LIB</code> environment variable.</p>
<h3 id="example">Example</h3>
<p>The following is the basic outline of creating a Vulkan-capable <a href="qwindow.html" translate="no">QWindow</a>:</p>
<pre class="cpp" translate="no">
 <span class="keyword">class</span> VulkanWindow : <span class="keyword">public</span> <span class="type"><a href="qwindow.html" translate="no">QWindow</a></span>
 {
 <span class="keyword">public</span>:
     VulkanWindow() {
         setSurfaceType(VulkanSurface);
     }

     <span class="type">void</span> exposeEvent(<span class="type"><a href="qexposeevent.html" translate="no">QExposeEvent</a></span> <span class="operator">*</span>) {
         <span class="keyword">if</span> (isExposed()) {
             <span class="keyword">if</span> (<span class="operator">!</span>m_initialized) {
                 m_initialized <span class="operator">=</span> <span class="keyword">true</span>;
                 <span class="comment">// initialize device, swapchain, etc.</span>
                 <span class="type"><a href="qvulkaninstance.html#QVulkanInstance" translate="no">QVulkanInstance</a></span> <span class="operator">*</span>inst <span class="operator">=</span> vulkanInstance();
                 <span class="type"><a href="qvulkanfunctions.html" translate="no">QVulkanFunctions</a></span> <span class="operator">*</span>f <span class="operator">=</span> inst<span class="operator">-</span><span class="operator">&gt;</span>functions();
                 uint32_t devCount <span class="operator">=</span> <span class="number">0</span>;
                 f<span class="operator">-</span><span class="operator">&gt;</span>vkEnumeratePhysicalDevices(inst<span class="operator">-</span><span class="operator">&gt;</span>vkInstance()<span class="operator">,</span> <span class="operator">&amp;</span>devCount<span class="operator">,</span> nullptr);
                 <span class="comment">// ...</span>
                 <span class="comment">// build the first frame</span>
                 render();
             }
         }
     }

     <span class="type">bool</span> event(<span class="type"><a href="../qtcore/qevent.html" translate="no">QEvent</a></span> <span class="operator">*</span>e) {
         <span class="keyword">if</span> (e<span class="operator">-</span><span class="operator">&gt;</span>type() <span class="operator">=</span><span class="operator">=</span> <span class="type"><a href="../qtcore/qevent.html" translate="no">QEvent</a></span><span class="operator">::</span>UpdateRequest)
             render();
         <span class="keyword">return</span> <span class="type"><a href="qwindow.html" translate="no">QWindow</a></span><span class="operator">::</span>event(e);
     }

     <span class="type">void</span> render() {
        <span class="comment">// ...</span>
        requestUpdate(); <span class="comment">// render continuously</span>
     }

 <span class="keyword">private</span>:
     <span class="type">bool</span> m_initialized <span class="operator">=</span> <span class="keyword">false</span>;
 };

 <span class="type">int</span> main(<span class="type">int</span> argc<span class="operator">,</span> <span class="type">char</span> <span class="operator">*</span><span class="operator">*</span>argv)
 {
     <span class="type"><a href="qguiapplication.html" translate="no">QGuiApplication</a></span> app(argc<span class="operator">,</span> argv);

     <span class="type"><a href="qvulkaninstance.html#QVulkanInstance" translate="no">QVulkanInstance</a></span> inst;
     <span class="keyword">if</span> (<span class="operator">!</span>inst<span class="operator">.</span>create()) {
         <a href="../qtcore/qtlogging.html#qWarning" translate="no">qWarning</a>(<span class="string">&quot;Vulkan not available&quot;</span>);
         <span class="keyword">return</span> <span class="number">1</span>;
     }

     VulkanWindow window;
     window<span class="operator">.</span>showMaximized();

     <span class="keyword">return</span> app<span class="operator">.</span>exec();

 }
</pre>
<div class="admonition note">
<p><b>Note: </b>In addition to expose, a well-behaving window implementation will also have to take care of additional events like resize and <a href="qplatformsurfaceevent.html" translate="no">QPlatformSurfaceEvent</a> in order to ensure proper management of the swap chain. Additionally, some platforms may require releasing resources when not being exposed anymore.</p>
</div>
<h3 id="using-c-bindings-for-vulkan">Using C++ Bindings for Vulkan</h3>
<p>Combining Qt's Vulkan enablers with a C++ Vulkan wrapper, for example <a href="https://github.com/KhronosGroup/Vulkan-Hpp" translate="no">Vulkan-Hpp</a>, is possible as well. The pre-requisite here is that the C++ layer must be able to adopt native handles (VkInstance, VkSurfaceKHR) in its classes without taking ownership (since the ownership stays with QVulkanInstance and <a href="qwindow.html" translate="no">QWindow</a>). Consider also the following:</p>
<ul>
<li>Some wrappers require exception support to be enabled. Qt does not use exceptions. To enable exceptions for the application, add <code translate="no">CONFIG += exceptions</code> to the <code translate="no">.pro</code> file.</li>
<li>Some wrappers call Vulkan functions directly, assuming <code translate="no">vulkan.h</code> provides prototypes and the application links to a Vulkan library exporting all necessary symbols. Qt may not directly link to a Vulkan library. Therefore, on some platforms it may be necessary to add <code translate="no">LIBS += -lvulkan</code> or similar in the application's <code translate="no">.pro</code> file.</li>
<li>The headers for the QVulkan classes may include <code translate="no">vulkan.h</code> with <code translate="no">VK_NO_PROTOTYPES</code> enabled. This can cause issues in C++ wrapper headers that rely on the prototypes. Hence in application code it may be necessary to include <code translate="no">vulkan.hpp</code> or similar before any of the QVulkan headers.</li>
</ul>
</div>
<p><b>See also </b><a href="qvulkanfunctions.html" translate="no">QVulkanFunctions</a> and <a href="qsurface.html#SurfaceType-enum" translate="no">QSurface::SurfaceType</a>.</p>
<!-- @@@QVulkanInstance -->
<div class="types">
<h2>Member Type Documentation</h2>
<!-- $$$DebugFilter -->
<h3 class="fn" translate="no" id="DebugFilter-typedef">QVulkanInstance::<span class="name">DebugFilter</span></h3>
<p>Typedef for debug filtering callback functions, with the following signature:</p>
<pre class="cpp" translate="no">
 <span class="type">bool</span> myDebugFilter(VkDebugReportFlagsEXT flags<span class="operator">,</span> VkDebugReportObjectTypeEXT objectType<span class="operator">,</span> uint64_t object<span class="operator">,</span>
                    size_t location<span class="operator">,</span> int32_t messageCode<span class="operator">,</span> <span class="keyword">const</span> <span class="type">char</span> <span class="operator">*</span>pLayerPrefix<span class="operator">,</span> <span class="keyword">const</span> <span class="type">char</span> <span class="operator">*</span>pMessage)
</pre>
<p>Returning <code translate="no">true</code> suppresses the printing of the message.</p>
<div class="admonition note">
<p><b>Note: </b>Starting with Qt 6.5 <code translate="no">VK_EXT_debug_utils</code> is used instead of the deprecated <code translate="no">VK_EXT_debug_report</code>. The callback signature is based on VK_EXT_debug_report. Therefore, not all arguments can be expected to be valid anymore. Avoid relying on arguments other than <code translate="no">pMessage</code>, <code translate="no">messageCode</code>, and <code translate="no">object</code>. Applications wishing to access all the callback data as specified in VK_EXT_debug_utils should migrate to <a href="qvulkaninstance.html#DebugUtilsFilter-typedef" translate="no">DebugUtilsFilter</a>.</p>
</div>
<p><b>See also </b><a href="qvulkaninstance.html#installDebugOutputFilter" translate="no">installDebugOutputFilter</a>() and <a href="qvulkaninstance.html#removeDebugOutputFilter" translate="no">removeDebugOutputFilter</a>().</p>
<!-- @@@DebugFilter -->
<!-- $$$DebugMessageSeverityFlag$$$VerboseSeverity$$$InfoSeverity$$$WarningSeverity$$$ErrorSeverity -->
<h3 class="flags" id="DebugMessageSeverityFlag-enum"><code class="details extra" translate="no">[since 6.5]</code> enum QVulkanInstance::<span class="name">DebugMessageSeverityFlag</span><br/>flags QVulkanInstance::<span class="name">DebugMessageSeverityFlags</span></h3>
<div class="table"><table class="valuelist"><tr><th class="tblConst">Constant</th><th class="tblVal">Value</th></tr>
<tr><td class="topAlign"><code translate="no">QVulkanInstance::VerboseSeverity</code></td><td class="topAlign tblval"><code translate="no">0x01</code></td></tr>
<tr><td class="topAlign"><code translate="no">QVulkanInstance::InfoSeverity</code></td><td class="topAlign tblval"><code translate="no">0x02</code></td></tr>
<tr><td class="topAlign"><code translate="no">QVulkanInstance::WarningSeverity</code></td><td class="topAlign tblval"><code translate="no">0x04</code></td></tr>
<tr><td class="topAlign"><code translate="no">QVulkanInstance::ErrorSeverity</code></td><td class="topAlign tblval"><code translate="no">0x08</code></td></tr>
</table></div>
<p>This enum was introduced in Qt 6.5.</p>
<p>The DebugMessageSeverityFlags type is a typedef for <a href="../qtcore/qflags.html">QFlags</a>&lt;DebugMessageSeverityFlag&gt;. It stores an OR combination of DebugMessageSeverityFlag values.</p>
<!-- @@@DebugMessageSeverityFlag -->
<!-- $$$DebugMessageTypeFlag$$$GeneralMessage$$$ValidationMessage$$$PerformanceMessage -->
<h3 class="flags" id="DebugMessageTypeFlag-enum"><code class="details extra" translate="no">[since 6.5]</code> enum QVulkanInstance::<span class="name">DebugMessageTypeFlag</span><br/>flags QVulkanInstance::<span class="name">DebugMessageTypeFlags</span></h3>
<div class="table"><table class="valuelist"><tr><th class="tblConst">Constant</th><th class="tblVal">Value</th></tr>
<tr><td class="topAlign"><code translate="no">QVulkanInstance::GeneralMessage</code></td><td class="topAlign tblval"><code translate="no">0x01</code></td></tr>
<tr><td class="topAlign"><code translate="no">QVulkanInstance::ValidationMessage</code></td><td class="topAlign tblval"><code translate="no">0x02</code></td></tr>
<tr><td class="topAlign"><code translate="no">QVulkanInstance::PerformanceMessage</code></td><td class="topAlign tblval"><code translate="no">0x04</code></td></tr>
</table></div>
<p>This enum was introduced in Qt 6.5.</p>
<p>The DebugMessageTypeFlags type is a typedef for <a href="../qtcore/qflags.html">QFlags</a>&lt;DebugMessageTypeFlag&gt;. It stores an OR combination of DebugMessageTypeFlag values.</p>
<!-- @@@DebugMessageTypeFlag -->
<!-- $$$DebugUtilsFilter -->
<h3 class="fn" translate="no" id="DebugUtilsFilter-typedef"><code class="details extra" translate="no">[alias, since 6.5]</code> QVulkanInstance::<span class="name">DebugUtilsFilter</span></h3>
<p>Typedef for debug filtering callback functions, with the following signature:</p>
<pre class="cpp" translate="no">
 std<span class="operator">::</span>function<span class="operator">&lt;</span><span class="type">bool</span>(DebugMessageSeverityFlags severity<span class="operator">,</span> DebugMessageTypeFlags type<span class="operator">,</span> <span class="keyword">const</span> <span class="type">void</span> <span class="operator">*</span>message)<span class="operator">&gt;</span>;
</pre>
<p>The <code translate="no">message</code> argument is a pointer to the VkDebugUtilsMessengerCallbackDataEXT structure. Refer to the documentation of <code translate="no">VK_EXT_debug_utils</code> for details. The Qt headers do not use the real type in order to avoid introducing a dependency on post-1.0 Vulkan headers.</p>
<p>Returning <code translate="no">true</code> suppresses the printing of the message.</p>
<p>This typedef was introduced in Qt 6.5.</p>
<p><b>See also </b><a href="qvulkaninstance.html#installDebugOutputFilter" translate="no">installDebugOutputFilter</a>() and <a href="qvulkaninstance.html#removeDebugOutputFilter" translate="no">removeDebugOutputFilter</a>().</p>
<!-- @@@DebugUtilsFilter -->
<!-- $$$Flag$$$NoDebugOutputRedirect$$$NoPortabilityDrivers -->
<h3 class="flags" id="Flag-enum">enum QVulkanInstance::<span class="name">Flag</span><br/>flags QVulkanInstance::<span class="name">Flags</span></h3>
<p>This enum describes the flags that can be passed to <a href="qvulkaninstance.html#setFlags" translate="no">setFlags</a>(). These control the behavior of <a href="qvulkaninstance.html#create" translate="no">create</a>().</p>
<div class="table"><table class="valuelist"><tr valign="top" class="odd"><th class="tblConst">Constant</th><th class="tblval">Value</th><th class="tbldscr">Description</th></tr>
<tr><td class="topAlign"><code translate="no">QVulkanInstance::NoDebugOutputRedirect</code></td><td class="topAlign tblval"><code translate="no">0x01</code></td><td class="topAlign">Disables Vulkan debug output (<code translate="no">VK_EXT_debug_utils</code>) redirection to <a href="../qtcore/qtlogging.html#qDebug" translate="no">qDebug</a>.</td></tr>
<tr><td class="topAlign"><code translate="no">QVulkanInstance::NoPortabilityDrivers (since Qt 6.5)</code></td><td class="topAlign tblval"><code translate="no">0x02</code></td><td class="topAlign">Disables enumerating physical devices marked as Vulkan Portability.</td></tr>
</table></div>
<p>The Flags type is a typedef for <a href="../qtcore/qflags.html">QFlags</a>&lt;Flag&gt;. It stores an OR combination of Flag values.</p>
<!-- @@@Flag -->
</div>
<div class="func">
<h2>Member Function Documentation</h2>
<!-- $$$QVulkanInstance[overload1]$$$QVulkanInstance -->
<h3 class="fn" translate="no" id="QVulkanInstance">QVulkanInstance::<span class="name">QVulkanInstance</span>()</h3>
<p>Constructs a new instance.</p>
<div class="admonition note">
<p><b>Note: </b>No Vulkan initialization is performed in the constructor.</p>
</div>
<!-- @@@QVulkanInstance -->
<!-- $$$~QVulkanInstance[overload1]$$$~QVulkanInstance -->
<h3 class="fn" translate="no" id="dtor.QVulkanInstance"><code class="details extra" translate="no">[noexcept]</code> QVulkanInstance::<span class="name">~QVulkanInstance</span>()</h3>
<p>Destructor.</p>
<div class="admonition note">
<p><b>Note: </b><a href="qvulkaninstance.html#vkInstance" translate="no">vkInstance</a>() will return <code translate="no">nullptr</code> once the instance is destroyed.</p>
</div>
<!-- @@@~QVulkanInstance -->
<!-- $$$apiVersion[overload1]$$$apiVersion -->
<h3 class="fn" translate="no" id="apiVersion"><span class="type"><a href="../qtcore/qversionnumber.html" translate="no">QVersionNumber</a></span> QVulkanInstance::<span class="name">apiVersion</span>() const</h3>
<p>Returns the requested Vulkan API version against which the application expects to run, or a null version number if <a href="qvulkaninstance.html#setApiVersion" translate="no">setApiVersion</a>() was not called before <a href="qvulkaninstance.html#create" translate="no">create</a>().</p>
<p><b>See also </b><a href="qvulkaninstance.html#setApiVersion" translate="no">setApiVersion</a>().</p>
<!-- @@@apiVersion -->
<!-- $$$clearDebugOutputFilters[overload1]$$$clearDebugOutputFilters -->
<h3 class="fn" translate="no" id="clearDebugOutputFilters"><code class="details extra" translate="no">[since 6.5]</code> <span class="type">void</span> QVulkanInstance::<span class="name">clearDebugOutputFilters</span>()</h3>
<p>Removes all filter functions installed previously by <a href="qvulkaninstance.html#installDebugOutputFilter" translate="no">installDebugOutputFilter</a>().</p>
<div class="admonition note">
<p><b>Note: </b>This function can be called before <a href="qvulkaninstance.html#create" translate="no">create</a>().</p>
</div>
<p>This function was introduced in Qt 6.5.</p>
<p><b>See also </b><a href="qvulkaninstance.html#installDebugOutputFilter" translate="no">installDebugOutputFilter</a>().</p>
<!-- @@@clearDebugOutputFilters -->
<!-- $$$create[overload1]$$$create -->
<h3 class="fn" translate="no" id="create"><span class="type">bool</span> QVulkanInstance::<span class="name">create</span>()</h3>
<p>Initializes the Vulkan library and creates a new or adopts and existing Vulkan instance.</p>
<p>Returns true if successful, false on error or when Vulkan is not supported.</p>
<p>When successful, the pointer to this <a href="qvulkaninstance.html" translate="no">QVulkanInstance</a> is retrievable via <a href="qvulkaninstance.html#vkInstance" translate="no">vkInstance</a>().</p>
<p>The Vulkan instance and library is available as long as this <a href="qvulkaninstance.html" translate="no">QVulkanInstance</a> exists, or until <a href="qvulkaninstance.html#destroy" translate="no">destroy</a>() is called.</p>
<p>By default the VkInstance is created with the flag <a href="https://registry.khronos.org/vulkan/specs/1.3-extensions/man/html/VkInstanceCreateFlagBits.html" translate="no">VK_INSTANCE_CREATE_ENUMERATE_PORTABILITY_BIT_KHR</a> set. This means that Vulkan Portability physical devices get enumerated as well. If this is not desired, set the <a href="qvulkaninstance.html#Flag-enum" translate="no">NoPortabilityDrivers</a> flag.</p>
<!-- @@@create -->
<!-- $$$destroy[overload1]$$$destroy -->
<h3 class="fn" translate="no" id="destroy"><span class="type">void</span> QVulkanInstance::<span class="name">destroy</span>()</h3>
<p>Destroys the underlying platform instance, thus destroying the VkInstance (when owned). The <a href="qvulkaninstance.html" translate="no">QVulkanInstance</a> object is still reusable by calling <a href="qvulkaninstance.html#create" translate="no">create</a>() again.</p>
<!-- @@@destroy -->
<!-- $$$deviceFunctions[overload1]$$$deviceFunctionsVkDevice -->
<h3 class="fn" translate="no" id="deviceFunctions"><span class="type"><a href="qvulkandevicefunctions.html" translate="no">QVulkanDeviceFunctions</a></span> *QVulkanInstance::<span class="name">deviceFunctions</span>(<span class="type">VkDevice</span> <i>device</i>)</h3>
<p>Returns the <a href="qvulkandevicefunctions.html" translate="no">QVulkanDeviceFunctions</a> object that exposes the device level core Vulkan command set and is guaranteed to be functional cross-platform.</p>
<div class="admonition note">
<p><b>Note: </b>The Vulkan functions in the returned object must only be called with <i translate="no">device</i> or a child object (VkQueue, VkCommandBuffer) of <i translate="no">device</i> as their first parameter. This is because these functions are resolved via <a href="https://www.khronos.org/registry/vulkan/specs/1.0/man/html/vkGetDeviceProcAddr.html" translate="no">vkGetDeviceProcAddr</a> in order to avoid the potential overhead of internal dispatching.</p>
</div>
<div class="admonition note">
<p><b>Note: </b>The returned object is owned and managed by the <a href="qvulkaninstance.html" translate="no">QVulkanInstance</a>. Do not destroy or alter it.</p>
</div>
<div class="admonition note">
<p><b>Note: </b>The object is cached so calling this function with the same <i translate="no">device</i> again is a cheap operation. However, when the device gets destroyed, it is up to the application to notify the <a href="qvulkaninstance.html" translate="no">QVulkanInstance</a> by calling <a href="qvulkaninstance.html#resetDeviceFunctions" translate="no">resetDeviceFunctions</a>().</p>
</div>
<p>The functions from the core Vulkan 1.0 API will be available always. When it comes to higher Vulkan versions, such as, 1.1 and 1.2, the <a href="qvulkandevicefunctions.html" translate="no">QVulkanDeviceFunctions</a> object will try to resolve the core API functions for those as well, but if the Vulkan physical device at run time has no support for those, calling any such unsupported function will lead to unspecified behavior. To properly enable support for Vulkan versions higher than 1.0, an appropriate instance API version may need to be set by calling <a href="qvulkaninstance.html#setApiVersion" translate="no">setApiVersion</a>() before <a href="qvulkaninstance.html#create" translate="no">create</a>(). In addition, applications are expected to check the physical device's <a href="qvulkaninstance.html#apiVersion" translate="no">apiVersion</a> in VkPhysicalDeviceProperties.</p>
<p><b>See also </b><a href="qvulkaninstance.html#functions" translate="no">functions</a>() and <a href="qvulkaninstance.html#resetDeviceFunctions" translate="no">resetDeviceFunctions</a>().</p>
<!-- @@@deviceFunctions -->
<!-- $$$errorCode[overload1]$$$errorCode -->
<h3 class="fn" translate="no" id="errorCode"><span class="type">VkResult</span> QVulkanInstance::<span class="name">errorCode</span>() const</h3>
<p>Returns the Vulkan error code after an unsuccessful <a href="qvulkaninstance.html#create" translate="no">create</a>(), <code translate="no">VK_SUCCESS</code> otherwise.</p>
<p>The value is typically the return value from vkCreateInstance() (when creating a new Vulkan instance instead of adopting an existing one), but may also be <code translate="no">VK_NOT_READY</code> if the platform plugin does not support Vulkan.</p>
<!-- @@@errorCode -->
<!-- $$$extensions[overload1]$$$extensions -->
<h3 class="fn" translate="no" id="extensions"><span class="type"><a href="../qtcore/qbytearraylist.html" translate="no">QByteArrayList</a></span> QVulkanInstance::<span class="name">extensions</span>() const</h3>
<p>Returns the enabled instance extensions, if <a href="qvulkaninstance.html#create" translate="no">create</a>() was called and was successful. The requested extensions otherwise.</p>
<p><b>See also </b><a href="qvulkaninstance.html#setExtensions" translate="no">setExtensions</a>().</p>
<!-- @@@extensions -->
<!-- $$$flags[overload1]$$$flags -->
<h3 class="fn" translate="no" id="flags"><span class="type"><a href="qvulkaninstance.html#Flag-enum" translate="no">QVulkanInstance::Flags</a></span> QVulkanInstance::<span class="name">flags</span>() const</h3>
<p>Returns the requested flags.</p>
<p><b>See also </b><a href="qvulkaninstance.html#setFlags" translate="no">setFlags</a>().</p>
<!-- @@@flags -->
<!-- $$$functions[overload1]$$$functions -->
<h3 class="fn" translate="no" id="functions"><span class="type"><a href="qvulkanfunctions.html" translate="no">QVulkanFunctions</a></span> *QVulkanInstance::<span class="name">functions</span>() const</h3>
<p>Returns the corresponding <a href="qvulkanfunctions.html" translate="no">QVulkanFunctions</a> object that exposes the core Vulkan command set, excluding device level functions, and is guaranteed to be functional cross-platform.</p>
<div class="admonition note">
<p><b>Note: </b>The returned object is owned and managed by the <a href="qvulkaninstance.html" translate="no">QVulkanInstance</a>. Do not destroy or alter it.</p>
</div>
<p>The functions from the core Vulkan 1.0 API will be available always. When it comes to higher Vulkan versions, such as, 1.1 and 1.2, the <a href="qvulkanfunctions.html" translate="no">QVulkanFunctions</a> object will try to resolve the core API functions for those as well, but if the Vulkan instance implementation at run time has no support for those, calling any such unsupported function will lead to unspecified behavior. In addition, to properly enable support for Vulkan versions higher than 1.0, an appropriate instance API version may need to be set by calling <a href="qvulkaninstance.html#setApiVersion" translate="no">setApiVersion</a>() before <a href="qvulkaninstance.html#create" translate="no">create</a>(). To query the Vulkan implementation's instance-level version, call <a href="qvulkaninstance.html#supportedApiVersion" translate="no">supportedApiVersion</a>().</p>
<p><b>See also </b><a href="qvulkaninstance.html#deviceFunctions" translate="no">deviceFunctions</a>() and <a href="qvulkaninstance.html#supportedApiVersion" translate="no">supportedApiVersion</a>().</p>
<!-- @@@functions -->
<!-- $$$getInstanceProcAddr[overload1]$$$getInstanceProcAddrconstchar* -->
<h3 class="fn" translate="no" id="getInstanceProcAddr"><span class="type">PFN_vkVoidFunction</span> QVulkanInstance::<span class="name">getInstanceProcAddr</span>(const <span class="type">char</span> *<i>name</i>)</h3>
<p>Resolves the Vulkan function with the given <i translate="no">name</i>.</p>
<p>For core Vulkan commands prefer using the function wrappers retrievable from <a href="qvulkaninstance.html#functions" translate="no">functions</a>() and <a href="qvulkaninstance.html#deviceFunctions" translate="no">deviceFunctions</a>() instead.</p>
<!-- @@@getInstanceProcAddr -->
<!-- $$$installDebugOutputFilter[overload1]$$$installDebugOutputFilterQVulkanInstance::DebugUtilsFilter -->
<h3 class="fn" translate="no" id="installDebugOutputFilter"><code class="details extra" translate="no">[since 6.5]</code> <span class="type">void</span> QVulkanInstance::<span class="name">installDebugOutputFilter</span>(<span class="type"><a href="qvulkaninstance.html#DebugUtilsFilter-typedef" translate="no">QVulkanInstance::DebugUtilsFilter</a></span> <i>filter</i>)</h3>
<p>Installs a <i translate="no">filter</i> function that is called for every Vulkan debug message. When the callback returns <code translate="no">true</code>, the message is stopped (filtered out) and will not appear on the debug output.</p>
<div class="admonition note">
<p><b>Note: </b>Filtering is only effective when <a href="qvulkaninstance.html#Flag-enum" translate="no">NoDebugOutputRedirect</a> is not <a href="qvulkaninstance.html#setFlags" translate="no">set</a>. Installing filters has no effect otherwise.</p>
</div>
<div class="admonition note">
<p><b>Note: </b>This function can be called before <a href="qvulkaninstance.html#create" translate="no">create</a>().</p>
</div>
<p>This function was introduced in Qt 6.5.</p>
<p><b>See also </b><a href="qvulkaninstance.html#clearDebugOutputFilters" translate="no">clearDebugOutputFilters</a>().</p>
<!-- @@@installDebugOutputFilter -->
<!-- $$$installDebugOutputFilter$$$installDebugOutputFilterQVulkanInstance::DebugFilter -->
<h3 class="fn" translate="no" id="installDebugOutputFilter-1"><span class="type">void</span> QVulkanInstance::<span class="name">installDebugOutputFilter</span>(<span class="type"><a href="qvulkaninstance.html#DebugFilter-typedef" translate="no">QVulkanInstance::DebugFilter</a></span> <i>filter</i>)</h3>
<p>This is an overloaded function.</p>
<p>Installs a <i translate="no">filter</i> function that is called for every Vulkan debug message. When the callback returns <code translate="no">true</code>, the message is stopped (filtered out) and will not appear on the debug output.</p>
<div class="admonition note">
<p><b>Note: </b>Filtering is only effective when <a href="qvulkaninstance.html#Flag-enum" translate="no">NoDebugOutputRedirect</a> is not <a href="qvulkaninstance.html#setFlags" translate="no">set</a>. Installing filters has no effect otherwise.</p>
</div>
<div class="admonition note">
<p><b>Note: </b>This function can be called before <a href="qvulkaninstance.html#create" translate="no">create</a>().</p>
</div>
<p><b>See also </b><a href="qvulkaninstance.html#removeDebugOutputFilter" translate="no">removeDebugOutputFilter</a>().</p>
<!-- @@@installDebugOutputFilter -->
<!-- $$$isValid[overload1]$$$isValid -->
<h3 class="fn" translate="no" id="isValid"><span class="type">bool</span> QVulkanInstance::<span class="name">isValid</span>() const</h3>
<p>Returns true if <a href="qvulkaninstance.html#create" translate="no">create</a>() was successful and the instance is valid.</p>
<!-- @@@isValid -->
<!-- $$$layers[overload1]$$$layers -->
<h3 class="fn" translate="no" id="layers"><span class="type"><a href="../qtcore/qbytearraylist.html" translate="no">QByteArrayList</a></span> QVulkanInstance::<span class="name">layers</span>() const</h3>
<p>Returns the enabled instance layers, if <a href="qvulkaninstance.html#create" translate="no">create</a>() was called and was successful. The requested layers otherwise.</p>
<p><b>See also </b><a href="qvulkaninstance.html#setLayers" translate="no">setLayers</a>().</p>
<!-- @@@layers -->
<!-- $$$presentAboutToBeQueued[overload1]$$$presentAboutToBeQueuedQWindow* -->
<h3 class="fn" translate="no" id="presentAboutToBeQueued"><span class="type">void</span> QVulkanInstance::<span class="name">presentAboutToBeQueued</span>(<span class="type"><a href="qwindow.html" translate="no">QWindow</a></span> *<i>window</i>)</h3>
<p>This function should be called by the application's renderer before queuing a present operation for <i translate="no">window</i>.</p>
<p>While on some platforms this will be a no-op, some may perform windowing system dependent synchronization. For example, on Wayland this will add send a wl_surface.frame request in order to prevent the driver from blocking for minimized windows.</p>
<!-- @@@presentAboutToBeQueued -->
<!-- $$$presentQueued[overload1]$$$presentQueuedQWindow* -->
<h3 class="fn" translate="no" id="presentQueued"><span class="type">void</span> QVulkanInstance::<span class="name">presentQueued</span>(<span class="type"><a href="qwindow.html" translate="no">QWindow</a></span> *<i>window</i>)</h3>
<p>This function should be called by the application's renderer after queuing a present operation for <i translate="no">window</i>.</p>
<p>While on some platforms this will be a no-op, some may perform windowing system dependent synchronization. For example, on X11 this will update <code translate="no">_NET_WM_SYNC_REQUEST_COUNTER</code>.</p>
<!-- @@@presentQueued -->
<!-- $$$removeDebugOutputFilter[overload1]$$$removeDebugOutputFilterQVulkanInstance::DebugFilter -->
<h3 class="fn" translate="no" id="removeDebugOutputFilter"><span class="type">void</span> QVulkanInstance::<span class="name">removeDebugOutputFilter</span>(<span class="type"><a href="qvulkaninstance.html#DebugFilter-typedef" translate="no">QVulkanInstance::DebugFilter</a></span> <i>filter</i>)</h3>
<p>This is an overloaded function.</p>
<p>Removes a <i translate="no">filter</i> function previously installed by <a href="qvulkaninstance.html#installDebugOutputFilter" translate="no">installDebugOutputFilter</a>().</p>
<div class="admonition note">
<p><b>Note: </b>This function can be called before <a href="qvulkaninstance.html#create" translate="no">create</a>().</p>
</div>
<p><b>See also </b><a href="qvulkaninstance.html#installDebugOutputFilter" translate="no">installDebugOutputFilter</a>().</p>
<!-- @@@removeDebugOutputFilter -->
<!-- $$$resetDeviceFunctions[overload1]$$$resetDeviceFunctionsVkDevice -->
<h3 class="fn" translate="no" id="resetDeviceFunctions"><span class="type">void</span> QVulkanInstance::<span class="name">resetDeviceFunctions</span>(<span class="type">VkDevice</span> <i>device</i>)</h3>
<p>Invalidates and destroys the <a href="qvulkandevicefunctions.html" translate="no">QVulkanDeviceFunctions</a> object for the given <i translate="no">device</i>.</p>
<p>This function must be called when a VkDevice, for which <a href="qvulkaninstance.html#deviceFunctions" translate="no">deviceFunctions</a>() was called, gets destroyed while the application intends to continue running, possibly creating a new logical Vulkan device later on.</p>
<p>There is no need to call this before destroying the <a href="qvulkaninstance.html" translate="no">QVulkanInstance</a> since clean up is then performed automatically.</p>
<p><b>See also </b><a href="qvulkaninstance.html#deviceFunctions" translate="no">deviceFunctions</a>().</p>
<!-- @@@resetDeviceFunctions -->
<!-- $$$setApiVersion[overload1]$$$setApiVersionconstQVersionNumber& -->
<h3 class="fn" translate="no" id="setApiVersion"><span class="type">void</span> QVulkanInstance::<span class="name">setApiVersion</span>(const <span class="type"><a href="../qtcore/qversionnumber.html" translate="no">QVersionNumber</a></span> &amp;<i>vulkanVersion</i>)</h3>
<p>Specifies the highest Vulkan API version the application is designed to use.</p>
<p>By default <i translate="no">vulkanVersion</i> is 0, which maps to Vulkan 1.0.</p>
<div class="admonition note">
<p><b>Note: </b>This function can only be called before <a href="qvulkaninstance.html#create" translate="no">create</a>() and has no effect if called afterwards.</p>
</div>
<div class="admonition note">
<p><b>Note: </b>Be aware that Vulkan 1.1 changes the behavior with regards to the Vulkan API version field. In Vulkan 1.0 specifying an unsupported <i translate="no">vulkanVersion</i> led to failing <a href="qvulkaninstance.html#create" translate="no">create</a>() with <code translate="no">VK_ERROR_INCOMPATIBLE_DRIVER</code>, as was mandated by the specification. Starting with Vulkan 1.1, the specification disallows this, the driver must accept any version without failing the instance creation.</p>
</div>
<p>Application developers are advised to familiarize themselves with the <code translate="no">apiVersion</code> notes in <a href="https://www.khronos.org/registry/vulkan/specs/1.2-extensions/man/html/VkApplicationInfo.html" translate="no">the Vulkan specification</a>.</p>
<p><b>See also </b><a href="qvulkaninstance.html#apiVersion" translate="no">apiVersion</a>() and <a href="qvulkaninstance.html#supportedApiVersion" translate="no">supportedApiVersion</a>().</p>
<!-- @@@setApiVersion -->
<!-- $$$setExtensions[overload1]$$$setExtensionsconstQByteArrayList& -->
<h3 class="fn" translate="no" id="setExtensions"><span class="type">void</span> QVulkanInstance::<span class="name">setExtensions</span>(const <span class="type"><a href="../qtcore/qbytearraylist.html" translate="no">QByteArrayList</a></span> &amp;<i>extensions</i>)</h3>
<p>Specifies the list of additional instance <i translate="no">extensions</i> to enable. It is safe to specify unsupported extensions as well because these get ignored when not supported at run time.</p>
<div class="admonition note">
<p><b>Note: </b>The surface-related extensions required by Qt (for example, <code translate="no">VK_KHR_win32_surface</code>) will always be added automatically, no need to include them in this list.</p>
</div>
<div class="admonition note">
<p><b>Note: </b><code translate="no">VK_KHR_portability_enumeration</code> is added automatically unless the <a href="qvulkaninstance.html#Flag-enum" translate="no">NoPortabilityDrivers</a> flag is set. This value was introduced in Qt 6.5.</p>
</div>
<div class="admonition note">
<p><b>Note: </b>This function can only be called before <a href="qvulkaninstance.html#create" translate="no">create</a>() and has no effect if called afterwards.</p>
</div>
<p><b>See also </b><a href="qvulkaninstance.html#extensions" translate="no">extensions</a>().</p>
<!-- @@@setExtensions -->
<!-- $$$setFlags[overload1]$$$setFlagsQVulkanInstance::Flags -->
<h3 class="fn" translate="no" id="setFlags"><span class="type">void</span> QVulkanInstance::<span class="name">setFlags</span>(<span class="type"><a href="qvulkaninstance.html#Flag-enum" translate="no">QVulkanInstance::Flags</a></span> <i>flags</i>)</h3>
<p>Configures the behavior of <a href="qvulkaninstance.html#create" translate="no">create</a>() based on the provided <i translate="no">flags</i>.</p>
<div class="admonition note">
<p><b>Note: </b>This function can only be called before <a href="qvulkaninstance.html#create" translate="no">create</a>() and has no effect if called afterwards.</p>
</div>
<p><b>See also </b><a href="qvulkaninstance.html#flags" translate="no">flags</a>().</p>
<!-- @@@setFlags -->
<!-- $$$setLayers[overload1]$$$setLayersconstQByteArrayList& -->
<h3 class="fn" translate="no" id="setLayers"><span class="type">void</span> QVulkanInstance::<span class="name">setLayers</span>(const <span class="type"><a href="../qtcore/qbytearraylist.html" translate="no">QByteArrayList</a></span> &amp;<i>layers</i>)</h3>
<p>Specifies the list of instance <i translate="no">layers</i> to enable. It is safe to specify unsupported layers as well because these get ignored when not supported at run time.</p>
<div class="admonition note">
<p><b>Note: </b>This function can only be called before <a href="qvulkaninstance.html#create" translate="no">create</a>() and has no effect if called afterwards.</p>
</div>
<p><b>See also </b><a href="qvulkaninstance.html#layers" translate="no">layers</a>().</p>
<!-- @@@setLayers -->
<!-- $$$setVkInstance[overload1]$$$setVkInstanceVkInstance -->
<h3 class="fn" translate="no" id="setVkInstance"><span class="type">void</span> QVulkanInstance::<span class="name">setVkInstance</span>(<span class="type">VkInstance</span> <i>existingVkInstance</i>)</h3>
<p>Makes <a href="qvulkaninstance.html" translate="no">QVulkanInstance</a> adopt an existing VkInstance handle instead of creating a new one.</p>
<div class="admonition note">
<p><b>Note: </b><i translate="no">existingVkInstance</i> must have at least <code translate="no">VK_KHR_surface</code> and the appropriate WSI-specific <code translate="no">VK_KHR_*_surface</code> extensions enabled. To ensure debug output redirection is functional, <code translate="no">VK_EXT_debug_utils</code> is needed as well.</p>
</div>
<div class="admonition note">
<p><b>Note: </b>This function can only be called before <a href="qvulkaninstance.html#create" translate="no">create</a>() and has no effect if called afterwards.</p>
</div>
<p><b>See also </b><a href="qvulkaninstance.html#vkInstance" translate="no">vkInstance</a>().</p>
<!-- @@@setVkInstance -->
<!-- $$$supportedApiVersion[overload1]$$$supportedApiVersion -->
<h3 class="fn" translate="no" id="supportedApiVersion"><span class="type"><a href="../qtcore/qversionnumber.html" translate="no">QVersionNumber</a></span> QVulkanInstance::<span class="name">supportedApiVersion</span>() const</h3>
<p>Returns the version of instance-level functionality supported by the Vulkan implementation.</p>
<p>In practice this is either the value returned from vkEnumerateInstanceVersion, if that function is available (with Vulkan 1.1 and newer), or 1.0.</p>
<p>Applications that want to branch in their Vulkan feature and API usage based on what Vulkan version is available at run time, can use this function to determine what version to pass in to <a href="qvulkaninstance.html#setApiVersion" translate="no">setApiVersion</a>() before calling <a href="qvulkaninstance.html#create" translate="no">create</a>().</p>
<div class="admonition note">
<p><b>Note: </b>This function can be called before <a href="qvulkaninstance.html#create" translate="no">create</a>().</p>
</div>
<p><b>See also </b><a href="qvulkaninstance.html#setApiVersion" translate="no">setApiVersion</a>().</p>
<!-- @@@supportedApiVersion -->
<!-- $$$supportedExtensions$$$supportedExtensions -->
<h3 class="fn" translate="no" id="supportedExtensions-1"><span class="type"><a href="qvulkaninfovector.html" translate="no">QVulkanInfoVector</a></span>&lt;<span class="type"><a href="qvulkanextension.html" translate="no">QVulkanExtension</a></span>&gt; QVulkanInstance::<span class="name">supportedExtensions</span>() const</h3>
<p>Returns the list of supported instance-level extensions.</p>
<div class="admonition note">
<p><b>Note: </b>This function can be called before <a href="qvulkaninstance.html#create" translate="no">create</a>().</p>
</div>
<!-- @@@supportedExtensions -->
<!-- $$$supportedLayers$$$supportedLayers -->
<h3 class="fn" translate="no" id="supportedLayers-1"><span class="type"><a href="qvulkaninfovector.html" translate="no">QVulkanInfoVector</a></span>&lt;<span class="type"><a href="qvulkanlayer.html" translate="no">QVulkanLayer</a></span>&gt; QVulkanInstance::<span class="name">supportedLayers</span>() const</h3>
<p>Returns the list of supported instance-level layers.</p>
<div class="admonition note">
<p><b>Note: </b>This function can be called before <a href="qvulkaninstance.html#create" translate="no">create</a>().</p>
</div>
<!-- @@@supportedLayers -->
<!-- $$$supportsPresent[overload1]$$$supportsPresentVkPhysicalDeviceuint32_tQWindow* -->
<h3 class="fn" translate="no" id="supportsPresent"><span class="type">bool</span> QVulkanInstance::<span class="name">supportsPresent</span>(<span class="type">VkPhysicalDevice</span> <i>physicalDevice</i>, <span class="type">uint32_t</span> <i>queueFamilyIndex</i>, <span class="type"><a href="qwindow.html" translate="no">QWindow</a></span> *<i>window</i>)</h3>
<p>Returns true if the queue family with <i translate="no">queueFamilyIndex</i> within the <i translate="no">physicalDevice</i> supports presenting to <i translate="no">window</i>.</p>
<p>Call this function when examining the queues of a given Vulkan device, in order to decide which queue can be used for performing presentation.</p>
<!-- @@@supportsPresent -->
<!-- $$$surfaceForWindow[overload1]$$$surfaceForWindowQWindow* -->
<h3 class="fn" translate="no" id="surfaceForWindow"><code class="details extra" translate="no">[static]</code> <span class="type">VkSurfaceKHR</span> QVulkanInstance::<span class="name">surfaceForWindow</span>(<span class="type"><a href="qwindow.html" translate="no">QWindow</a></span> *<i>window</i>)</h3>
<p>Creates or retrieves the already existing <code translate="no">VkSurfaceKHR</code> handle for the given <i translate="no">window</i>.</p>
<p>Returns the Vulkan surface handle or 0 when failed.</p>
<!-- @@@surfaceForWindow -->
<!-- $$$vkInstance[overload1]$$$vkInstance -->
<h3 class="fn" translate="no" id="vkInstance"><span class="type">VkInstance</span> QVulkanInstance::<span class="name">vkInstance</span>() const</h3>
<p>Returns the VkInstance handle this <a href="qvulkaninstance.html" translate="no">QVulkanInstance</a> wraps, or <code translate="no">nullptr</code> if <a href="qvulkaninstance.html#create" translate="no">create</a>() has not yet been successfully called and no existing instance has been provided via <a href="qvulkaninstance.html#setVkInstance" translate="no">setVkInstance</a>().</p>
<p><b>See also </b><a href="qvulkaninstance.html#setVkInstance" translate="no">setVkInstance</a>().</p>
<!-- @@@vkInstance -->
</div>
        </div>
       </div>
   </div>
   </div>
</div>
<div class="footer">
   <p>
   <acronym title="Copyright">&copy;</acronym> 2024 <span translate="no">The Qt Company Ltd.</span>
   Documentation contributions included herein are the copyrights of
   their respective owners.<br/>    The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the <span translate="no">Free Software Foundation</span>.<br/>    <span translate="no">Qt</span> and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of <span translate="no">The Qt Company Ltd.</span> in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>
</div>
</body>
</html>
