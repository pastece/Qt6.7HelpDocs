<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
<!-- qrhi.cpp -->
  <meta name="description" content="Base class for classes encapsulating native resource objects.">
  <title>QRhiResource Class | Qt GUI 6.7.0</title>
  <link rel="stylesheet" type="text/css" href="style/offline-simple.css" />
  <script type="text/javascript">
    document.getElementsByTagName("link").item(0).setAttribute("href", "style/offline.css");
    // loading style sheet breaks anchors that were jumped to before
    // so force jumping to anchor again
    setTimeout(function() {
        var anchor = location.hash;
        // need to jump to different anchor first (e.g. none)
        location.hash = "#";
        setTimeout(function() {
            location.hash = anchor;
        }, 0);
    }, 0);
  </script>
</head>
<body>
<div class="header" id="qtdocheader">
    <div class="main">
    <div class="main-rounded">
        <div class="navigationbar">
        <ul>
<li><a href="../qtdoc/index.html" translate="no">Qt 6.7</a></li>
<li><a href="qtgui-index.html" translate="no">Qt GUI</a></li>
<li><a href="qtgui-module.html" translate="no">C++ Classes</a></li>
<li>QRhiResource</li>
<li id="buildversion"><a href="qtgui-index.html" translate="no">Qt 6.7.0 Reference Documentation</a></li>
    </ul>
    </div>
</div>
<div class="content">
<div class="line">
<div class="content mainContent">
<div class="sidebar">
<div class="toc">
<h3 id="toc">Contents</h3>
<ul>
<li class="level1"><a href="#public-types">Public Types</a></li>
<li class="level1"><a href="#public-functions">Public Functions</a></li>
<li class="level1"><a href="#details">Detailed Description</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<h1 class="title" translate="no">QRhiResource Class</h1>
<!-- $$$QRhiResource-brief -->
<p>Base class for classes encapsulating native resource objects. <a href="#details">More...</a></p>
<!-- @@@QRhiResource -->
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> Header:</td><td class="memItemRight bottomAlign">  <span class="preprocessor">#include &lt;QRhiResource&gt;</span></td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> CMake:</td><td class="memItemRight bottomAlign"> find_package(Qt6 REQUIRED COMPONENTS Gui) <br/>
target_link_libraries(mytarget PRIVATE Qt6::Gui)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> qmake:</td><td class="memItemRight bottomAlign"> QT += gui</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> Since:</td><td class="memItemRight bottomAlign"> Qt 6.6</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> Inherited By:</td><td class="memItemRight bottomAlign"> <p><a href="qrhibuffer.html" translate="no">QRhiBuffer</a>, <a href="qrhicommandbuffer.html" translate="no">QRhiCommandBuffer</a>, <a href="qrhicomputepipeline.html" translate="no">QRhiComputePipeline</a>, <a href="qrhigraphicspipeline.html" translate="no">QRhiGraphicsPipeline</a>, <a href="qrhirenderbuffer.html" translate="no">QRhiRenderBuffer</a>, <a href="qrhirenderpassdescriptor.html" translate="no">QRhiRenderPassDescriptor</a>, <a href="qrhirendertarget.html" translate="no">QRhiRenderTarget</a>, <a href="qrhisampler.html" translate="no">QRhiSampler</a>, <a href="qrhishaderresourcebindings.html" translate="no">QRhiShaderResourceBindings</a>, <a href="qrhiswapchain.html" translate="no">QRhiSwapChain</a>, and <a href="qrhitexture.html" translate="no">QRhiTexture</a></p>
</td></tr>
</table></div>
<ul>
<li><a href="qrhiresource-members.html">List of all members, including inherited members</a></li>
</ul>
<h2 id="public-types">Public Types</h2>
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> enum </td><td class="memItemRight bottomAlign"><b><a href="qrhiresource.html#Type-enum" translate="no">Type</a></b> { Buffer, Texture, Sampler, RenderBuffer, RenderPassDescriptor, &hellip;, CommandBuffer }</td></tr>
</table></div>
<h2 id="public-functions">Public Functions</h2>
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> virtual </td><td class="memItemRight bottomAlign"><b><a href="qrhiresource.html#dtor.QRhiResource" translate="no">~QRhiResource</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qrhiresource.html#deleteLater" translate="no">deleteLater</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual void </td><td class="memItemRight bottomAlign"><b><a href="qrhiresource.html#destroy" translate="no">destroy</a></b>() = 0</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> quint64 </td><td class="memItemRight bottomAlign"><b><a href="qrhiresource.html#globalResourceId" translate="no">globalResourceId</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QByteArray </td><td class="memItemRight bottomAlign"><b><a href="qrhiresource.html#name" translate="no">name</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual QRhiResource::Type </td><td class="memItemRight bottomAlign"><b><a href="qrhiresource.html#resourceType" translate="no">resourceType</a></b>() const = 0</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QRhi *</td><td class="memItemRight bottomAlign"><b><a href="qrhiresource.html#rhi" translate="no">rhi</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qrhiresource.html#setName" translate="no">setName</a></b>(const QByteArray &amp;<i>name</i>)</td></tr>
</table></div>
<!-- $$$QRhiResource-description -->
<div class="descr">
<h2 id="details">Detailed Description</h2>
<div class="admonition note">
<p><b>Note: </b>This is a RHI API with limited compatibility guarantees, see <a href="qrhi.html" translate="no">QRhi</a> for details.</p>
</div>
</div>
<!-- @@@QRhiResource -->
<div class="types">
<h2>Member Type Documentation</h2>
<!-- $$$Type$$$Buffer$$$Texture$$$Sampler$$$RenderBuffer$$$RenderPassDescriptor$$$SwapChainRenderTarget$$$TextureRenderTarget$$$ShaderResourceBindings$$$GraphicsPipeline$$$SwapChain$$$ComputePipeline$$$CommandBuffer -->
<h3 class="fn" translate="no" id="Type-enum">enum QRhiResource::<span class="name">Type</span></h3>
<p>Specifies type of the resource.</p>
<div class="table"><table class="valuelist"><tr><th class="tblConst">Constant</th><th class="tblVal">Value</th></tr>
<tr><td class="topAlign"><code translate="no">QRhiResource::Buffer</code></td><td class="topAlign tblval"><code translate="no">0</code></td></tr>
<tr><td class="topAlign"><code translate="no">QRhiResource::Texture</code></td><td class="topAlign tblval"><code translate="no">1</code></td></tr>
<tr><td class="topAlign"><code translate="no">QRhiResource::Sampler</code></td><td class="topAlign tblval"><code translate="no">2</code></td></tr>
<tr><td class="topAlign"><code translate="no">QRhiResource::RenderBuffer</code></td><td class="topAlign tblval"><code translate="no">3</code></td></tr>
<tr><td class="topAlign"><code translate="no">QRhiResource::RenderPassDescriptor</code></td><td class="topAlign tblval"><code translate="no">4</code></td></tr>
<tr><td class="topAlign"><code translate="no">QRhiResource::SwapChainRenderTarget</code></td><td class="topAlign tblval"><code translate="no">5</code></td></tr>
<tr><td class="topAlign"><code translate="no">QRhiResource::TextureRenderTarget</code></td><td class="topAlign tblval"><code translate="no">6</code></td></tr>
<tr><td class="topAlign"><code translate="no">QRhiResource::ShaderResourceBindings</code></td><td class="topAlign tblval"><code translate="no">7</code></td></tr>
<tr><td class="topAlign"><code translate="no">QRhiResource::GraphicsPipeline</code></td><td class="topAlign tblval"><code translate="no">8</code></td></tr>
<tr><td class="topAlign"><code translate="no">QRhiResource::SwapChain</code></td><td class="topAlign tblval"><code translate="no">9</code></td></tr>
<tr><td class="topAlign"><code translate="no">QRhiResource::ComputePipeline</code></td><td class="topAlign tblval"><code translate="no">10</code></td></tr>
<tr><td class="topAlign"><code translate="no">QRhiResource::CommandBuffer</code></td><td class="topAlign tblval"><code translate="no">11</code></td></tr>
</table></div>
<!-- @@@Type -->
</div>
<div class="func">
<h2>Member Function Documentation</h2>
<!-- $$$~QRhiResource[overload1]$$$~QRhiResource -->
<h3 class="fn" translate="no" id="dtor.QRhiResource"><code class="details extra" translate="no">[virtual noexcept]</code> QRhiResource::<span class="name">~QRhiResource</span>()</h3>
<p>Destructor.</p>
<p>Releases (or requests deferred releasing of) the underlying native graphics resources, if there are any.</p>
<div class="admonition note">
<p><b>Note: </b>Resources referenced by commands for the current frame should not be released until the frame is submitted by <a href="qrhi.html#endFrame" translate="no">QRhi::endFrame</a>().</p>
</div>
<p><b>See also </b><a href="qrhiresource.html#destroy" translate="no">destroy</a>().</p>
<!-- @@@~QRhiResource -->
<!-- $$$deleteLater[overload1]$$$deleteLater -->
<h3 class="fn" translate="no" id="deleteLater"><span class="type">void</span> QRhiResource::<span class="name">deleteLater</span>()</h3>
<p>When called without a frame being recorded, this function is equivalent to deleting the object. Between a <a href="qrhi.html#beginFrame" translate="no">QRhi::beginFrame</a>() and <a href="qrhi.html#endFrame" translate="no">QRhi::endFrame</a>() however the behavior is different: the <a href="qrhiresource.html" translate="no">QRhiResource</a> will not be destroyed until the frame is submitted via <a href="qrhi.html#endFrame" translate="no">QRhi::endFrame</a>(), thus satisfying the <a href="qrhi.html" translate="no">QRhi</a> requirement of not altering <a href="qrhiresource.html" translate="no">QRhiResource</a> objects that are referenced by the frame being recorded.</p>
<p>If the <a href="qrhi.html" translate="no">QRhi</a> that created this object is already destroyed, the object is deleted immediately.</p>
<p>Using deleteLater() can be a useful convenience in many cases, and it complements the low-level guarantee (that the underlying native graphics objects are never destroyed until it is safe to do so and it is known for sure that they are not used by the GPU in an still in-flight frame), by offering a way to make sure the C++ object instances (of <a href="qrhibuffer.html" translate="no">QRhiBuffer</a>, <a href="qrhitexture.html" translate="no">QRhiTexture</a>, etc.) themselves also stay valid until the end of the current frame.</p>
<p>The following example shows a convenient way of creating a throwaway buffer that is only used in one frame and gets automatically released in endFrame(). (when it comes to the underlying native buffer(s), the usual guarantee applies: the <a href="qrhi.html" translate="no">QRhi</a> backend defers the releasing of those until it is guaranteed that the frame in which the buffer is accessed by the GPU has completed)</p>
<pre class="cpp" translate="no">
 rhi<span class="operator">-</span><span class="operator">&gt;</span>beginFrame(swapchain);
 <span class="type"><a href="qrhibuffer.html" translate="no">QRhiBuffer</a></span> <span class="operator">*</span>buf <span class="operator">=</span> rhi<span class="operator">-</span><span class="operator">&gt;</span>newBuffer(<span class="type"><a href="qrhibuffer.html" translate="no">QRhiBuffer</a></span><span class="operator">::</span>Immutable<span class="operator">,</span> <span class="type"><a href="qrhibuffer.html" translate="no">QRhiBuffer</a></span><span class="operator">::</span>VertexBuffer<span class="operator">,</span> <span class="number">256</span>);
 buf<span class="operator">-</span><span class="operator">&gt;</span>deleteLater(); <span class="comment">// !</span>
 u <span class="operator">=</span> rhi<span class="operator">-</span><span class="operator">&gt;</span>nextResourceUpdateBatch();
 u<span class="operator">-</span><span class="operator">&gt;</span>uploadStaticBuffer(buf<span class="operator">,</span> data);
 <span class="comment">// ... draw with buf</span>
 rhi<span class="operator">-</span><span class="operator">&gt;</span>endFrame();
</pre>
<p><b>See also </b><a href="qrhiresource.html#destroy" translate="no">destroy</a>().</p>
<!-- @@@deleteLater -->
<!-- $$$destroy[overload1]$$$destroy -->
<h3 class="fn" translate="no" id="destroy"><code class="details extra" translate="no">[pure virtual]</code> <span class="type">void</span> QRhiResource::<span class="name">destroy</span>()</h3>
<p>Releases (or requests deferred releasing of) the underlying native graphics resources. Safe to call multiple times, subsequent invocations will be a no-op then.</p>
<p>Once destroy() is called, the <a href="qrhiresource.html" translate="no">QRhiResource</a> instance can be reused, by calling <code translate="no">create()</code> again. That will then result in creating new native graphics resources underneath.</p>
<div class="admonition note">
<p><b>Note: </b>Resources referenced by commands for the current frame should not be released until the frame is submitted by <a href="qrhi.html#endFrame" translate="no">QRhi::endFrame</a>().</p>
</div>
<p>The <a href="qrhiresource.html" translate="no">QRhiResource</a> destructor also performs the same task, so calling this function is not necessary before deleting a <a href="qrhiresource.html" translate="no">QRhiResource</a>.</p>
<p><b>See also </b><a href="qrhiresource.html#deleteLater" translate="no">deleteLater</a>().</p>
<!-- @@@destroy -->
<!-- $$$globalResourceId[overload1]$$$globalResourceId -->
<h3 class="fn" translate="no" id="globalResourceId"><span class="type"><a href="../qtcore/qttypes.html#quint64-typedef" translate="no">quint64</a></span> QRhiResource::<span class="name">globalResourceId</span>() const</h3>
<p>Returns the global, unique identifier of this <a href="qrhiresource.html" translate="no">QRhiResource</a>.</p>
<p>User code rarely needs to deal with the value directly. It is used internally for tracking and bookkeeping purposes.</p>
<!-- @@@globalResourceId -->
<!-- $$$name[overload1]$$$name -->
<h3 class="fn" translate="no" id="name"><span class="type"><a href="../qtcore/qbytearray.html" translate="no">QByteArray</a></span> QRhiResource::<span class="name">name</span>() const</h3>
<p>Returns the currently set object name. By default the name is empty.</p>
<p><b>See also </b><a href="qrhiresource.html#setName" translate="no">setName</a>().</p>
<!-- @@@name -->
<!-- $$$resourceType[overload1]$$$resourceType -->
<h3 class="fn" translate="no" id="resourceType"><code class="details extra" translate="no">[pure virtual]</code> <span class="type"><a href="qrhiresource.html#Type-enum" translate="no">QRhiResource::Type</a></span> QRhiResource::<span class="name">resourceType</span>() const</h3>
<p>Returns the type of the resource.</p>
<!-- @@@resourceType -->
<!-- $$$rhi[overload1]$$$rhi -->
<h3 class="fn" translate="no" id="rhi"><span class="type"><a href="qrhi.html" translate="no">QRhi</a></span> *QRhiResource::<span class="name">rhi</span>() const</h3>
<p>Returns the <a href="qrhi.html" translate="no">QRhi</a> that created this resource.</p>
<p>If the <a href="qrhi.html" translate="no">QRhi</a> that created this object is already destroyed, the result is <code translate="no">nullptr</code>.</p>
<!-- @@@rhi -->
<!-- $$$setName[overload1]$$$setNameconstQByteArray& -->
<h3 class="fn" translate="no" id="setName"><span class="type">void</span> QRhiResource::<span class="name">setName</span>(const <span class="type"><a href="../qtcore/qbytearray.html" translate="no">QByteArray</a></span> &amp;<i>name</i>)</h3>
<p>Sets a <i translate="no">name</i> for the object.</p>
<p>This allows getting descriptive names for the native graphics resources visible in graphics debugging tools, such as <a href="https://renderdoc.org/" translate="no">RenderDoc</a> and <a href="https://developer.apple.com/xcode/" translate="no">XCode</a>.</p>
<p>When it comes to naming native objects by relaying the name via the appropriate graphics API, note that the name is ignored when <a href="qrhi.html#Feature-enum" translate="no">QRhi::DebugMarkers</a> are not supported, and may, depending on the backend, also be ignored when <a href="qrhi.html#Flag-enum" translate="no">QRhi::EnableDebugMarkers</a> is not set.</p>
<div class="admonition note">
<p><b>Note: </b>The name may be ignored for objects other than buffers, renderbuffers, and textures, depending on the backend.</p>
</div>
<div class="admonition note">
<p><b>Note: </b>The name may be modified. For slotted resources, such as a <a href="qrhibuffer.html" translate="no">QRhiBuffer</a> backed by multiple native buffers, <a href="qrhi.html" translate="no">QRhi</a> will append a suffix to make the underlying native buffers easily distinguishable from each other.</p>
</div>
<p><b>See also </b><a href="qrhiresource.html#name" translate="no">name</a>().</p>
<!-- @@@setName -->
</div>
        </div>
       </div>
   </div>
   </div>
</div>
<div class="footer">
   <p>
   <acronym title="Copyright">&copy;</acronym> 2024 <span translate="no">The Qt Company Ltd.</span>
   Documentation contributions included herein are the copyrights of
   their respective owners.<br/>    The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the <span translate="no">Free Software Foundation</span>.<br/>    <span translate="no">Qt</span> and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of <span translate="no">The Qt Company Ltd.</span> in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>
</div>
</body>
</html>
