<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
<!-- qquickwindow.cpp -->
  <meta name="description" content="Describes some of the RHI's graphics state at the point of a beginExternalCommands() call.">
  <title>GraphicsStateInfo Struct | Qt Quick 6.7.0</title>
  <link rel="stylesheet" type="text/css" href="style/offline-simple.css" />
  <script type="text/javascript">
    document.getElementsByTagName("link").item(0).setAttribute("href", "style/offline.css");
    // loading style sheet breaks anchors that were jumped to before
    // so force jumping to anchor again
    setTimeout(function() {
        var anchor = location.hash;
        // need to jump to different anchor first (e.g. none)
        location.hash = "#";
        setTimeout(function() {
            location.hash = anchor;
        }, 0);
    }, 0);
  </script>
</head>
<body>
<div class="header" id="qtdocheader">
    <div class="main">
    <div class="main-rounded">
        <div class="navigationbar">
        <ul>
<li><a href="../qtdoc/index.html" translate="no">Qt 6.7</a></li>
<li><a href="qtquick-index.html" translate="no">Qt Quick</a></li>
<li><a href="qtquick-module.html" translate="no">C++ Classes</a></li>
<li>GraphicsStateInfo</li>
<li id="buildversion"><a href="qtquick-index.html" translate="no">Qt 6.7.0 Reference Documentation</a></li>
    </ul>
    </div>
</div>
<div class="content">
<div class="line">
<div class="content mainContent">
<div class="sidebar">
<div class="toc">
<h3 id="toc">Contents</h3>
<ul>
<li class="level1"><a href="#public-variables">Public Variables</a></li>
<li class="level1"><a href="#details">Detailed Description</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<h1 class="title" translate="no">GraphicsStateInfo Struct</h1>
<span class="small-subtitle" translate="no">struct <a href="qquickwindow.html" translate="no">QQuickWindow</a>::GraphicsStateInfo</span>
<!-- $$$GraphicsStateInfo-brief -->
<p>Describes some of the RHI's graphics state at the point of a <a href="qquickwindow.html#beginExternalCommands" translate="no">beginExternalCommands</a>() call. <a href="#details">More...</a></p>
<!-- @@@GraphicsStateInfo -->
<ul>
<li><a href="qquickwindow-graphicsstateinfo-members.html">List of all members, including inherited members</a></li>
</ul>
<h2 id="public-variables">Public Variables</h2>
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> int </td><td class="memItemRight bottomAlign"><b><a href="qquickwindow-graphicsstateinfo.html#currentFrameSlot-var" translate="no">currentFrameSlot</a></b></td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> int </td><td class="memItemRight bottomAlign"><b><a href="qquickwindow-graphicsstateinfo.html#framesInFlight-var" translate="no">framesInFlight</a></b></td></tr>
</table></div>
<!-- $$$GraphicsStateInfo-description -->
<div class="descr">
<h2 id="details">Detailed Description</h2>
</div>
<!-- @@@GraphicsStateInfo -->
<div class="vars">
<h2>Member Variable Documentation</h2>
<!-- $$$currentFrameSlot -->
<h3 class="fn" translate="no" id="currentFrameSlot-var"><span class="type">int</span> GraphicsStateInfo::<span class="name">currentFrameSlot</span></h3>
<p>This variable holds the current frame slot index while recording a frame.</p>
<p>When the scenegraph renders with lower level 3D APIs such as Vulkan or Metal, it is the Qt's responsibility to ensure blocking whenever starting a new frame and finding the CPU is already a certain number of frames ahead of the GPU (because the command buffer submitted in frame no. <code translate="no">current</code> - <code translate="no">FramesInFlight</code> has not yet completed). With other graphics APIs, such as OpenGL or Direct 3D 11 this level of control is not exposed to the API client but rather handled by the implementation of the graphics API.</p>
<p>By extension, this also means that the appropriate double (or triple) buffering of resources, such as buffers, is up to the graphics API client to manage. Most commonly, a uniform buffer where the data changes between frames cannot simply change its contents when submitting a frame, given that the frame may still be active (&quot;in flight&quot;) when starting to record the next frame. To avoid stalling the pipeline, one way is to have multiple buffers (and memory allocations) under the hood, thus realizing at least a double buffered scheme for such resources.</p>
<p>Applications that integrate rendering done directly with a graphics API such as Vulkan may want to perform a similar double or triple buffering of their own graphics resources, in a way that is compatible with the Qt rendering engine's frame submission process. That then involves knowing the values for the maximum number of in-flight frames (which is typically 2 or 3) and the current frame slot index, which is a number running 0, 1, .., FramesInFlight-1, and then wrapping around. The former is exposed in the <a href="qquickwindow-graphicsstateinfo.html#framesInFlight-var" translate="no">framesInFlight</a> variable. The latter, current index, is this value.</p>
<p>For an example of using these values in practice, refer to the {Scene Graph - Vulkan Under QML} and {Scene Graph - Vulkan Texture Import} examples.</p>
<!-- @@@currentFrameSlot -->
<!-- $$$framesInFlight -->
<h3 class="fn" translate="no" id="framesInFlight-var"><span class="type">int</span> GraphicsStateInfo::<span class="name">framesInFlight</span></h3>
<p>This variable holds the maximum number of frames kept in flight.</p>
<p>See <a href="qquickwindow-graphicsstateinfo.html#currentFrameSlot-var" translate="no">currentFrameSlot</a> for a detailed description.</p>
<!-- @@@framesInFlight -->
</div>
        </div>
       </div>
   </div>
   </div>
</div>
<div class="footer">
   <p>
   <acronym title="Copyright">&copy;</acronym> 2024 <span translate="no">The Qt Company Ltd.</span>
   Documentation contributions included herein are the copyrights of
   their respective owners.<br/>    The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the <span translate="no">Free Software Foundation</span>.<br/>    <span translate="no">Qt</span> and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of <span translate="no">The Qt Company Ltd.</span> in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>
</div>
</body>
</html>
