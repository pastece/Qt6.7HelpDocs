<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
<!-- TestCase.qml -->
  <meta name="description" content="Represents a unit test case.">
  <title>TestCase QML Type | Qt Quick Test 6.7.0</title>
  <link rel="stylesheet" type="text/css" href="style/offline-simple.css" />
  <script type="text/javascript">
    document.getElementsByTagName("link").item(0).setAttribute("href", "style/offline.css");
    // loading style sheet breaks anchors that were jumped to before
    // so force jumping to anchor again
    setTimeout(function() {
        var anchor = location.hash;
        // need to jump to different anchor first (e.g. none)
        location.hash = "#";
        setTimeout(function() {
            location.hash = anchor;
        }, 0);
    }, 0);
  </script>
</head>
<body>
<div class="header" id="qtdocheader">
    <div class="main">
    <div class="main-rounded">
        <div class="navigationbar">
        <ul>
<li><a href="../qtdoc/index.html" translate="no">Qt 6.7</a></li>
<li><a href="qtquicktest-index.html" translate="no">Qt Quick Test</a></li>
<li><a href="qttest-qmlmodule.html" translate="no">QML Types</a></li>
<li>TestCase</li>
<li id="buildversion"><a href="qtquicktest-index.html" translate="no">Qt 6.7.0 Reference Documentation</a></li>
    </ul>
    </div>
</div>
<div class="content">
<div class="line">
<div class="content mainContent">
<div class="sidebar">
<div class="toc">
<h3 id="toc">Contents</h3>
<ul>
<li class="level1"><a href="#properties">Properties</a></li>
<li class="level1"><a href="#methods">Methods</a></li>
<li class="level1"><a href="#details">Detailed Description</a></li>
<li class="level2"><a href="#introduction-to-qml-test-cases">Introduction to QML Test Cases</a></li>
<li class="level2"><a href="#data-driven-tests">Data-driven Tests</a></li>
<li class="level2"><a href="#benchmarks">Benchmarks</a></li>
<li class="level2"><a href="#simulating-keyboard-and-mouse-events">Simulating Keyboard and Mouse Events</a></li>
<li class="level2"><a href="#managing-dynamically-created-test-objects">Managing Dynamically Created Test Objects</a></li>
<li class="level2"><a href="#separating-tests-from-application-logic">Separating tests from application logic</a></li>
<li class="level2"><a href="#add-library">Add library</a></li>
<li class="level2"><a href="#link-against-library">Link against library</a></li>
<li class="level2"><a href="#import-qml">Import QML</a></li>
<li class="level2"><a href="#define-qml-button">Define QML button</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<h1 class="title" translate="no">TestCase QML Type</h1>
<!-- $$$TestCase-brief -->
<p>Represents a unit test case. <a href="#details">More...</a></p>
<!-- @@@TestCase -->
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> Import Statement:</td><td class="memItemRight bottomAlign"> import QtTest</td></tr><tr><td class="memItemLeft rightAlign topAlign"> Inherits:</td><td class="memItemRight bottomAlign"> <p><a href="../qtquick/qml-qtquick-item.html" translate="no">Item</a></p>
</td></tr></table></div><ul>
<li><a href="qml-qttest-testcase-members.html">List of all members, including inherited members</a></li>
<li><a href="qml-qttest-testcase-obsolete.html">Deprecated members</a></li>
</ul>
<h2 id="properties">Properties</h2>
<ul>
<li class="fn" translate="no"><b><a href="qml-qttest-testcase.html#completed-prop" translate="no">completed</a></b> : bool</li>
<li class="fn" translate="no"><b><a href="qml-qttest-testcase.html#name-prop" translate="no">name</a></b> : string</li>
<li class="fn" translate="no"><b><a href="qml-qttest-testcase.html#optional-prop" translate="no">optional</a></b> : bool</li>
<li class="fn" translate="no"><b><a href="qml-qttest-testcase.html#running-prop" translate="no">running</a></b> : bool</li>
<li class="fn" translate="no"><b><a href="qml-qttest-testcase.html#when-prop" translate="no">when</a></b> : bool</li>
<li class="fn" translate="no"><b><a href="qml-qttest-testcase.html#windowShown-prop" translate="no">windowShown</a></b> : bool</li>
</ul>
<h2 id="methods">Methods</h2>
<ul>
<li class="fn" translate="no"><b><a href="qml-qttest-testcase.html#cleanup-method" translate="no">cleanup</a></b>()</li>
<li class="fn" translate="no"><b><a href="qml-qttest-testcase.html#cleanupTestCase-method" translate="no">cleanupTestCase</a></b>()</li>
<li class="fn" translate="no"><b><a href="qml-qttest-testcase.html#compare-method" translate="no">compare</a></b>(<i>actual</i>, <i>expected</i>, <i>message</i>)</li>
<li class="fn" translate="no">object <b><a href="qml-qttest-testcase.html#createTemporaryObject-method" translate="no">createTemporaryObject</a></b>(Component <i>component</i>, object <i>parent</i>, object <i>properties</i>)</li>
<li class="fn" translate="no">object <b><a href="qml-qttest-testcase.html#createTemporaryQmlObject-method" translate="no">createTemporaryQmlObject</a></b>(string <i>qml</i>, object <i>parent</i>, string <i>filePath</i>)</li>
<li class="fn" translate="no"><b><a href="qml-qttest-testcase.html#expectFail-method" translate="no">expectFail</a></b>(<i>tag</i>, <i>message</i>)</li>
<li class="fn" translate="no"><b><a href="qml-qttest-testcase.html#expectFailContinue-method" translate="no">expectFailContinue</a></b>(<i>tag</i>, <i>message</i>)</li>
<li class="fn" translate="no"><b><a href="qml-qttest-testcase.html#fail-method" translate="no">fail</a></b>(<i>message</i>)</li>
<li class="fn" translate="no"><b><a href="qml-qttest-testcase.html#failOnWarning-method" translate="no">failOnWarning</a></b>(<i>message</i>) <code class="summary extra" translate="no">(since 6.3)</code></li>
<li class="fn" translate="no">QtObject <b><a href="qml-qttest-testcase.html#findChild-method" translate="no">findChild</a></b>(<i>parent</i>, <i>objectName</i>)</li>
<li class="fn" translate="no"><b><a href="qml-qttest-testcase.html#fuzzyCompare-method" translate="no">fuzzyCompare</a></b>(<i>actual</i>, <i>expected</i>, <i>delta</i>, <i>message</i>)</li>
<li class="fn" translate="no">object <b><a href="qml-qttest-testcase.html#grabImage-method" translate="no">grabImage</a></b>(<i>item</i>)</li>
<li class="fn" translate="no"><b><a href="qml-qttest-testcase.html#ignoreWarning-method" translate="no">ignoreWarning</a></b>(<i>message</i>)</li>
<li class="fn" translate="no"><b><a href="qml-qttest-testcase.html#init-method" translate="no">init</a></b>()</li>
<li class="fn" translate="no"><b><a href="qml-qttest-testcase.html#initTestCase-method" translate="no">initTestCase</a></b>()</li>
<li class="fn" translate="no">bool <b><a href="qml-qttest-testcase.html#isPolishScheduled-method" translate="no">isPolishScheduled</a></b>(object <i>itemOrWindow</i>)</li>
<li class="fn" translate="no"><b><a href="qml-qttest-testcase.html#keyClick-method" translate="no">keyClick</a></b>(<i>key</i>, <i>modifiers</i>, <i>delay</i>)</li>
<li class="fn" translate="no"><b><a href="qml-qttest-testcase.html#keyPress-method" translate="no">keyPress</a></b>(<i>key</i>, <i>modifiers</i>, <i>delay</i>)</li>
<li class="fn" translate="no"><b><a href="qml-qttest-testcase.html#keyRelease-method" translate="no">keyRelease</a></b>(<i>key</i>, <i>modifiers</i>, <i>delay</i>)</li>
<li class="fn" translate="no"><b><a href="qml-qttest-testcase.html#keySequence-method" translate="no">keySequence</a></b>(<i>keySequence</i>)</li>
<li class="fn" translate="no"><b><a href="qml-qttest-testcase.html#mouseClick-method" translate="no">mouseClick</a></b>(<i>item</i>, <i>x</i>, <i>y</i>, <i>button</i>, <i>modifiers</i>, <i>delay</i>)</li>
<li class="fn" translate="no"><b><a href="qml-qttest-testcase.html#mouseDoubleClickSequence-method" translate="no">mouseDoubleClickSequence</a></b>(<i>item</i>, <i>x</i>, <i>y</i>, <i>button</i>, <i>modifiers</i>, <i>delay</i>)</li>
<li class="fn" translate="no"><b><a href="qml-qttest-testcase.html#mouseDrag-method" translate="no">mouseDrag</a></b>(<i>item</i>, <i>x</i>, <i>y</i>, <i>dx</i>, <i>dy</i>, <i>button</i>, <i>modifiers</i>, <i>delay</i>)</li>
<li class="fn" translate="no"><b><a href="qml-qttest-testcase.html#mouseMove-method" translate="no">mouseMove</a></b>(<i>item</i>, <i>x</i>, <i>y</i>, <i>delay</i>, <i>buttons</i>)</li>
<li class="fn" translate="no"><b><a href="qml-qttest-testcase.html#mousePress-method" translate="no">mousePress</a></b>(<i>item</i>, <i>x</i>, <i>y</i>, <i>button</i>, <i>modifiers</i>, <i>delay</i>)</li>
<li class="fn" translate="no"><b><a href="qml-qttest-testcase.html#mouseRelease-method" translate="no">mouseRelease</a></b>(<i>item</i>, <i>x</i>, <i>y</i>, <i>button</i>, <i>modifiers</i>, <i>delay</i>)</li>
<li class="fn" translate="no"><b><a href="qml-qttest-testcase.html#mouseWheel-method" translate="no">mouseWheel</a></b>(<i>item</i>, <i>x</i>, <i>y</i>, <i>xDelta</i>, <i>yDelta</i>, <i>button</i>, <i>modifiers</i>, <i>delay</i>)</li>
<li class="fn" translate="no"><b><a href="qml-qttest-testcase.html#skip-method" translate="no">skip</a></b>(<i>message</i>)</li>
<li class="fn" translate="no"><b><a href="qml-qttest-testcase.html#sleep-method" translate="no">sleep</a></b>(<i>ms</i>)</li>
<li class="fn" translate="no">TouchEventSequence <b><a href="qml-qttest-testcase.html#touchEvent-method" translate="no">touchEvent</a></b>(object <i>item</i>)</li>
<li class="fn" translate="no"><b><a href="qml-qttest-testcase.html#tryCompare-method" translate="no">tryCompare</a></b>(<i>obj</i>, <i>property</i>, <i>expected</i>, <i>timeout</i>, <i>message</i>)</li>
<li class="fn" translate="no"><b><a href="qml-qttest-testcase.html#tryVerify-method" translate="no">tryVerify</a></b>(<i>function</i>, <i>timeout</i>, <i>message</i>)</li>
<li class="fn" translate="no"><b><a href="qml-qttest-testcase.html#verify-method" translate="no">verify</a></b>(<i>condition</i>, <i>message</i>)</li>
<li class="fn" translate="no"><b><a href="qml-qttest-testcase.html#wait-method" translate="no">wait</a></b>(<i>ms</i>)</li>
<li class="fn" translate="no">bool <b><a href="qml-qttest-testcase.html#waitForPolish-method" translate="no">waitForPolish</a></b>(object <i>windowOrItem</i>, int <i>timeout</i>) <code class="summary extra" translate="no">(since 6.5)</code></li>
<li class="fn" translate="no"><b><a href="qml-qttest-testcase.html#waitForRendering-method" translate="no">waitForRendering</a></b>(<i>item</i>, <i>timeout</i>)</li>
<li class="fn" translate="no"><b><a href="qml-qttest-testcase.html#warn-method" translate="no">warn</a></b>(<i>message</i>)</li>
</ul>
<!-- $$$TestCase-description -->
<h2 id="details">Detailed Description</h2>
<h2 id="introduction-to-qml-test-cases">Introduction to QML Test Cases</h2>
<p>Test cases are written as JavaScript functions within a TestCase type:</p>
<pre class="cpp" translate="no">
 import QtQuick 2.0
 import QtTest 1.2

 <span class="type"><a href="qml-qttest-testcase.html" translate="no">TestCase</a></span> {
     <span class="name">name</span>: <span class="string">&quot;MathTests&quot;</span>

     <span class="keyword">function </span><span class="name">test_math</span>() {
         <span class="name">compare</span>(<span class="number">2</span> <span class="operator">+</span> <span class="number">2</span>, <span class="number">4</span>, <span class="string">&quot;2 + 2 = 4&quot;</span>)
     }

     <span class="keyword">function </span><span class="name">test_fail</span>() {
         <span class="name">compare</span>(<span class="number">2</span> <span class="operator">+</span> <span class="number">2</span>, <span class="number">5</span>, <span class="string">&quot;2 + 2 = 5&quot;</span>)
     }
 }
</pre>
<p>Functions whose names start with &quot;test_&quot; are treated as test cases to be executed. The <a href="qml-qttest-testcase.html#name-prop" translate="no">name</a> property is used to prefix the functions in the output:</p>
<pre class="cpp" translate="no">
 <span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span> Start testing of MathTests <span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span>
 Config: Using <span class="type">QTest</span> library <span class="number">4.7.2</span><span class="operator">,</span> <span class="type"><a href="../qtqml/qml-qtqml-qt.html" translate="no">Qt</a></span> <span class="number">4.7.2</span>
 PASS   : MathTests<span class="operator">::</span>initTestCase()
 FAIL<span class="operator">!</span>  : MathTests<span class="operator">::</span>test_fail() <span class="number">2</span> <span class="operator">+</span> <span class="number">2</span> <span class="operator">=</span> <span class="number">5</span>
    Actual (): <span class="number">4</span>
    Expected (): <span class="number">5</span>
    Loc: <span class="operator">[</span><span class="operator">/</span>home<span class="operator">/</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">/</span>tst_math<span class="operator">.</span>qml(<span class="number">12</span>)<span class="operator">]</span>
 PASS   : MathTests<span class="operator">::</span>test_math()
 PASS   : MathTests<span class="operator">::</span>cleanupTestCase()
 Totals: <span class="number">3</span> passed<span class="operator">,</span> <span class="number">1</span> failed<span class="operator">,</span> <span class="number">0</span> skipped
 <span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span> Finished testing of MathTests <span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span>
</pre>
<p>Because of the way JavaScript properties work, the order in which the test functions are found is unpredictable. To assist with predictability, the test framework will sort the functions on ascending order of name. This can help when there are two tests that must be run in order.</p>
<p>Multiple TestCase types can be supplied. The test program will exit once they have all completed. If a test case doesn't need to run (because a precondition has failed), then <a href="qml-qttest-testcase.html#optional-prop" translate="no">optional</a> can be set to true.</p>
<h2 id="data-driven-tests">Data-driven Tests</h2>
<p>Table data can be provided to a test using a function name that ends with &quot;_data&quot;. Alternatively, the <code translate="no">init_data()</code> function can be used to provide default test data for all test functions in a TestCase type:</p>
<pre class="cpp" translate="no">
 import QtQuick 2.0
 import QtTest 1.2

 <span class="type"><a href="qml-qttest-testcase.html" translate="no">TestCase</a></span> {
     <span class="name">name</span>: <span class="string">&quot;DataTests&quot;</span>

     <span class="keyword">function </span><span class="name">init_data</span>() {
       <span class="keyword">return</span> [
            {tag:<span class="string">&quot;init_data_1&quot;</span>, a:<span class="number">1</span>, b:<span class="number">2</span>, answer: <span class="number">3</span>},
            {tag:<span class="string">&quot;init_data_2&quot;</span>, a:<span class="number">2</span>, b:<span class="number">4</span>, answer: <span class="number">6</span>}
       ];
     }

     <span class="keyword">function </span><span class="name">test_table_data</span>() {
         <span class="keyword">return</span> [
             {tag: <span class="string">&quot;2 + 2 = 4&quot;</span>, a: <span class="number">2</span>, b: <span class="number">2</span>, answer: <span class="number">4</span> },
             {tag: <span class="string">&quot;2 + 6 = 8&quot;</span>, a: <span class="number">2</span>, b: <span class="number">6</span>, answer: <span class="number">8</span> },
         ]
     }

     <span class="keyword">function </span><span class="name">test_table</span>(data) {
         <span class="comment">//data comes from test_table_data</span>
         <span class="name">compare</span>(<span class="name">data</span>.<span class="name">a</span> <span class="operator">+</span> <span class="name">data</span>.<span class="name">b</span>, <span class="name">data</span>.<span class="name">answer</span>)
     }

     <span class="keyword">function </span><span class="name">test__default_table</span>(data) {
         <span class="comment">//data comes from init_data</span>
         <span class="name">compare</span>(<span class="name">data</span>.<span class="name">a</span> <span class="operator">+</span> <span class="name">data</span>.<span class="name">b</span>, <span class="name">data</span>.<span class="name">answer</span>)
     }
 }
</pre>
<p>The test framework will iterate over all of the rows in the table and pass each row to the test function. As shown, the columns can be extracted for use in the test. The <code translate="no">tag</code> column is special - it is printed by the test framework when a row fails, to help the reader identify which case failed amongst a set of otherwise passing tests.</p>
<h2 id="benchmarks">Benchmarks</h2>
<p>Functions whose names start with &quot;benchmark_&quot; will be run multiple times with the Qt benchmark framework, with an average timing value reported for the runs. This is equivalent to using the <code translate="no">QBENCHMARK</code> macro in the C++ version of QTestLib.</p>
<pre class="cpp" translate="no">
 TestCase {
     id: top
     name: <span class="string">&quot;CreateBenchmark&quot;</span>

     function benchmark_create_component() {
         let component <span class="operator">=</span> <span class="type"><a href="../qtqml/qml-qtqml-qt.html" translate="no">Qt</a></span><span class="operator">.</span>createComponent(<span class="string">&quot;item.qml&quot;</span>)
         let obj <span class="operator">=</span> component<span class="operator">.</span>createObject(top)
         obj<span class="operator">.</span>destroy()
         component<span class="operator">.</span>destroy()
     }
 }

 RESULT : CreateBenchmark<span class="operator">::</span>benchmark_create_component:
      <span class="number">0.23</span> msecs per iteration (total: <span class="number">60</span><span class="operator">,</span> iterations: <span class="number">256</span>)
 PASS   : CreateBenchmark<span class="operator">::</span>benchmark_create_component()
</pre>
<p>To get the effect of the <code translate="no">QBENCHMARK_ONCE</code> macro, prefix the test function name with &quot;benchmark_once_&quot;.</p>
<h2 id="simulating-keyboard-and-mouse-events">Simulating Keyboard and Mouse Events</h2>
<p>The <a href="qml-qttest-testcase.html#keyPress-method" translate="no">keyPress</a>(), <a href="qml-qttest-testcase.html#keyRelease-method" translate="no">keyRelease</a>(), and <a href="qml-qttest-testcase.html#keyClick-method" translate="no">keyClick</a>() methods can be used to simulate keyboard events within unit tests. The events are delivered to the currently focused QML item. You can pass either a Qt.Key enum value or a latin1 char (string of length one)</p>
<pre class="cpp" translate="no">
 Rectangle {
     width: <span class="number">50</span>; height: <span class="number">50</span>
     focus: <span class="keyword">true</span>

     TestCase {
         name: <span class="string">&quot;KeyClick&quot;</span>
         when: windowShown

         function test_key_click() {
             keyClick(<span class="type"><a href="../qtqml/qml-qtqml-qt.html" translate="no">Qt</a></span><span class="operator">.</span>Key_Left)
             keyClick(<span class="string">&quot;a&quot;</span>)
             <span class="operator">.</span><span class="operator">.</span><span class="operator">.</span>
         }
     }
 }
</pre>
<p>The <a href="qml-qttest-testcase.html#mousePress-method" translate="no">mousePress</a>(), <a href="qml-qttest-testcase.html#mouseRelease-method" translate="no">mouseRelease</a>(), <a href="qml-qttest-testcase.html#mouseClick-method" translate="no">mouseClick</a>(), <a href="qml-qttest-testcase.html#mouseDoubleClickSequence-method" translate="no">mouseDoubleClickSequence</a>() and <a href="qml-qttest-testcase.html#mouseMove-method" translate="no">mouseMove</a>() methods can be used to simulate mouse events in a similar fashion.</p>
<p>If your test creates other windows, it's possible that those windows become active, stealing the focus from the TestCase's window. To ensure that the TestCase's window is active, use the following code:</p>
<pre class="cpp" translate="no">
 testCase<span class="operator">.</span>Window<span class="operator">.</span>window<span class="operator">.</span>requestActivate()
 tryCompare(testCase<span class="operator">.</span>Window<span class="operator">.</span>window<span class="operator">,</span> <span class="string">&quot;active&quot;</span><span class="operator">,</span> <span class="keyword">true</span>)
</pre>
<p><b>Note:</b> keyboard and mouse events can only be delivered once the main window has been shown. Attempts to deliver events before then will fail. Use the <a href="qml-qttest-testcase.html#when-prop" translate="no">when</a> and <a href="qml-qttest-testcase.html#windowShown-prop" translate="no">windowShown</a> properties to track when the main window has been shown.</p>
<h2 id="managing-dynamically-created-test-objects">Managing Dynamically Created Test Objects</h2>
<p>A typical pattern with QML tests is to <a href="../qtqml/qtqml-javascript-dynamicobjectcreation.html" translate="no">dynamically create</a> an item and then destroy it at the end of the test function:</p>
<pre class="cpp" translate="no">
 <span class="type"><a href="qml-qttest-testcase.html" translate="no">TestCase</a></span> {
     <span class="name">id</span>: <span class="name">testCase</span>
     <span class="name">name</span>: <span class="string">&quot;MyTest&quot;</span>
     <span class="name">when</span>: <span class="name">windowShown</span>

     <span class="keyword">function </span><span class="name">test_click</span>() {
         let item = <span class="name">Qt</span>.<span class="name">createQmlObject</span>(<span class="string">&quot;import QtQuick 2.0; Item {}&quot;</span>, <span class="name">testCase</span>);
         <span class="name">verify</span>(<span class="name">item</span>);

         <span class="comment">// Test item...</span>

         <span class="name">item</span>.<span class="name">destroy</span>();
     }
 }
</pre>
<p>The problem with this pattern is that any failures in the test function will cause the call to <code translate="no">item.destroy()</code> to be skipped, leaving the item hanging around in the scene until the test case has finished. This can result in interference with future tests; for example, by blocking input events or producing unrelated debug output that makes it difficult to follow the code's execution.</p>
<p>By calling <a href="qml-qttest-testcase.html#createTemporaryQmlObject-method" translate="no">createTemporaryQmlObject</a>() instead, the object is guaranteed to be destroyed at the end of the test function:</p>
<pre class="cpp" translate="no">
 <span class="type"><a href="qml-qttest-testcase.html" translate="no">TestCase</a></span> {
     <span class="name">id</span>: <span class="name">testCase</span>
     <span class="name">name</span>: <span class="string">&quot;MyTest&quot;</span>
     <span class="name">when</span>: <span class="name">windowShown</span>

     <span class="keyword">function </span><span class="name">test_click</span>() {
         let item = <span class="name">createTemporaryQmlObject</span>(<span class="string">&quot;import QtQuick 2.0; Item {}&quot;</span>, <span class="name">testCase</span>);
         <span class="name">verify</span>(<span class="name">item</span>);

         <span class="comment">// Test item...</span>

         <span class="comment">// Don't need to worry about destroying &quot;item&quot; here.</span>
     }
 }
</pre>
<p>For objects that are created via the <a href="../qtqml/qml-qtqml-component.html#createObject-method" translate="no">createObject</a>() function of <a href="../qtqml/qml-qtqml-component.html" translate="no">Component</a>, the <a href="qml-qttest-testcase.html#createTemporaryObject-method" translate="no">createTemporaryObject</a>() function can be used.</p>
<h2 id="separating-tests-from-application-logic">Separating tests from application logic</h2>
<p>In most cases, you would want to separate your tests from the application logic by splitting them into different projects and linking them.</p>
<p>For example, you could have the following project structure:</p>
<pre class="cpp plain" translate="no">
 .
 | &mdash; CMakeLists.txt
 | &mdash; src
 |  | &mdash; main.cpp
 | &mdash; qml
 |  | &mdash; main.qml
 | &mdash; modules
 |  | &mdash; MyModule
 |     | &mdash; MyButton.qml
 |     | &mdash; CMakeLists.txt
 | &mdash; tests
    | &mdash; UnitQMLTests
       | &mdash; tst_testqml.qml
       | &mdash; main.cpp
       | &mdash; setup.cpp
       | &mdash; setup.h
</pre>
<p>Now, to test the <code translate="no">modules/MyModule/MyButton.qml</code>, create a library for <code translate="no">MyModule</code> in <code translate="no">modules/MyModule/CMakeLists.txt</code> and link it to your test project, <code translate="no">tests/UnitQMLTests/CMakeLists.txt</code>:</p>
<h2 id="add-library">Add library</h2>
<pre class="cpp" translate="no">
     ...
 qt_add_library(${MyModule} STATIC)

 qt6_add_qml_module(${MyModule}
     URI ${MyModule}
     VERSION 1.0
     QML_FILES ${QML_SOURCES}
     # SOURCES ${CPP_SOURCES} ${HPP_SOURCES}
 )
     ...
</pre>
<h2 id="link-against-library">Link against library</h2>
<pre class="cpp" translate="no">
     ...
 add_executable(TestQML main.cpp
                setup.cpp setup.h)

 add_test(NAME TestQML COMMAND TestQML)

 target_link_libraries(
     TestQML
     PRIVATE Qt6::QuickTest
     PRIVATE Qt6::Qml
     PRIVATE MyModule
     PRIVATE MyModuleplugin
 )
     ...
</pre>
<p>Then, in your <code translate="no">tests/UnitQMLTests/tst_testqml.qml</code>, you can import your <code translate="no">modules/MyModule/MyButton.qml</code>:</p>
<h2 id="import-qml">Import QML</h2>
<pre class="qml" translate="no">
 import QtQuick
 import QtQuick.Controls

 import QtTest
 import MyModule

 <span class="type"><a href="../qtquick/qml-qtquick-item.html" translate="no">Item</a></span> {
     <span class="name">width</span>: <span class="number">800</span>; <span class="name">height</span>: <span class="number">600</span>

     <span class="type">MyButton</span> {
         <span class="name">id</span>: <span class="name">myButton</span>
         <span class="name">anchors</span>.centerIn: <span class="name">parent</span>
     }

     <span class="type"><a href="qml-qttest-testcase.html" translate="no">TestCase</a></span> {
         <span class="name">name</span>: <span class="string">&quot;MyButton&quot;</span>;
         <span class="name">when</span>: <span class="name">windowShown</span>;

         <span class="keyword">function </span><span class="name">test_clickToExpand</span>() {
             const widthBeforeClick = <span class="name">myButton</span>.<span class="name">width</span>;
             <span class="name">mouseClick</span>(<span class="name">myButton</span>);
             const widthAfterClick = <span class="name">myButton</span>.<span class="name">width</span>;
             <span class="name">verify</span>(<span class="name">widthBeforeClick</span> <span class="operator">&lt;</span> <span class="name">widthAfterClick</span>);
         }
     }
 }
</pre>
<h2 id="define-qml-button">Define QML button</h2>
<pre class="qml" translate="no">
 import QtQuick
 import QtQuick.Controls

 <span class="type">Button</span> {
     <span class="name">width</span>: <span class="number">50</span>; <span class="name">height</span>: <span class="number">50</span>
     <span class="name">onClicked</span>: { <span class="name">width</span> <span class="operator">=</span> <span class="number">100</span>; }
 }
</pre>
<p><b>See also </b><a href="qml-qttest-signalspy.html" translate="no">SignalSpy</a> and <a href="qtquicktest-index.html" translate="no">Qt Quick Test</a>.</p>
<!-- @@@TestCase -->
<h2>Property Documentation</h2>
<!-- $$$completed -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="completed-prop">
<td class="tblQmlPropNode"><p>
<span class="name">completed</span> : <span class="type"><a href="../qtqml/qml-bool.html" translate="no">bool</a></span></p></td></tr>
</table></div></div>
<div class="qmldoc"><p>This property will be set to true once the test case has completed execution. Test cases are only executed once. The initial value is false.</p>
<p><b>See also </b><a href="qml-qttest-testcase.html#running-prop" translate="no">running</a> and <a href="qml-qttest-testcase.html#when-prop" translate="no">when</a>.</p>
</div></div><!-- @@@completed -->
<br/>
<!-- $$$name -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="name-prop">
<td class="tblQmlPropNode"><p>
<span class="name">name</span> : <span class="type"><a href="../qtqml/qml-string.html" translate="no">string</a></span></p></td></tr>
</table></div></div>
<div class="qmldoc"><p>This property defines the name of the test case for result reporting. The default value is an empty string.</p>
<pre class="cpp" translate="no">
 TestCase {
     name: <span class="string">&quot;ButtonTests&quot;</span>
     <span class="operator">.</span><span class="operator">.</span><span class="operator">.</span>
 }
</pre>
</div></div><!-- @@@name -->
<br/>
<!-- $$$optional -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="optional-prop">
<td class="tblQmlPropNode"><p>
<span class="name">optional</span> : <span class="type"><a href="../qtqml/qml-bool.html" translate="no">bool</a></span></p></td></tr>
</table></div></div>
<div class="qmldoc"><p>Multiple <a href="qml-qttest-testcase.html" translate="no">TestCase</a> types can be supplied in a test application. The application will exit once they have all completed. If a test case does not need to run (because a precondition has failed), then this property can be set to true. The default value is false.</p>
<pre class="cpp" translate="no">
 <span class="type"><a href="qml-qttest-testcase.html" translate="no">TestCase</a></span> {
     <span class="name">when</span>: <span class="number">false</span>
     <span class="name">optional</span>: <span class="number">true</span>
     <span class="keyword">function </span><span class="name">test_not_run</span>() {
         <span class="name">verify</span>(<span class="number">false</span>)
     }
 }
</pre>
<p><b>See also </b><a href="qml-qttest-testcase.html#when-prop" translate="no">when</a> and <a href="qml-qttest-testcase.html#completed-prop" translate="no">completed</a>.</p>
</div></div><!-- @@@optional -->
<br/>
<!-- $$$running -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="running-prop">
<td class="tblQmlPropNode"><p>
<span class="name">running</span> : <span class="type"><a href="../qtqml/qml-bool.html" translate="no">bool</a></span></p></td></tr>
</table></div></div>
<div class="qmldoc"><p>This property will be set to true while the test case is running. The initial value is false, and the value will become false again once the test case completes.</p>
<p><b>See also </b><a href="qml-qttest-testcase.html#completed-prop" translate="no">completed</a> and <a href="qml-qttest-testcase.html#when-prop" translate="no">when</a>.</p>
</div></div><!-- @@@running -->
<br/>
<!-- $$$when -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="when-prop">
<td class="tblQmlPropNode"><p>
<span class="name">when</span> : <span class="type"><a href="../qtqml/qml-bool.html" translate="no">bool</a></span></p></td></tr>
</table></div></div>
<div class="qmldoc"><p>This property should be set to true when the application wants the test cases to run. The default value is true. In the following example, a test is run when the user presses the mouse button:</p>
<pre class="cpp" translate="no">
 <span class="type"><a href="../qtquick/qml-qtquick-rectangle.html" translate="no">Rectangle</a></span> {
     <span class="name">id</span>: <span class="name">foo</span>
     <span class="name">width</span>: <span class="number">640</span>; <span class="name">height</span>: <span class="number">480</span>
     <span class="name">color</span>: <span class="string">&quot;cyan&quot;</span>

     <span class="type"><a href="../qtquick/qml-qtquick-mousearea.html" translate="no">MouseArea</a></span> {
         <span class="name">id</span>: <span class="name">area</span>
         <span class="name">anchors</span>.fill: <span class="name">parent</span>
     }

     property <span class="type"><a href="../qtqml/qml-bool.html" translate="no">bool</a></span> <span class="name">bar</span>: <span class="number">true</span>

     <span class="type"><a href="qml-qttest-testcase.html" translate="no">TestCase</a></span> {
         <span class="name">name</span>: <span class="string">&quot;ItemTests&quot;</span>
         <span class="name">when</span>: <span class="name">area</span>.<span class="name">pressed</span>
         <span class="name">id</span>: <span class="name">test1</span>

         <span class="keyword">function </span><span class="name">test_bar</span>() {
             <span class="name">verify</span>(<span class="name">bar</span>)
         }
     }
 }
</pre>
<p>The test application will exit once all <a href="qml-qttest-testcase.html" translate="no">TestCase</a> types have been triggered and have run. The <a href="qml-qttest-testcase.html#optional-prop" translate="no">optional</a> property can be used to exclude a <a href="qml-qttest-testcase.html" translate="no">TestCase</a> type.</p>
<p><b>See also </b><a href="qml-qttest-testcase.html#optional-prop" translate="no">optional</a> and <a href="qml-qttest-testcase.html#completed-prop" translate="no">completed</a>.</p>
</div></div><!-- @@@when -->
<br/>
<!-- $$$windowShown -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="windowShown-prop">
<td class="tblQmlPropNode"><p>
<span class="name">windowShown</span> : <span class="type"><a href="../qtqml/qml-bool.html" translate="no">bool</a></span></p></td></tr>
</table></div></div>
<div class="qmldoc"><p>This property will be set to true after the QML viewing window has been displayed. Normally test cases run as soon as the test application is loaded and before a window is displayed. If the test case involves visual types and behaviors, then it may need to be delayed until after the window is shown.</p>
<pre class="cpp" translate="no">
 <span class="type">Button</span> {
     <span class="name">id</span>: <span class="name">button</span>
     <span class="name">onClicked</span>: <span class="name">text</span> <span class="operator">=</span> <span class="string">&quot;Clicked&quot;</span>
     <span class="type"><a href="qml-qttest-testcase.html" translate="no">TestCase</a></span> {
         <span class="name">name</span>: <span class="string">&quot;ClickTest&quot;</span>
         <span class="name">when</span>: <span class="name">windowShown</span>
         <span class="keyword">function </span><span class="name">test_click</span>() {
             <span class="name">button</span>.<span class="name">clicked</span>();
             <span class="name">compare</span>(<span class="name">button</span>.<span class="name">text</span>, <span class="string">&quot;Clicked&quot;</span>);
         }
     }
 }
</pre>
</div></div><!-- @@@windowShown -->
<br/>
<h2>Method Documentation</h2>
<!-- $$$cleanup[overload1]$$$cleanup -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="cleanup-method">
<td class="tblQmlFuncNode"><p>
<span class="name">cleanup</span>()</p></td></tr>
</table></div></div>
<div class="qmldoc"><p>This function is called after each test function that is executed in the <a href="qml-qttest-testcase.html" translate="no">TestCase</a> type. The default implementation does nothing. The application can provide its own implementation to perform cleanup after each test function.</p>
<p><b>See also </b><a href="qml-qttest-testcase.html#init-method" translate="no">init</a>() and <a href="qml-qttest-testcase.html#cleanupTestCase-method" translate="no">cleanupTestCase</a>().</p>
</div></div><!-- @@@cleanup -->
<br/>
<!-- $$$cleanupTestCase[overload1]$$$cleanupTestCase -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="cleanupTestCase-method">
<td class="tblQmlFuncNode"><p>
<span class="name">cleanupTestCase</span>()</p></td></tr>
</table></div></div>
<div class="qmldoc"><p>This function is called after all other test functions in the <a href="qml-qttest-testcase.html" translate="no">TestCase</a> type have completed. The default implementation does nothing. The application can provide its own implementation to perform test case cleanup.</p>
<p><b>See also </b><a href="qml-qttest-testcase.html#initTestCase-method" translate="no">initTestCase</a>() and <a href="qml-qttest-testcase.html#cleanup-method" translate="no">cleanup</a>().</p>
</div></div><!-- @@@cleanupTestCase -->
<br/>
<!-- $$$compare[overload1]$$$compare -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="compare-method">
<td class="tblQmlFuncNode"><p>
<span class="name">compare</span>(<i>actual</i>, <i>expected</i>, <i>message</i> = &quot;&quot;)</p></td></tr>
</table></div></div>
<div class="qmldoc"><p>Fails the current test case if <i translate="no">actual</i> is not the same as <i translate="no">expected</i>, and displays the optional <i translate="no">message</i>. Similar to <code translate="no">QCOMPARE(actual, expected)</code> in C++.</p>
<p><b>See also </b><a href="qml-qttest-testcase.html#tryCompare-method" translate="no">tryCompare</a>() and <a href="qml-qttest-testcase.html#fuzzyCompare-method" translate="no">fuzzyCompare</a>.</p>
</div></div><!-- @@@compare -->
<br/>
<!-- $$$createTemporaryObject[overload1]$$$createTemporaryObjectComponentobjectobject -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="createTemporaryObject-method">
<td class="tblQmlFuncNode"><p>
<span class="type">object</span> <span class="name">createTemporaryObject</span>(<span class="type"><a href="../qtqml/qml-qtqml-component.html" translate="no">Component</a></span> <i>component</i>, <span class="type">object</span> <i>parent</i>, <span class="type">object</span> <i>properties</i>)</p></td></tr>
</table></div></div>
<div class="qmldoc"><p>This function dynamically creates a QML object from the given <i translate="no">component</i> with the specified optional <i translate="no">parent</i> and <i translate="no">properties</i>. The returned object will be destroyed (if it was not already) after <a href="qml-qttest-testcase.html#cleanup-method" translate="no">cleanup</a>() has finished executing, meaning that objects created with this function are guaranteed to be destroyed after each test, regardless of whether or not the tests fail.</p>
<p>If there was an error while creating the object, <code translate="no">null</code> will be returned.</p>
<p>This function calls <a href="../qtqml/qml-qtqml-component.html#createObject-method" translate="no">component.createObject</a>() internally.</p>
<p><b>See also </b><a href="qml-qttest-testcase.html#managing-dynamically-created-test-objects" translate="no">Managing Dynamically Created Test Objects</a>.</p>
</div></div><!-- @@@createTemporaryObject -->
<br/>
<!-- $$$createTemporaryQmlObject[overload1]$$$createTemporaryQmlObjectstringobjectstring -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="createTemporaryQmlObject-method">
<td class="tblQmlFuncNode"><p>
<span class="type">object</span> <span class="name">createTemporaryQmlObject</span>(<span class="type"><a href="../qtqml/qml-string.html" translate="no">string</a></span> <i>qml</i>, <span class="type">object</span> <i>parent</i>, <span class="type"><a href="../qtqml/qml-string.html" translate="no">string</a></span> <i>filePath</i>)</p></td></tr>
</table></div></div>
<div class="qmldoc"><p>This function dynamically creates a QML object from the given <i translate="no">qml</i> string with the specified <i translate="no">parent</i>. The returned object will be destroyed (if it was not already) after <a href="qml-qttest-testcase.html#cleanup-method" translate="no">cleanup</a>() has finished executing, meaning that objects created with this function are guaranteed to be destroyed after each test, regardless of whether or not the tests fail.</p>
<p>If there was an error while creating the object, <code translate="no">null</code> will be returned.</p>
<p>If <i translate="no">filePath</i> is specified, it will be used for error reporting for the created object.</p>
<p>This function calls <a href="../qtqml/qml-qtqml-qt.html#createQmlObject-method" translate="no">Qt.createQmlObject</a>() internally.</p>
<p><b>See also </b><a href="qml-qttest-testcase.html#managing-dynamically-created-test-objects" translate="no">Managing Dynamically Created Test Objects</a>.</p>
</div></div><!-- @@@createTemporaryQmlObject -->
<br/>
<!-- $$$expectFail[overload1]$$$expectFail -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="expectFail-method">
<td class="tblQmlFuncNode"><p>
<span class="name">expectFail</span>(<i>tag</i>, <i>message</i>)</p></td></tr>
</table></div></div>
<div class="qmldoc"><p>In a data-driven test, marks the row associated with <i translate="no">tag</i> as expected to fail. When the fail occurs, display the <i translate="no">message</i>, abort the test, and mark the test as passing. Similar to <code translate="no">QEXPECT_FAIL(tag, message, Abort)</code> in C++.</p>
<p>If the test is not data-driven, then <i translate="no">tag</i> must be set to an empty string.</p>
<p><b>See also </b><a href="qml-qttest-testcase.html#expectFailContinue-method" translate="no">expectFailContinue</a>().</p>
</div></div><!-- @@@expectFail -->
<br/>
<!-- $$$expectFailContinue[overload1]$$$expectFailContinue -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="expectFailContinue-method">
<td class="tblQmlFuncNode"><p>
<span class="name">expectFailContinue</span>(<i>tag</i>, <i>message</i>)</p></td></tr>
</table></div></div>
<div class="qmldoc"><p>In a data-driven test, marks the row associated with <i translate="no">tag</i> as expected to fail. When the fail occurs, display the <i translate="no">message</i>, and then continue the test. Similar to <code translate="no">QEXPECT_FAIL(tag, message, Continue)</code> in C++.</p>
<p>If the test is not data-driven, then <i translate="no">tag</i> must be set to an empty string.</p>
<p><b>See also </b><a href="qml-qttest-testcase.html#expectFail-method" translate="no">expectFail</a>().</p>
</div></div><!-- @@@expectFailContinue -->
<br/>
<!-- $$$fail[overload1]$$$fail -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="fail-method">
<td class="tblQmlFuncNode"><p>
<span class="name">fail</span>(<i>message</i> = &quot;&quot;)</p></td></tr>
</table></div></div>
<div class="qmldoc"><p>Fails the current test case, with the optional <i translate="no">message</i>. Similar to <code translate="no">QFAIL(message)</code> in C++.</p>
</div></div><!-- @@@fail -->
<br/>
<!-- $$$failOnWarning[overload1]$$$failOnWarning -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="failOnWarning-method">
<td class="tblQmlFuncNode"><p>
<code class="details extra" translate="no">[since 6.3]</code> <span class="name">failOnWarning</span>(<i>message</i>)</p></td></tr>
</table></div></div>
<div class="qmldoc"><p>Appends a test failure to the test log for each warning that matches <i translate="no">message</i>. The test function will continue execution when a failure is added.</p>
<p><i translate="no">message</i> can be either a string, or a regular expression providing a pattern of messages. In the latter case, for each warning encountered, the first pattern that matches will cause a failure, and the remaining patterns will be ignored.</p>
<p>All patterns are cleared at the end of each test function.</p>
<p>For example, the following snippet will fail a test if a warning with the text &quot;Something bad happened&quot; is produced:</p>
<pre class="qml" translate="no">
 failOnWarning(&quot;Something bad happened&quot;)
</pre>
<p>The following snippet will fail a test if any warning matching the given pattern is encountered:</p>
<pre class="qml" translate="no">
 failOnWarning(/[0-9]+ bad things happened/)
</pre>
<p>To fail every test that triggers a given warning, pass a suitable regular expression to this function in <a href="qml-qttest-testcase.html#init-method" translate="no">init</a>():</p>
<pre class="qml" translate="no">
 function init() {
     failOnWarning(/.?/)
 }
</pre>
<div class="admonition note">
<p><b>Note: </b>Despite being a JavaScript RegExp object, it will not be interpreted as such; instead, the pattern will be passed to <a href="../qtcore/qregularexpression.html" translate="no">QRegularExpression</a>.</p>
</div>
<div class="admonition note">
<p><b>Note: </b>ignoreMessage() takes precedence over this function, so any warnings that match a pattern given to both <code translate="no">ignoreMessage()</code> and <code translate="no">failOnWarning()</code> will be ignored.</p>
</div>
<p>This method was introduced in Qt 6.3.</p>
<p><b>See also </b><a href="../qttestlib/qtest.html#failOnWarning" translate="no">QTest::failOnWarning</a>() and <a href="qml-qttest-testcase.html#warn-method" translate="no">warn</a>().</p>
</div></div><!-- @@@failOnWarning -->
<br/>
<!-- $$$findChild[overload1]$$$findChild -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="findChild-method">
<td class="tblQmlFuncNode"><p>
<span class="type"><a href="../qtqml/qml-qtqml-qtobject.html" translate="no">QtObject</a></span> <span class="name">findChild</span>(<i>parent</i>, <i>objectName</i>)</p></td></tr>
</table></div></div>
<div class="qmldoc"><p>Returns the first child of <i translate="no">parent</i> with <i translate="no">objectName</i>, or <code translate="no">null</code> if no such item exists. Both visual and non-visual children are searched recursively, with visual children being searched first.</p>
<pre class="cpp" translate="no">
 compare(findChild(item<span class="operator">,</span> <span class="string">&quot;childObject&quot;</span>)<span class="operator">,</span> expectedChildObject);
</pre>
</div></div><!-- @@@findChild -->
<br/>
<!-- $$$fuzzyCompare[overload1]$$$fuzzyCompare -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="fuzzyCompare-method">
<td class="tblQmlFuncNode"><p>
<span class="name">fuzzyCompare</span>(<i>actual</i>, <i>expected</i>, <i>delta</i>, <i>message</i> = &quot;&quot;)</p></td></tr>
</table></div></div>
<div class="qmldoc"><p>Fails the current test case if the difference betwen <i translate="no">actual</i> and <i translate="no">expected</i> is greater than <i translate="no">delta</i>, and displays the optional <i translate="no">message</i>. Similar to <code translate="no">qFuzzyCompare(actual, expected)</code> in C++ but with a required <i translate="no">delta</i> value.</p>
<p>This function can also be used for color comparisons if both the <i translate="no">actual</i> and <i translate="no">expected</i> values can be converted into color values. If any of the differences for RGBA channel values are greater than <i translate="no">delta</i>, the test fails.</p>
<p><b>See also </b><a href="qml-qttest-testcase.html#tryCompare-method" translate="no">tryCompare</a>() and <a href="qml-qttest-testcase.html#compare-method" translate="no">compare</a>().</p>
</div></div><!-- @@@fuzzyCompare -->
<br/>
<!-- $$$grabImage[overload1]$$$grabImage -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="grabImage-method">
<td class="tblQmlFuncNode"><p>
<span class="type">object</span> <span class="name">grabImage</span>(<i>item</i>)</p></td></tr>
</table></div></div>
<div class="qmldoc"><p>Returns a snapshot image object of the given <i translate="no">item</i>.</p>
<p>The returned image object has the following properties:</p>
<ul>
<li>width Returns the width of the underlying image (since 5.10)</li>
<li>height Returns the height of the underlying image (since 5.10)</li>
<li>size Returns the size of the underlying image (since 5.10)</li>
</ul>
<p>Additionally, the returned image object has the following methods:</p>
<ul>
<li><code translate="no">red(x, y)</code> Returns the red channel value of the pixel at <i>x</i>, <i>y</i> position</li>
<li><code translate="no">green(x, y)</code> Returns the green channel value of the pixel at <i>x</i>, <i>y</i> position</li>
<li><code translate="no">blue(x, y)</code> Returns the blue channel value of the pixel at <i>x</i>, <i>y</i> position</li>
<li><code translate="no">alpha(x, y)</code> Returns the alpha channel value of the pixel at <i>x</i>, <i>y</i> position</li>
<li><code translate="no">pixel(x, y)</code> Returns the color value of the pixel at <i>x</i>, <i>y</i> position</li>
<li><code translate="no">equals(image)</code> Returns <code translate="no">true</code> if this image is identical to <i>image</i> - see <a href="../qtgui/qimage.html#operator-eq-eq" translate="no">QImage::operator==</a> (since 5.6)<p>For example:</p>
<pre class="cpp" translate="no">
 let image <span class="operator">=</span> grabImage(rect);
 compare(image<span class="operator">.</span>red(<span class="number">10</span><span class="operator">,</span> <span class="number">10</span>)<span class="operator">,</span> <span class="number">255</span>);
 compare(image<span class="operator">.</span>pixel(<span class="number">20</span><span class="operator">,</span> <span class="number">20</span>)<span class="operator">,</span> <span class="type"><a href="../qtqml/qml-qtqml-qt.html" translate="no">Qt</a></span><span class="operator">.</span>rgba(<span class="number">255</span><span class="operator">,</span> <span class="number">0</span><span class="operator">,</span> <span class="number">0</span><span class="operator">,</span> <span class="number">255</span>));

 rect<span class="operator">.</span>width <span class="operator">+</span><span class="operator">=</span> <span class="number">10</span>;
 let newImage <span class="operator">=</span> grabImage(rect);
 verify(<span class="operator">!</span>newImage<span class="operator">.</span>equals(image));
</pre>
</li>
<li><code translate="no">save(path)</code> Saves the image to the given <i>path</i>. If the image cannot be saved, an exception will be thrown. (since 5.10)<p>This can be useful to perform postmortem analysis on failing tests, for example:</p>
<pre class="cpp" translate="no">
 let image <span class="operator">=</span> grabImage(rect);
 <span class="keyword">try</span> {
     compare(image<span class="operator">.</span>width<span class="operator">,</span> <span class="number">100</span>);
 } <span class="keyword">catch</span> (ex) {
     image<span class="operator">.</span>save(<span class="string">&quot;debug.png&quot;</span>);
     <span class="keyword">throw</span> ex;
 }
</pre>
</li>
</ul>
</div></div><!-- @@@grabImage -->
<br/>
<!-- $$$ignoreWarning[overload1]$$$ignoreWarning -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="ignoreWarning-method">
<td class="tblQmlFuncNode"><p>
<span class="name">ignoreWarning</span>(<i>message</i>)</p></td></tr>
</table></div></div>
<div class="qmldoc"><p>Marks <i translate="no">message</i> as an ignored warning message. When it occurs, the warning will not be printed and the test passes. If the message does not occur, then the test will fail. Similar to <code translate="no">QTest::ignoreMessage(QtWarningMsg, message)</code> in C++.</p>
<p>Since Qt 5.12, <i translate="no">message</i> can be either a string, or a regular expression providing a pattern of messages to ignore.</p>
<p>For example, the following snippet will ignore a string warning message:</p>
<pre class="qml" translate="no">
 ignoreWarning(&quot;Something sort of bad happened&quot;)
</pre>
<p>And the following snippet will ignore a regular expression matching a number of possible warning messages:</p>
<pre class="qml" translate="no">
 ignoreWarning(new RegExp(&quot;[0-9]+ bad things happened&quot;))
</pre>
<div class="admonition note">
<p><b>Note: </b>Despite being a JavaScript RegExp object, it will not be interpreted as such; instead, the pattern will be passed to <a href="../qtcore/qregularexpression.html" translate="no">QRegularExpression</a>.</p>
</div>
<p><b>See also </b><a href="qml-qttest-testcase.html#warn-method" translate="no">warn</a>().</p>
</div></div><!-- @@@ignoreWarning -->
<br/>
<!-- $$$init[overload1]$$$init -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="init-method">
<td class="tblQmlFuncNode"><p>
<span class="name">init</span>()</p></td></tr>
</table></div></div>
<div class="qmldoc"><p>This function is called before each test function that is executed in the <a href="qml-qttest-testcase.html" translate="no">TestCase</a> type. The default implementation does nothing. The application can provide its own implementation to perform initialization before each test function.</p>
<p><b>See also </b><a href="qml-qttest-testcase.html#cleanup-method" translate="no">cleanup</a>() and <a href="qml-qttest-testcase.html#initTestCase-method" translate="no">initTestCase</a>().</p>
</div></div><!-- @@@init -->
<br/>
<!-- $$$initTestCase[overload1]$$$initTestCase -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="initTestCase-method">
<td class="tblQmlFuncNode"><p>
<span class="name">initTestCase</span>()</p></td></tr>
</table></div></div>
<div class="qmldoc"><p>This function is called before any other test functions in the <a href="qml-qttest-testcase.html" translate="no">TestCase</a> type. The default implementation does nothing. The application can provide its own implementation to perform test case initialization.</p>
<p><b>See also </b><a href="qml-qttest-testcase.html#cleanupTestCase-method" translate="no">cleanupTestCase</a>() and <a href="qml-qttest-testcase.html#init-method" translate="no">init</a>().</p>
</div></div><!-- @@@initTestCase -->
<br/>
<!-- $$$isPolishScheduled[overload1]$$$isPolishScheduledobject -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="isPolishScheduled-method">
<td class="tblQmlFuncNode"><p>
<span class="type"><a href="../qtqml/qml-bool.html" translate="no">bool</a></span> <span class="name">isPolishScheduled</span>(<span class="type">object</span> <i>itemOrWindow</i>)</p></td></tr>
</table></div></div>
<div class="qmldoc"><p>If <i translate="no">itemOrWindow</i> is an <a href="../qtquick/qml-qtquick-item.html" translate="no">Item</a>, this function returns <code translate="no">true</code> if <a href="../qtquick/qquickitem.html#updatePolish" translate="no">updatePolish</a>() has not been called on it since the last call to <a href="../qtquick/qquickitem.html#polish" translate="no">polish</a>(), otherwise returns <code translate="no">false</code>.</p>
<p>Since Qt 6.5, if <i translate="no">itemOrWindow</i> is a <a href="../qtquick/qml-qtquick-window.html" translate="no">Window</a>, this function returns <code translate="no">true</code> if <a href="../qtquick/qquickitem.html#updatePolish" translate="no">updatePolish</a>() has not been called on any item it manages since the last call to <a href="../qtquick/qquickitem.html#polish" translate="no">polish</a>() on those items, otherwise returns <code translate="no">false</code>.</p>
<p>When assigning values to properties in QML, any layouting the item must do as a result of the assignment might not take effect immediately, but can instead be postponed until the item is polished. For these cases, you can use this function to ensure that items have been polished before the execution of the test continues. For example:</p>
<pre class="cpp" translate="no">
 verify(isPolishScheduled(item))
 verify(waitForItemPolished(item))
</pre>
<p>Without the call to <code translate="no">isPolishScheduled()</code> above, the call to <code translate="no">waitForItemPolished()</code> might see that no polish was scheduled and therefore pass instantly, assuming that the item had already been polished. This function makes it obvious why an item wasn't polished and allows tests to fail early under such circumstances.</p>
<p><b>See also </b><a href="qml-qttest-testcase.html#waitForPolish-method" translate="no">waitForPolish</a>(), <a href="../qtquick/qquickitem.html#polish" translate="no">QQuickItem::polish</a>(), and <a href="../qtquick/qquickitem.html#updatePolish" translate="no">QQuickItem::updatePolish</a>().</p>
</div></div><!-- @@@isPolishScheduled -->
<br/>
<!-- $$$keyClick[overload1]$$$keyClick -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="keyClick-method">
<td class="tblQmlFuncNode"><p>
<span class="name">keyClick</span>(<i>key</i>, <i>modifiers</i> = Qt.NoModifier, <i>delay</i> = -1)</p></td></tr>
</table></div></div>
<div class="qmldoc"><p>Simulates clicking of <i translate="no">key</i> with optional <i translate="no">modifiers</i> on the currently focused item. If <i translate="no">delay</i> is larger than 0, the test will wait for <i translate="no">delay</i> milliseconds.</p>
<p>The event will be sent to the <a href="qml-qttest-testcase.html" translate="no">TestCase</a> window or, in case of multiple windows, to the current active window. See <a href="../qtgui/qguiapplication.html#focusWindow" translate="no">QGuiApplication::focusWindow</a>() for more details.</p>
<p><b>See also </b><a href="qml-qttest-testcase.html#keyPress-method" translate="no">keyPress</a>() and <a href="qml-qttest-testcase.html#keyRelease-method" translate="no">keyRelease</a>().</p>
</div></div><!-- @@@keyClick -->
<br/>
<!-- $$$keyPress[overload1]$$$keyPress -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="keyPress-method">
<td class="tblQmlFuncNode"><p>
<span class="name">keyPress</span>(<i>key</i>, <i>modifiers</i> = Qt.NoModifier, <i>delay</i> = -1)</p></td></tr>
</table></div></div>
<div class="qmldoc"><p>Simulates pressing a <i translate="no">key</i> with optional <i translate="no">modifiers</i> on the currently focused item. If <i translate="no">delay</i> is larger than 0, the test will wait for <i translate="no">delay</i> milliseconds.</p>
<p>The event will be sent to the <a href="qml-qttest-testcase.html" translate="no">TestCase</a> window or, in case of multiple windows, to the current active window. See <a href="../qtgui/qguiapplication.html#focusWindow" translate="no">QGuiApplication::focusWindow</a>() for more details.</p>
<p><b>Note:</b> At some point you should release the key using <a href="qml-qttest-testcase.html#keyRelease-method" translate="no">keyRelease</a>().</p>
<p><b>See also </b><a href="qml-qttest-testcase.html#keyRelease-method" translate="no">keyRelease</a>() and <a href="qml-qttest-testcase.html#keyClick-method" translate="no">keyClick</a>().</p>
</div></div><!-- @@@keyPress -->
<br/>
<!-- $$$keyRelease[overload1]$$$keyRelease -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="keyRelease-method">
<td class="tblQmlFuncNode"><p>
<span class="name">keyRelease</span>(<i>key</i>, <i>modifiers</i> = Qt.NoModifier, <i>delay</i> = -1)</p></td></tr>
</table></div></div>
<div class="qmldoc"><p>Simulates releasing a <i translate="no">key</i> with optional <i translate="no">modifiers</i> on the currently focused item. If <i translate="no">delay</i> is larger than 0, the test will wait for <i translate="no">delay</i> milliseconds.</p>
<p>The event will be sent to the <a href="qml-qttest-testcase.html" translate="no">TestCase</a> window or, in case of multiple windows, to the current active window. See <a href="../qtgui/qguiapplication.html#focusWindow" translate="no">QGuiApplication::focusWindow</a>() for more details.</p>
<p><b>See also </b><a href="qml-qttest-testcase.html#keyPress-method" translate="no">keyPress</a>() and <a href="qml-qttest-testcase.html#keyClick-method" translate="no">keyClick</a>().</p>
</div></div><!-- @@@keyRelease -->
<br/>
<!-- $$$keySequence[overload1]$$$keySequence -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="keySequence-method">
<td class="tblQmlFuncNode"><p>
<span class="name">keySequence</span>(<i>keySequence</i>)</p></td></tr>
</table></div></div>
<div class="qmldoc"><p>Simulates typing of <i translate="no">keySequence</i>. The key sequence can be set to one of the <a href="../qtgui/qkeysequence.html#StandardKey-enum" translate="no">standard keyboard shortcuts</a>, or it can be described with a string containing a sequence of up to four key presses.</p>
<p>Each event shall be sent to the <a href="qml-qttest-testcase.html" translate="no">TestCase</a> window or, in case of multiple windows, to the current active window. See <a href="../qtgui/qguiapplication.html#focusWindow" translate="no">QGuiApplication::focusWindow</a>() for more details.</p>
<p><b>See also </b><a href="qml-qttest-testcase.html#keyPress-method" translate="no">keyPress</a>(), <a href="qml-qttest-testcase.html#keyRelease-method" translate="no">keyRelease</a>(), <a href="../qtgui/qkeysequence.html#gnu-emacs-style-key-sequences" translate="no">GNU Emacs Style Key Sequences</a>, and <a href="../qtquick/qml-qtquick-shortcut.html#sequence-prop" translate="no">Shortcut.sequence</a>.</p>
</div></div><!-- @@@keySequence -->
<br/>
<!-- $$$mouseClick[overload1]$$$mouseClick -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="mouseClick-method">
<td class="tblQmlFuncNode"><p>
<span class="name">mouseClick</span>(<i>item</i>, <i>x</i> = item.width / 2, <i>y</i> = item.height / 2, <i>button</i> = Qt.LeftButton, <i>modifiers</i> = Qt.NoModifier, <i>delay</i> = -1)</p></td></tr>
</table></div></div>
<div class="qmldoc"><p>Simulates clicking a mouse <i translate="no">button</i> with optional <i translate="no">modifiers</i> on an <i translate="no">item</i>. The position of the click is defined by <i translate="no">x</i> and <i translate="no">y</i>. If <i translate="no">x</i> and <i translate="no">y</i> are not defined the position will be the center of <i translate="no">item</i>. If <i translate="no">delay</i> is specified, the test will wait for the specified amount of milliseconds before pressing and before releasing the button.</p>
<p>The position given by <i translate="no">x</i> and <i translate="no">y</i> is transformed from the co-ordinate system of <i translate="no">item</i> into window co-ordinates and then delivered. If <i translate="no">item</i> is obscured by another item, or a child of <i translate="no">item</i> occupies that position, then the event will be delivered to the other item instead.</p>
<p><b>See also </b><a href="qml-qttest-testcase.html#mousePress-method" translate="no">mousePress</a>(), <a href="qml-qttest-testcase.html#mouseRelease-method" translate="no">mouseRelease</a>(), <a href="qml-qttest-testcase.html#mouseDoubleClickSequence-method" translate="no">mouseDoubleClickSequence</a>(), <a href="qml-qttest-testcase.html#mouseMove-method" translate="no">mouseMove</a>(), <a href="qml-qttest-testcase.html#mouseDrag-method" translate="no">mouseDrag</a>(), and <a href="qml-qttest-testcase.html#mouseWheel-method" translate="no">mouseWheel</a>().</p>
</div></div><!-- @@@mouseClick -->
<br/>
<!-- $$$mouseDoubleClickSequence[overload1]$$$mouseDoubleClickSequence -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="mouseDoubleClickSequence-method">
<td class="tblQmlFuncNode"><p>
<span class="name">mouseDoubleClickSequence</span>(<i>item</i>, <i>x</i> = item.width / 2, <i>y</i> = item.height / 2, <i>button</i> = Qt.LeftButton, <i>modifiers</i> = Qt.NoModifier, <i>delay</i> = -1)</p></td></tr>
</table></div></div>
<div class="qmldoc"><p>Simulates the full sequence of events generated by double-clicking a mouse <i translate="no">button</i> with optional <i translate="no">modifiers</i> on an <i translate="no">item</i>.</p>
<p>This method reproduces the sequence of mouse events generated when a user makes a double click: Press-Release-Press-DoubleClick-Release.</p>
<p>The position of the click is defined by <i translate="no">x</i> and <i translate="no">y</i>. If <i translate="no">x</i> and <i translate="no">y</i> are not defined the position will be the center of <i translate="no">item</i>. If <i translate="no">delay</i> is specified, the test will wait for the specified amount of milliseconds before pressing and before releasing the button.</p>
<p>The position given by <i translate="no">x</i> and <i translate="no">y</i> is transformed from the co-ordinate system of <i translate="no">item</i> into window co-ordinates and then delivered. If <i translate="no">item</i> is obscured by another item, or a child of <i translate="no">item</i> occupies that position, then the event will be delivered to the other item instead.</p>
<p>This QML method was introduced in Qt 5.5.</p>
<p><b>See also </b><a href="qml-qttest-testcase.html#mousePress-method" translate="no">mousePress</a>(), <a href="qml-qttest-testcase.html#mouseRelease-method" translate="no">mouseRelease</a>(), <a href="qml-qttest-testcase.html#mouseClick-method" translate="no">mouseClick</a>(), <a href="qml-qttest-testcase.html#mouseMove-method" translate="no">mouseMove</a>(), <a href="qml-qttest-testcase.html#mouseDrag-method" translate="no">mouseDrag</a>(), and <a href="qml-qttest-testcase.html#mouseWheel-method" translate="no">mouseWheel</a>().</p>
</div></div><!-- @@@mouseDoubleClickSequence -->
<br/>
<!-- $$$mouseDrag[overload1]$$$mouseDrag -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="mouseDrag-method">
<td class="tblQmlFuncNode"><p>
<span class="name">mouseDrag</span>(<i>item</i>, <i>x</i>, <i>y</i>, <i>dx</i>, <i>dy</i>, <i>button</i> = Qt.LeftButton, <i>modifiers</i> = Qt.NoModifier, <i>delay</i> = -1)</p></td></tr>
</table></div></div>
<div class="qmldoc"><p>Simulates dragging the mouse on an <i translate="no">item</i> with <i translate="no">button</i> pressed and optional <i translate="no">modifiers</i> The initial drag position is defined by <i translate="no">x</i> and <i translate="no">y</i>, and drag distance is defined by <i translate="no">dx</i> and <i translate="no">dy</i>. If <i translate="no">delay</i> is specified, the test will wait for the specified amount of milliseconds before releasing the button.</p>
<p>The position given by <i translate="no">x</i> and <i translate="no">y</i> is transformed from the co-ordinate system of <i translate="no">item</i> into window co-ordinates and then delivered. If <i translate="no">item</i> is obscured by another item, or a child of <i translate="no">item</i> occupies that position, then the event will be delivered to the other item instead.</p>
<p><b>See also </b><a href="qml-qttest-testcase.html#mousePress-method" translate="no">mousePress</a>(), <a href="qml-qttest-testcase.html#mouseClick-method" translate="no">mouseClick</a>(), <a href="qml-qttest-testcase.html#mouseDoubleClickSequence-method" translate="no">mouseDoubleClickSequence</a>(), <a href="qml-qttest-testcase.html#mouseMove-method" translate="no">mouseMove</a>(), <a href="qml-qttest-testcase.html#mouseRelease-method" translate="no">mouseRelease</a>(), and <a href="qml-qttest-testcase.html#mouseWheel-method" translate="no">mouseWheel</a>().</p>
</div></div><!-- @@@mouseDrag -->
<br/>
<!-- $$$mouseMove[overload1]$$$mouseMove -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="mouseMove-method">
<td class="tblQmlFuncNode"><p>
<span class="name">mouseMove</span>(<i>item</i>, <i>x</i> = item.width / 2, <i>y</i> = item.height / 2, <i>delay</i> = -1, <i>buttons</i> = Qt.NoButton)</p></td></tr>
</table></div></div>
<div class="qmldoc"><p>Moves the mouse pointer to the position given by <i translate="no">x</i> and <i translate="no">y</i> within <i translate="no">item</i>, while holding <i translate="no">buttons</i> if given. Since Qt 6.0, if <i translate="no">x</i> and <i translate="no">y</i> are not defined, the position will be the center of <i translate="no">item</i>.</p>
<p>If a <i translate="no">delay</i> (in milliseconds) is given, the test will wait before moving the mouse pointer.</p>
<p>The position given by <i translate="no">x</i> and <i translate="no">y</i> is transformed from the co-ordinate system of <i translate="no">item</i> into window co-ordinates and then delivered. If <i translate="no">item</i> is obscured by another item, or a child of <i translate="no">item</i> occupies that position, then the event will be delivered to the other item instead.</p>
<p><b>See also </b><a href="qml-qttest-testcase.html#mousePress-method" translate="no">mousePress</a>(), <a href="qml-qttest-testcase.html#mouseRelease-method" translate="no">mouseRelease</a>(), <a href="qml-qttest-testcase.html#mouseClick-method" translate="no">mouseClick</a>(), <a href="qml-qttest-testcase.html#mouseDoubleClickSequence-method" translate="no">mouseDoubleClickSequence</a>(), <a href="qml-qttest-testcase.html#mouseDrag-method" translate="no">mouseDrag</a>(), and <a href="qml-qttest-testcase.html#mouseWheel-method" translate="no">mouseWheel</a>().</p>
</div></div><!-- @@@mouseMove -->
<br/>
<!-- $$$mousePress[overload1]$$$mousePress -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="mousePress-method">
<td class="tblQmlFuncNode"><p>
<span class="name">mousePress</span>(<i>item</i>, <i>x</i> = item.width / 2, <i>y</i> = item.height / 2, <i>button</i> = Qt.LeftButton, <i>modifiers</i> = Qt.NoModifier, <i>delay</i> = -1)</p></td></tr>
</table></div></div>
<div class="qmldoc"><p>Simulates pressing a mouse <i translate="no">button</i> with optional <i translate="no">modifiers</i> on an <i translate="no">item</i>. The position is defined by <i translate="no">x</i> and <i translate="no">y</i>. If <i translate="no">x</i> or <i translate="no">y</i> are not defined the position will be the center of <i translate="no">item</i>. If <i translate="no">delay</i> is specified, the test will wait for the specified amount of milliseconds before the press.</p>
<p>The position given by <i translate="no">x</i> and <i translate="no">y</i> is transformed from the co-ordinate system of <i translate="no">item</i> into window co-ordinates and then delivered. If <i translate="no">item</i> is obscured by another item, or a child of <i translate="no">item</i> occupies that position, then the event will be delivered to the other item instead.</p>
<p><b>See also </b><a href="qml-qttest-testcase.html#mouseRelease-method" translate="no">mouseRelease</a>(), <a href="qml-qttest-testcase.html#mouseClick-method" translate="no">mouseClick</a>(), <a href="qml-qttest-testcase.html#mouseDoubleClickSequence-method" translate="no">mouseDoubleClickSequence</a>(), <a href="qml-qttest-testcase.html#mouseMove-method" translate="no">mouseMove</a>(), <a href="qml-qttest-testcase.html#mouseDrag-method" translate="no">mouseDrag</a>(), and <a href="qml-qttest-testcase.html#mouseWheel-method" translate="no">mouseWheel</a>().</p>
</div></div><!-- @@@mousePress -->
<br/>
<!-- $$$mouseRelease[overload1]$$$mouseRelease -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="mouseRelease-method">
<td class="tblQmlFuncNode"><p>
<span class="name">mouseRelease</span>(<i>item</i>, <i>x</i> = item.width / 2, <i>y</i> = item.height / 2, <i>button</i> = Qt.LeftButton, <i>modifiers</i> = Qt.NoModifier, <i>delay</i> = -1)</p></td></tr>
</table></div></div>
<div class="qmldoc"><p>Simulates releasing a mouse <i translate="no">button</i> with optional <i translate="no">modifiers</i> on an <i translate="no">item</i>. The position of the release is defined by <i translate="no">x</i> and <i translate="no">y</i>. If <i translate="no">x</i> or <i translate="no">y</i> are not defined the position will be the center of <i translate="no">item</i>. If <i translate="no">delay</i> is specified, the test will wait for the specified amount of milliseconds before releasing the button.</p>
<p>The position given by <i translate="no">x</i> and <i translate="no">y</i> is transformed from the co-ordinate system of <i translate="no">item</i> into window co-ordinates and then delivered. If <i translate="no">item</i> is obscured by another item, or a child of <i translate="no">item</i> occupies that position, then the event will be delivered to the other item instead.</p>
<p><b>See also </b><a href="qml-qttest-testcase.html#mousePress-method" translate="no">mousePress</a>(), <a href="qml-qttest-testcase.html#mouseClick-method" translate="no">mouseClick</a>(), <a href="qml-qttest-testcase.html#mouseDoubleClickSequence-method" translate="no">mouseDoubleClickSequence</a>(), <a href="qml-qttest-testcase.html#mouseMove-method" translate="no">mouseMove</a>(), <a href="qml-qttest-testcase.html#mouseDrag-method" translate="no">mouseDrag</a>(), and <a href="qml-qttest-testcase.html#mouseWheel-method" translate="no">mouseWheel</a>().</p>
</div></div><!-- @@@mouseRelease -->
<br/>
<!-- $$$mouseWheel[overload1]$$$mouseWheel -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="mouseWheel-method">
<td class="tblQmlFuncNode"><p>
<span class="name">mouseWheel</span>(<i>item</i>, <i>x</i>, <i>y</i>, <i>xDelta</i>, <i>yDelta</i>, <i>button</i> = Qt.LeftButton, <i>modifiers</i> = Qt.NoModifier, <i>delay</i> = -1)</p></td></tr>
</table></div></div>
<div class="qmldoc"><p>Simulates rotating the mouse wheel on an <i translate="no">item</i> with <i translate="no">button</i> pressed and optional <i translate="no">modifiers</i>. The position of the wheel event is defined by <i translate="no">x</i> and <i translate="no">y</i>. If <i translate="no">delay</i> is specified, the test will wait for the specified amount of milliseconds before releasing the button.</p>
<p>The position given by <i translate="no">x</i> and <i translate="no">y</i> is transformed from the co-ordinate system of <i translate="no">item</i> into window co-ordinates and then delivered. If <i translate="no">item</i> is obscured by another item, or a child of <i translate="no">item</i> occupies that position, then the event will be delivered to the other item instead.</p>
<p>The <i translate="no">xDelta</i> and <i translate="no">yDelta</i> contain the wheel rotation distance in eighths of a degree. see <a href="../qtgui/qwheelevent.html#angleDelta" translate="no">QWheelEvent::angleDelta</a>() for more details.</p>
<p><b>See also </b><a href="qml-qttest-testcase.html#mousePress-method" translate="no">mousePress</a>(), <a href="qml-qttest-testcase.html#mouseClick-method" translate="no">mouseClick</a>(), <a href="qml-qttest-testcase.html#mouseDoubleClickSequence-method" translate="no">mouseDoubleClickSequence</a>(), <a href="qml-qttest-testcase.html#mouseMove-method" translate="no">mouseMove</a>(), <a href="qml-qttest-testcase.html#mouseRelease-method" translate="no">mouseRelease</a>(), <a href="qml-qttest-testcase.html#mouseDrag-method" translate="no">mouseDrag</a>(), and <a href="../qtgui/qwheelevent.html#angleDelta" translate="no">QWheelEvent::angleDelta</a>().</p>
</div></div><!-- @@@mouseWheel -->
<br/>
<!-- $$$skip[overload1]$$$skip -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="skip-method">
<td class="tblQmlFuncNode"><p>
<span class="name">skip</span>(<i>message</i> = &quot;&quot;)</p></td></tr>
</table></div></div>
<div class="qmldoc"><p>Skips the current test case and prints the optional <i translate="no">message</i>. If this is a data-driven test, then only the current row is skipped. Similar to <code translate="no">QSKIP(message)</code> in C++.</p>
</div></div><!-- @@@skip -->
<br/>
<!-- $$$sleep[overload1]$$$sleep -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="sleep-method">
<td class="tblQmlFuncNode"><p>
<span class="name">sleep</span>(<i>ms</i>)</p></td></tr>
</table></div></div>
<div class="qmldoc"><p>Sleeps for <i translate="no">ms</i> milliseconds without processing Qt events.</p>
<p><b>See also </b><a href="qml-qttest-testcase.html#wait-method" translate="no">wait</a>() and <a href="qml-qttest-testcase.html#waitForRendering-method" translate="no">waitForRendering</a>().</p>
</div></div><!-- @@@sleep -->
<br/>
<!-- $$$touchEvent[overload1]$$$touchEventobject -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="touchEvent-method">
<td class="tblQmlFuncNode"><p>
<span class="type"><a href="qml-qttest-toucheventsequence.html" translate="no">TouchEventSequence</a></span> <span class="name">touchEvent</span>(<span class="type">object</span> <i>item</i>)</p></td></tr>
</table></div></div>
<div class="qmldoc"><p>Begins a sequence of touch events through a simulated touchscreen (<a href="../qtgui/qpointingdevice.html" translate="no">QPointingDevice</a>). Events are delivered to the window containing <i translate="no">item</i>.</p>
<p>The returned object is used to enumerate events to be delivered through a single <a href="../qtgui/qtouchevent.html" translate="no">QTouchEvent</a>. Touches are delivered to the window containing the <a href="qml-qttest-testcase.html" translate="no">TestCase</a> unless otherwise specified.</p>
<pre class="cpp" translate="no">
 <span class="type"><a href="../qtquick/qml-qtquick-rectangle.html" translate="no">Rectangle</a></span> {
     <span class="name">width</span>: <span class="number">640</span>; <span class="name">height</span>: <span class="number">480</span>

     <span class="type"><a href="../qtquick/qml-qtquick-multipointtoucharea.html" translate="no">MultiPointTouchArea</a></span> {
         <span class="name">id</span>: <span class="name">area</span>
         <span class="name">anchors</span>.fill: <span class="name">parent</span>

         property <span class="type"><a href="../qtqml/qml-bool.html" translate="no">bool</a></span> <span class="name">touched</span>: <span class="number">false</span>

         <span class="name">onPressed</span>: <span class="name">touched</span> <span class="operator">=</span> <span class="number">true</span>
     }

     <span class="type"><a href="qml-qttest-testcase.html" translate="no">TestCase</a></span> {
         <span class="name">name</span>: <span class="string">&quot;ItemTests&quot;</span>
         <span class="name">when</span>: <span class="name">windowShown</span>
         <span class="name">id</span>: <span class="name">test1</span>

         <span class="keyword">function </span><span class="name">test_touch</span>() {
             let touch = <span class="name">touchEvent</span>(<span class="name">area</span>);
             <span class="name">touch</span>.<span class="name">press</span>(<span class="number">0</span>, <span class="name">area</span>, <span class="number">10</span>, <span class="number">10</span>);
             <span class="name">touch</span>.<span class="name">commit</span>();
             <span class="name">verify</span>(<span class="name">area</span>.<span class="name">touched</span>);
         }
     }
 }
</pre>
<p><b>See also </b><a href="qml-qttest-toucheventsequence.html#press-method" translate="no">TouchEventSequence::press</a>(), <a href="qml-qttest-toucheventsequence.html#move-method" translate="no">TouchEventSequence::move</a>(), <a href="qml-qttest-toucheventsequence.html#release-method" translate="no">TouchEventSequence::release</a>(), <a href="qml-qttest-toucheventsequence.html#stationary-method" translate="no">TouchEventSequence::stationary</a>(), <a href="qml-qttest-toucheventsequence.html#commit-method" translate="no">TouchEventSequence::commit</a>(), and <a href="../qtgui/qinputdevice.html#DeviceType-enum" translate="no">QInputDevice::DeviceType</a>.</p>
</div></div><!-- @@@touchEvent -->
<br/>
<!-- $$$tryCompare[overload1]$$$tryCompare -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="tryCompare-method">
<td class="tblQmlFuncNode"><p>
<span class="name">tryCompare</span>(<i>obj</i>, <i>property</i>, <i>expected</i>, <i>timeout</i> = 5000, <i>message</i> = &quot;&quot;)</p></td></tr>
</table></div></div>
<div class="qmldoc"><p>Fails the current test case if the specified <i translate="no">property</i> on <i translate="no">obj</i> is not the same as <i translate="no">expected</i>, and displays the optional <i translate="no">message</i>. The test will be retried multiple times until the <i translate="no">timeout</i> (in milliseconds) is reached.</p>
<p>This function is intended for testing applications where a property changes value based on asynchronous events. Use <a href="qml-qttest-testcase.html#compare-method" translate="no">compare</a>() for testing synchronous property changes.</p>
<pre class="cpp" translate="no">
 tryCompare(img<span class="operator">,</span> <span class="string">&quot;status&quot;</span><span class="operator">,</span> BorderImage<span class="operator">.</span>Ready)
 compare(img<span class="operator">.</span>width<span class="operator">,</span> <span class="number">120</span>)
 compare(img<span class="operator">.</span>height<span class="operator">,</span> <span class="number">120</span>)
 compare(img<span class="operator">.</span>horizontalTileMode<span class="operator">,</span> BorderImage<span class="operator">.</span>Stretch)
 compare(img<span class="operator">.</span>verticalTileMode<span class="operator">,</span> BorderImage<span class="operator">.</span>Stretch)
</pre>
<p><a href="qml-qttest-signalspy.html#wait-method" translate="no">SignalSpy::wait</a>() provides an alternative method to wait for a signal to be emitted.</p>
<p><b>See also </b><a href="qml-qttest-testcase.html#compare-method" translate="no">compare</a>() and <a href="qml-qttest-signalspy.html#wait-method" translate="no">SignalSpy::wait</a>().</p>
</div></div><!-- @@@tryCompare -->
<br/>
<!-- $$$tryVerify[overload1]$$$tryVerify -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="tryVerify-method">
<td class="tblQmlFuncNode"><p>
<span class="name">tryVerify</span>(<i>function</i>, <i>timeout</i> = 5000, <i>message</i> = &quot;&quot;)</p></td></tr>
</table></div></div>
<div class="qmldoc"><p>Fails the current test case if <i translate="no">function</i> does not evaluate to <code translate="no">true</code> before the specified <i translate="no">timeout</i> (in milliseconds) has elapsed. The function is evaluated multiple times until the timeout is reached. An optional <i translate="no">message</i> is displayed upon failure.</p>
<p>This function is intended for testing applications where a condition changes based on asynchronous events. Use <a href="qml-qttest-testcase.html#verify-method" translate="no">verify</a>() for testing synchronous condition changes, and <a href="qml-qttest-testcase.html#tryCompare-method" translate="no">tryCompare</a>() for testing asynchronous property changes.</p>
<p>For example, in the code below, it's not possible to use <a href="qml-qttest-testcase.html#tryCompare-method" translate="no">tryCompare</a>(), because the <code translate="no">currentItem</code> property might be <code translate="no">null</code> for a short period of time:</p>
<pre class="cpp" translate="no">
 tryCompare(listView<span class="operator">.</span>currentItem<span class="operator">,</span> <span class="string">&quot;text&quot;</span><span class="operator">,</span> <span class="string">&quot;Hello&quot;</span>);
</pre>
<p>Instead, we can use tryVerify() to first check that <code translate="no">currentItem</code> isn't <code translate="no">null</code>, and then use a regular compare afterwards:</p>
<pre class="cpp" translate="no">
 tryVerify(function(){ <span class="keyword">return</span> listView<span class="operator">.</span>currentItem })
 compare(listView<span class="operator">.</span>currentItem<span class="operator">.</span>text<span class="operator">,</span> <span class="string">&quot;Hello&quot;</span>)
</pre>
<p><b>See also </b><a href="qml-qttest-testcase.html#verify-method" translate="no">verify</a>(), <a href="qml-qttest-testcase.html#compare-method" translate="no">compare</a>(), <a href="qml-qttest-testcase.html#tryCompare-method" translate="no">tryCompare</a>(), and <a href="qml-qttest-signalspy.html#wait-method" translate="no">SignalSpy::wait</a>().</p>
</div></div><!-- @@@tryVerify -->
<br/>
<!-- $$$verify[overload1]$$$verify -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="verify-method">
<td class="tblQmlFuncNode"><p>
<span class="name">verify</span>(<i>condition</i>, <i>message</i> = &quot;&quot;)</p></td></tr>
</table></div></div>
<div class="qmldoc"><p>Fails the current test case if <i translate="no">condition</i> is false, and displays the optional <i translate="no">message</i>. Similar to <code translate="no">QVERIFY(condition)</code> or <code translate="no">QVERIFY2(condition, message)</code> in C++.</p>
</div></div><!-- @@@verify -->
<br/>
<!-- $$$wait[overload1]$$$wait -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="wait-method">
<td class="tblQmlFuncNode"><p>
<span class="name">wait</span>(<i>ms</i>)</p></td></tr>
</table></div></div>
<div class="qmldoc"><p>Waits for <i translate="no">ms</i> milliseconds while processing Qt events.</p>
<div class="admonition note">
<p><b>Note: </b>This methods uses a precise timer to do the actual waiting. The event you are waiting for may not. In particular, any animations as well as the <a href="../qtqml/qml-qtqml-timer.html" translate="no">Timer</a> QML type can use either precise or coarse timers, depending on various factors. For a coarse timer you have to expect a drift of around 5% in relation to the precise timer used by TestCase::wait(). Qt cannot give hard guarantees on the drift, though, because the operating system usually doesn't offer hard guarantees on timers.</p>
</div>
<p><b>See also </b><a href="qml-qttest-testcase.html#sleep-method" translate="no">sleep</a>(), <a href="qml-qttest-testcase.html#waitForRendering-method" translate="no">waitForRendering</a>(), and <a href="../qtcore/qt.html#TimerType-enum" translate="no">Qt::TimerType</a>.</p>
</div></div><!-- @@@wait -->
<br/>
<!-- $$$waitForPolish[overload1]$$$waitForPolishobjectint -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="waitForPolish-method">
<td class="tblQmlFuncNode"><p>
<code class="details extra" translate="no">[since 6.5]</code> <span class="type"><a href="../qtqml/qml-bool.html" translate="no">bool</a></span> <span class="name">waitForPolish</span>(<span class="type">object</span> <i>windowOrItem</i>, <span class="type"><a href="../qtqml/qml-int.html" translate="no">int</a></span> <i>timeout</i> = 5000)</p></td></tr>
</table></div></div>
<div class="qmldoc"><p>If <i translate="no">windowOrItem</i> is an Item, this functions waits for <i translate="no">timeout</i> milliseconds or until <code translate="no">isPolishScheduled(windowOrItem)</code> returns <code translate="no">false</code>. Returns <code translate="no">true</code> if <code translate="no">isPolishScheduled(windowOrItem)</code> returns <code translate="no">false</code> within <i translate="no">timeout</i> milliseconds, otherwise returns <code translate="no">false</code>.</p>
<p>If <code translate="no">windowOrItem</code> is a Window, this functions waits for <code translate="no">timeout</code> milliseconds or until <code translate="no">isPolishScheduled()</code> returns <code translate="no">false</code> for all items managed by the window. Returns <code translate="no">true</code> if <code translate="no">isPolishScheduled()</code> returns <code translate="no">false</code> for all items within <i translate="no">timeout</i> milliseconds, otherwise returns <code translate="no">false</code>.</p>
<p>This method was introduced in Qt 6.5.</p>
<p><b>See also </b><a href="qml-qttest-testcase.html#isPolishScheduled-method" translate="no">isPolishScheduled</a>(), <a href="../qtquick/qquickitem.html#polish" translate="no">QQuickItem::polish</a>(), and <a href="../qtquick/qquickitem.html#updatePolish" translate="no">QQuickItem::updatePolish</a>().</p>
</div></div><!-- @@@waitForPolish -->
<br/>
<!-- $$$waitForRendering[overload1]$$$waitForRendering -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="waitForRendering-method">
<td class="tblQmlFuncNode"><p>
<span class="name">waitForRendering</span>(<i>item</i>, <i>timeout</i> = 5000)</p></td></tr>
</table></div></div>
<div class="qmldoc"><p>Waits for <i translate="no">timeout</i> milliseconds or until the <i translate="no">item</i> is rendered by the renderer. Returns true if <code translate="no">item</code> is rendered in <i translate="no">timeout</i> milliseconds, otherwise returns false. The default <i translate="no">timeout</i> value is 5000.</p>
<p><b>See also </b><a href="qml-qttest-testcase.html#sleep-method" translate="no">sleep</a>() and <a href="qml-qttest-testcase.html#wait-method" translate="no">wait</a>().</p>
</div></div><!-- @@@waitForRendering -->
<br/>
<!-- $$$warn[overload1]$$$warn -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="warn-method">
<td class="tblQmlFuncNode"><p>
<span class="name">warn</span>(<i>message</i>)</p></td></tr>
</table></div></div>
<div class="qmldoc"><p>Prints <i translate="no">message</i> as a warning message. Similar to <code translate="no">qWarning(message)</code> in C++.</p>
<p><b>See also </b><a href="qml-qttest-testcase.html#ignoreWarning-method" translate="no">ignoreWarning</a>().</p>
</div></div><!-- @@@warn -->
<br/>
        </div>
       </div>
   </div>
   </div>
</div>
<div class="footer">
   <p>
   <acronym title="Copyright">&copy;</acronym> 2024 <span translate="no">The Qt Company Ltd.</span>
   Documentation contributions included herein are the copyrights of
   their respective owners.<br/>    The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the <span translate="no">Free Software Foundation</span>.<br/>    <span translate="no">Qt</span> and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of <span translate="no">The Qt Company Ltd.</span> in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>
</div>
</body>
</html>
